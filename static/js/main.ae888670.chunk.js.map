{"version":3,"sources":["entities/editor.js","entities/shexEntities/types/type.js","entities/shexEntities/shexUtils/prefix.js","entities/shexEntities/types/concreteTypes/prefixedIri.js","entities/shexEntities/types/concreteTypes/iriRef.js","entities/shexEntities/types/concreteTypes/bNode.js","entities/shexEntities/types/concreteTypes/primitive.js","entities/shexEntities/types/concreteTypes/shapeReference.js","entities/shexEntities/types/concreteTypes/kinds/literal.js","entities/shexEntities/types/concreteTypes/kinds/nonLiteral.js","entities/shexEntities/types/concreteTypes/kinds/iriKind.js","entities/shexEntities/types/concreteTypes/kinds/bNodeKind.js","entities/shexEntities/types/typesFactory.js","entities/shexEntities/types/concreteTypes/kinds/blankKind.js","entities/shexEntities/shape.js","utils/shexUtils.js","utils/tokenUtils.js","entities/shexEntities/shexUtils/inlineShape.js","entities/shexEntities/triple.js","utils/yasheUtils.js","components/EditorComp.js","components/shexComponents/types/concrete/IriComp.js","components/shexComponents/types/concrete/PrefixedComp.js","utils/prefixUtils.js","components/shexComponents/types/concrete/BNodeComp.js","components/shexComponents/types/concrete/PrimitiveComp.js","components/shexComponents/utils/Qualifier.js","components/shexComponents/types/concrete/ShapeRefComp.js","components/shexComponents/types/ComponentTypeFactory.js","components/shexComponents/types/TripleTypeComp.js","components/shexComponents/types/ValueTypeComp.js","components/shexComponents/utils/CardinalityComp.js","components/shexComponents/ValueComponent.js","components/shexComponents/TripleComponent.js","components/shexComponents/types/ShapeTypeComp.js","components/shexComponents/ShapeComponent.js","components/AssistantComp.js","components/VisualizeComp.js","components/navComponents/PrefixSelector.js","utils/rdfUtils.js","examples/defaultExample.js","examples/wikiExample.js","components/navComponents/LateralNav.js","components/navComponents/Nav.js","App.js","serviceWorker.js","index.js","logo.svg"],"names":["Editor","EditorClass","this","getYashe","yashe","setYashe","getPrefixes","definedPrefixes","getInstance","getDefinedPrefixes","prefixes","pre","draw","shapes","newContent","forEach","element","toString","setValue","instance","Type","value","Prefix","prefixName","prefixValue","PrefixedIri","context","prefix","getPrefix","getPrefixName","getValue","IriRef","BNode","Primitive","ShapeReference","Literal","NonLiteral","IriKind","BNodeKind","TypesFactory","type","retType","BlankKind","Shape","id","IrirRef","triples","qualifier","triplesCount","length","factory","triple","push","tripleId","filter","obj","createType","str","shapesCount","emit","newShapes","undefined","Codemirror","signal","inlines","shexUtils","addShape","newShape","Object","assign","deleteShape","shapeId","confirm","window","shape","getShapeById","getShapeByName","name","s","getType","getTripleById","getTriples","InlineShape","Triple","inlineShape","cardinality","values","valuesCount","getInlineShape","getCardinality","PRIMITIVES","getTriple","singleTriple","inlineName","ref","index","token","string","getInlineName","getTypeName","def","toLowerCase","startsWith","split","prim","isPrimitive","getPrefixValue","defPrefixes","getNonWsTokens","tokens","tokenUtils","getTokens","l","keys","lineCount","getLineTokens","getDefinedShapes","brackets","defShapes","getShapes","shapeType","getQualifier","i","getStart","updateInlines","inShape","shapeRef","setShape","yasheUtils","DEFAULT_SHAPE","replaceShapes","updatePrefixes","newPrefixes","key","val","EditorComp","useState","divRef","useRef","useContext","ShapesContext","darkStyle","background","lightStyle","style","setStyle","theme","useEffect","options","persistent","lineNumbers","viewportMargin","Infinity","y","YASHE","current","on","hasErrors","changeThemeStyle","setTimeout","refresh","className","IriComp","props","initialValue","onChange","e","target","PrefixedComp","initialPrefix","setPrefix","getPrefixContex","defined","map","BNodeComp","primitives","PrimitiveComp","Qualifier","scope","valueType","setValueType","newType","setQualifier","ShapeRefComp","inlineValue","setInlineShape","inlineSelector","ComponentTypeFactory","TripleTypeComp","deleteTriple","handeCollapse","setType","collapseBtn","setCollapseBtn","onClick","ValueTypeComp","event","CardinalityComp","setCardinality","ValueComponent","TripleComponent","isOpen","setIsOpen","Collapse","currentStyle","ShapeTypeComp","collapse","colapseBtn","setColapseBtn","ShapeComponent","setTriples","isTriplesOpen","setTriplesOpen","isQualiOpen","setQualiOpen","newTriples","timeout","getTriplesCount","addTriple","AssistantComp","VisualizeComp","svg","dangerouslySetInnerHTML","__html","PrefixSelector","namespaces","handleChange","uri","p","ALL_PREFIXES","Wikidata","wikibase","wd","wdt","wdtn","wds","wdref","wdv","ps","psv","psn","pq","pqv","pqn","pr","prv","prn","wdno","wdata","W3C","rdfs","rdf","owl","skos","xsd","prov","schema","geo","geof","Blazegraph","bd","bds","gas","hint","defaultExample","wikiExample","Nav","assistantToggle","visualizeToggle","loadExample","example","title","data-toggle","undo","redo","evt","file","files","reader","FileReader","onload","result","readAsText","accept","data-multiple-caption","multiple","htmlFor","xmlns","width","height","viewBox","d","textFileAsBlob","Blob","downloadLink","document","createElement","download","innerHTML","URL","href","createObjectURL","display","body","appendChild","click","baseProfile","themeValue","getOption","getElementById","classList","add","remove","setOption","fill","scrollTo","colapseAll","React","createContext","App","setShapes","setSvg","setPrefixes","isAssistantOpen","setAssistantOpen","isVisualizeOpen","setVisualizeOpen","isLateralNavOpen","setLateralNavOpen","color","visualize","bodyFormData","FormData","set","getSchema","axios","method","url","data","config","headers","then","response","catch","console","log","Provider","LateralNav","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.ae888670.chunk.js","sourcesContent":["import YASHE from 'yashe';\n\n//Singleton Pattern\nconst Editor = (()=> {\n\n    function EditorClass(){\n\n    \n        this.getYashe = function () {\n            return this.yashe;\n        }\n\n        this.setYashe =  function (yashe) {\n            this.yashe = yashe;\n        }\n\n\n         this.getPrefixes = function () {\n                let yashe = Editor.getInstance().getYashe();\n                let definedPrefixes = yashe.getDefinedPrefixes();\n                let prefixes='';\n                for(let pre in definedPrefixes){\n                    prefixes+='PREFIX '+pre+':    <'+definedPrefixes[pre]+'>\\n';\n                }\n                prefixes+='\\n';\n                return prefixes;\n        }\n\n        this.draw = function(shapes){\n            let newContent = this.getPrefixes();\n            shapes.forEach(element =>{\n                newContent += element.toString()\n            });\n            this.getYashe().setValue(newContent);\n        }\n\n    }\n\n   \n\n    let instance;\n\n    return{\n        getInstance: ()=>{\n            if(!instance){\n                instance = new EditorClass();\n            }\n            return instance;\n        }\n\n    }\n\n})();\n\n\nexport default Editor;","class Type{\n\n    constructor(value){\n        this.value = value;\n    }\n\n    getValue(){\n        return this.value;\n    }\n\n    setValue(value){\n        this.value = value;\n    }\n\n\n}\n\nexport default Type;","class Prefix {\n\n    constructor(prefixName='',prefixValue='http://example.org/'){\n        this.prefixName = prefixName;\n        this.prefixValue = prefixValue;\n    }\n\n\n    getPrefixName(){\n        return this.prefixName;\n    }\n\n    getPrefixValue(){\n        return this.prefixValue;\n    }\n\n}\n\nexport default Prefix;","import Type from '../type';\nimport Prefix from '../../shexUtils/prefix';\n\nclass PrefixedIri extends Type{\n\n    constructor(context,prefix=new Prefix(),value=''){\n        super(value);\n        this.context = context;\n        this.prefix = prefix;\n    }\n\n    getPrefix(){\n        return this.prefix;\n    }\n\n    setPrefix(prefix){\n        this.prefix = prefix;\n    }\n\n\n    getTypeName(){\n        return 'prefixedIri';\n    }\n\n\n    toString(){\n        return this.getPrefix().getPrefixName()+':'+this.getValue();\n    }\n\n}\n\nexport default PrefixedIri;","import Type from '../type';\nimport Editor from'../../../editor';\n\nclass IriRef extends Type{\n\n    constructor(context,value=''){\n        super(value);\n        this.context = context;\n    }\n\n    getTypeName(){\n        return 'iriRef';\n    }\n\n\n    toString(){\n        return '<'+this.getValue()+'>';\n    }\n\n\n}\n\nexport default IriRef;","import Type from '../type';\n\nclass BNode extends Type{\n\n    constructor(context,value='example'){\n        super(value);\n        this.context = context;\n    }\n\n\n    getTypeName(){\n        return 'bnodeType';\n    }\n\n\n    toString(){\n        return '_:'+this.getValue();\n    }\n\n}\n\n\n\nexport default BNode;","import Type from '../type';\n\nconst PRIMITIVES = ['String','Integer','Date','Boolean'];\n\nclass Primitive extends Type{\n\n     constructor(value='string'){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'primitive';\n    }\n\n    toString(){\n        return 'xsd:'+this.getValue();\n    }\n\n\n\n}\n\nexport default Primitive;","import Type from '../type';\n\nclass ShapeReference extends Type{\n\n    constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'shape';\n    }\n\n    setValue(value){\n        this.value=value;\n    }\n\n    toString(){\n        return this.value;\n    }\n\n\n}\n\n\nexport default ShapeReference;","import Type from '../../type';\n\nclass Literal extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'literal';\n    }\n\n    toString(){\n        return 'Literal';\n    }\n\n\n\n}\n\nexport default Literal;","import Type from '../../type';\n\nclass NonLiteral extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'nonliteralKind';\n    }\n\n    toString(){\n        return 'NONLITERAL';\n    }\n\n\n\n}\n\nexport default NonLiteral;","import Type from '../../type';\n\nclass IriKind extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'iri';\n    }\n\n    toString(){\n        return 'IRI';\n    }\n\n\n\n}\n\nexport default IriKind;","import Type from '../../type';\n\nclass BNodeKind extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'bnode';\n    }\n\n    toString(){\n        return 'BNODE';\n    }\n\n\n\n}\n\nexport default BNodeKind;","import PrefixedIri from'./concreteTypes/prefixedIri';\nimport IriRef from'./concreteTypes/iriRef';\nimport BNode from'./concreteTypes/bNode';\nimport Primitive from'./concreteTypes/primitive';\nimport ShapeReference from'./concreteTypes/shapeReference';\n\nimport Literal from'./concreteTypes/kinds/literal';\nimport NonLiteral from'./concreteTypes/kinds/nonLiteral';\nimport IriKind from'./concreteTypes/kinds/iriKind';\nimport BNodeKind from'./concreteTypes/kinds/bNodeKind';\n\nclass TypesFactory{\n\n    createType(type,context){\n\n        let retType;\n        if(type == 'iriRef'){\n            retType = new IriRef(context);\n        }\n        \n        if(type == 'prefixedIri'){\n            retType = new PrefixedIri(context);\n        }\n\n        if(type == 'bnodeType'){\n            retType = new BNode(context);\n        }\n\n        if(type == 'primitive'){\n            retType = new Primitive();\n        }\n\n        if(type == 'shape'){\n            retType = new ShapeReference('');\n        }\n\n        if(type == 'literal'){\n            retType = new Literal(context);\n        }\n\n        if(type == 'nonliteral'){\n            retType = new NonLiteral(context);\n        }\n\n        if(type == 'iri'){\n            retType = new IriKind(context);\n        }\n\n        if(type == 'bnode'){\n            retType = new BNodeKind(context);\n        }\n \n\n        return retType;\n\n    }\n\n\n}\n\nexport default TypesFactory;","import Type from '../../type';\n\nclass BlankKind extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'blank';\n    }\n\n    toString(){\n        return '';\n    }\n\n\n\n}\n\nexport default BlankKind;","import TypesFactory from './types/typesFactory';\n\nimport IrirRef from './types/concreteTypes/iriRef';\nimport BlankKind from './types/concreteTypes/kinds/blankKind';\n\nclass Shape {\n\n  constructor(id,type=new IrirRef('shapeName'),triples = [],qualifier=new BlankKind()) {\n      this.id = id;\n      this.type = type;\n      this.triples = triples;\n      this.triplesCount = this.triples.length;\n      this.factory = new TypesFactory();\n      this.qualifier = qualifier;\n    }\n\n    addTriple(triple){\n        this.triples.push(triple);\n        this.triplesCount++;\n    }\n\n    removeTriple(tripleId){\n      this.triples = this.triples.filter(function( obj ) {\n        return obj.id != tripleId\n      });\n    }\n\n    getTriplesCount(){\n      return this.triplesCount;\n    }\n\n\n    getId(){\n      return this.id;\n    }\n\n    getType(){\n      return this.type; \n    }\n\n\n    getTriples() {\n        return this.triples;\n     }\n\n    setTriples(triples){\n      this.triples = triples;\n    }\n\n    getQualifier() {\n        return this.qualifier;\n     }\n\n    setQualifier(qualifier){\n      this.qualifier = this.factory.createType(qualifier,'shapeName');\n    }\n    \n\n    setType(type){\n        this.type = this.factory.createType(type,'shapeName');\n     }\n\n\n     toString(){\n    \n      let str = this.type+' '+this.qualifier+' {\\n'\n      this.triples.forEach(triple => {\n        str+=triple;\n      });\n\n      str+=\"}\\n\\n\"\n      return str\n\n     }\n\n\n  }\n\nexport default Shape;","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport Shape from '../entities/shexEntities/shape';\n\nlet shapesCount = 0;\n\nfunction addShape (shapes){\n\n    const id = shapes.length + shapesCount++;\n    const newShape = new Shape(id);\n    \n    let newShapes = [];\n    newShapes = Object.assign(newShapes, shapes);\n    newShapes.push(newShape)\n     emit(newShapes);\n     return newShape;    \n}\n\nfunction deleteShape(shapes,shapeId,confirm) {\n    if(!confirm){\n        confirm = window.confirm('Are you sure?');\n    }\n    if (confirm == true) {\n        const newShapes = shapes.filter(shape => shape.id != shapeId);\n        emit(newShapes);\n        return newShapes;\n    }\n    return shapes;\n}\n\nfunction getShapeById(shapes,shapeId) {\n    return shapes.filter(function( obj ) {\n        return obj.id == shapeId\n    })[0];\n}\n\nfunction getShapeByName(shapes,name) {\n    for(let s in shapes){\n        if(shapes[s].getType().getValue() == name){\n            return shapes[s];\n        }\n    }\n}\n\n\nfunction getTripleById(shape,tripleId) {\n    return shape.getTriples().filter(function( obj ) {\n        return obj.id == tripleId\n    })[0];\n}\n\n\nfunction emit(newShapes) {\n    const yashe = Editor.getInstance().getYashe();\n    if(yashe!=undefined){\n        Codemirror.signal(yashe,'humanEvent',newShapes);\n    }\n}\n\n\nconst shexUtils = {\n    addShape:addShape,\n    deleteShape:deleteShape,\n    getShapeById:getShapeById,\n    getShapeByName:getShapeByName,\n    getTripleById:getTripleById,\n    emit:emit\n}\n\nexport default shexUtils;","import shexUtils from './shexUtils';\n\nimport Editor from '../entities/editor';\n\nimport  Shape from '../entities/shexEntities/shape';\nimport  Triple from '../entities/shexEntities/triple';\n\nimport TypesFactory from '../entities/shexEntities/types/typesFactory';\n\nimport PrefixedIri from '../entities/shexEntities/types/concreteTypes/prefixedIri';\nimport IriRef from '../entities/shexEntities/types/concreteTypes/iriRef';\nimport BNode from '../entities/shexEntities/types/concreteTypes/bNode';\nimport Primitive from '../entities/shexEntities/types/concreteTypes/primitive';\nimport ShapeReference from '../entities/shexEntities/types/concreteTypes/shapeReference';\n\nimport Literal from '../entities/shexEntities/types/concreteTypes/kinds/literal';\nimport NonLiteral from '../entities/shexEntities/types/concreteTypes/kinds/nonLiteral';\nimport IriKind from '../entities/shexEntities/types/concreteTypes/kinds/iriKind';\nimport BNodeKind from '../entities/shexEntities/types/concreteTypes/kinds/bNodeKind';\nimport BlankKind from '../entities/shexEntities/types/concreteTypes/kinds/blankKind';\n\n\n\nimport Prefix from '../entities/shexEntities/shexUtils/prefix';\n\nimport InlineShape from '../entities/shexEntities/shexUtils/inlineShape';\n\n\n//HAY QUE METER TODOS\nconst PRIMITIVES = ['string','integer','date','boolean'];\nconst CARDINALITY = ['*','?','+'];\n\n\nlet inlines;\n\nfunction getTokens(){\n    let yashe = Editor.getInstance().getYashe();\n    let tokens =[];\n    if(yashe!=undefined){\n        let numPrefixes = Object.keys(yashe.getDefinedPrefixes()).length;\n        for (var l = numPrefixes+1; l < yashe.lineCount(); ++l) {\n            let lineTokens = getNonWsTokens(yashe.getLineTokens(l));\n            lineTokens.forEach(token =>{\n                tokens.push(token);\n            })\n\n        }\n    }\n    return tokens;\n}\n\nfunction getDefinedShapes(tokens){\n    let brackets=0\n    let shape=[];\n    let defShapes = [];\n    //Separate shapes in arrays\n    tokens.forEach(element =>{\n        shape.push(element);\n        if(element.string == '{'){\n            brackets++;\n        }\n\n        if(element.string == '}'){\n            brackets--;\n            //Is the last } ?\n            if(brackets==0){\n                defShapes.push(shape);\n                shape = [];\n            }\n        }\n\n    })\n    return defShapes;\n}\n\n\nfunction getShapes(defShapes){\n    inlines = [];\n    let shapes = [];\n    let yashe = Editor.getInstance().getYashe();\n\n    defShapes.forEach(shape => {\n        let id = shapes.length;\n        let shapeDef = shape[0].string;\n        let shapeType = getType(shapeDef,'shapeName');\n        let qualifier = getQualifier(shape);\n        let triples = getTriples(id,shape);\n\n        shapes.push(new Shape(id,shapeType,triples,qualifier));\n    })\n    return shapes;\n\n}\n\nfunction getQualifier(shape) {\n    if(shape[1].type == 'keyword'){\n        let type = shape[1].string.toLowerCase();\n        return new TypesFactory().createType(type);\n    }\n    return new BlankKind();\n}\n\nfunction getTriples(shapeId,shape) {\n        let triples = [];\n        let singleTriple = [];\n        let yashe = Editor.getInstance().getYashe();\n        let start = getStart(shape);\n        for(let i=start;i<shape.length;i++){\n            singleTriple.push(shape[i])\n            if(shape[i].type == 'punc'){// finish of the triple ';'\n                if(singleTriple.length!=1){ //This line is neccesary when last triple of the shape ends with ';'\n           \n                    triples.push(getTriple(triples,singleTriple,shapeId));\n                    singleTriple = [];\n                }\n            }\n\n        }\n    return triples;\n}\n\nfunction getTriple(triples,singleTriple,shapeId) {\n    let id = triples.length;\n    let type;\n    let value;\n    let cardinality;\n    let inlineShape = new InlineShape();\n    let inlineName;\n    let index = 0;\n    for(let s in singleTriple){\n        let token = singleTriple[s];\n        \n        if(index == 0){\n            type = getType(token.string,'tripleName');\n            \n        }else{\n   \n            if(token.type == 'string-2' || token.type == 'keyword' || token.type == 'variable-3'){\n                value = getValue(token.string);\n            }\n    \n            if(token.type == 'at' ){\n                \n                inlineName = getInlineName(token.string);\n                inlines.push(\n                        {\n                            shapeId:shapeId,\n                            tripleId:id,\n                            inlineName:inlineName\n                        }\n                    );\n            }\n\n            if(token.type == 'card' ){\n                cardinality = token.string;\n            }\n\n        }\n        index++;\n    }\n\n\n    //ShapeRef\n    if(inlineName != undefined){\n        let ref;\n        if(value!= undefined){\n           ref = value.getTypeName();\n        }\n        value = new ShapeReference(ref); \n    }\n\n    return new Triple(id,type,value,inlineShape,cardinality);\n}\n\nfunction getStart(shape){\n    for(let i=0;i<shape.length;i++){\n        if(shape[i].string=='{'){\n            return i+1;\n        }\n    }\n}\n\n\n\nfunction getValue(def) {\n\n    let factory = new TypesFactory();\n    let type = factory.createType(def.toLowerCase());\n\n    if(type!=undefined){\n        return type;\n    }\n\n\n    if(def.startsWith('<')){\n        let value = def.split('<')[1].split('>')[0];\n        return new IriRef('valueName',value);\n    }\n\n    let token = def.split(':');\n    let yashe = Editor.getInstance().getYashe();\n\n    if(token.length==2){\n        //At this point it can be Prefixed,Primitive or ShapeRef\n        if(isPrimitive(token[1])){\n            return new Primitive(token[1]);\n        }else{\n            let prefixName = token[0];\n            let prefixValue = getPrefixValue(yashe.getDefinedPrefixes(),prefixName)\n            let prefix = new Prefix(prefixName,prefixValue);\n            return  new PrefixedIri('valueName',prefix,token[1]);\n        }\n\n    }\n \n}\n\nfunction getType(def,context) {\n    let value;\n    let yashe = Editor.getInstance().getYashe();\n    if(def.startsWith('<')){\n        value = def.split('<')[1].split('>')[0];\n        return new IriRef(context,value);\n    }else if(def.startsWith('_:')){\n        value = def.split(':')[1];\n        return new BNode(context,value);\n    }else{\n        value = def.split(':')[1];\n        let prefixName = def.split(':')[0];\n        let prefixValue = getPrefixValue(yashe.getDefinedPrefixes(),prefixName)\n        let prefix = new Prefix(prefixName,prefixValue);\n        return new PrefixedIri(context,prefix,value);\n    }\n}\n\n\nfunction updateInlines(shapes) {\n\n    for(let inShape in inlines){\n  \n        let shapeId = inlines[inShape].shapeId;\n        let tripleId = inlines[inShape].tripleId;\n        let name = inlines[inShape].inlineName;\n\n        let shape = shexUtils.getShapeById(shapes,shapeId);\n        let triple = shexUtils.getTripleById(shape,tripleId);\n\n        let shapeRef = shexUtils.getShapeByName(shapes,name);\n        triple.getInlineShape().setShape(shapeRef);\n\n    }\n}\n\n\n\nfunction getPrefixValue(defPrefixes,prefixName){\n    let prefixValue;\n    for(let pre in defPrefixes){\n        if(pre==prefixName){\n            prefixValue = defPrefixes[pre]\n        }\n    }\n    return prefixValue;\n}\n\n\nfunction isPrimitive(value) {\n    for(let prim in PRIMITIVES){\n        if(PRIMITIVES[prim] == value){\n            return true;\n        }\n    }\n    return false;\n}\n\n\nfunction getInlineName(token) {\n    if(token.startsWith('@<')){\n        return token.split('<')[1].split('>')[0];\n    }\n    return token.split(':')[1];\n}\n\n\nfunction getNonWsTokens(tokens){\n    return tokens.filter(function(obj){\n        return obj.type != 'ws';\n    })\n}\n\nconst tokenUtils = {\n    getTokens:getTokens,\n    getDefinedShapes:getDefinedShapes,\n    getShapes:getShapes,\n    updateInlines:updateInlines\n}\n\nexport default tokenUtils;","import Shape from'../shape';\n\nclass InlineShape{\n\n    constructor(shape=null){\n        this.shape = shape;\n    }\n\n\n    getShape(){\n        return this.shape;\n    }\n\n    setShape(shape){\n        this.shape = shape;\n    }\n\n\n    toString(){\n        if(this.shape){\n           let shapeRef = this.shape.getType().toString();\n            return '@'+shapeRef;\n        }\n\n        return '';\n    }\n\n\n}\n\nexport default InlineShape;","import TypesFactory from './types/typesFactory';\nimport IrirRef from './types/concreteTypes/iriRef';\nimport InlineShape from './shexUtils/inlineShape';\n\nclass Triple {\n\n\n    constructor(id,type=new IrirRef('tripleName'),value=new IrirRef(),inlineShape=new InlineShape(),cardinality='') {\n        this.id = id;\n        this.type = type;\n        this.value = value;\n        this.cardinality = cardinality;\n        this.inlineShape = inlineShape;\n        this.factory = new TypesFactory();\n      }\n      \n    addValue(value){\n        this.values.push(value);\n        this.valuesCount++;\n    }\n\n    getId(){\n        return this.id;\n    }\n\n    getType(){\n      return this.type; \n    }\n\n    setType(type){\n       this.type = this.factory.createType(type,'tripleName');\n     }\n\n    setValue(value){\n        this.value = this.factory.createType(value,'valueName');;\n    }\n\n    setCardinality(cardinality){\n        this.cardinality = cardinality;\n    }\n\n    getInlineShape(){\n        return this.inlineShape;\n    }\n\n    setInlineShape(inlineShape){\n        this.inlineShape = inlineShape;\n    }\n\n\n    getValue(){\n       return this.value;\n    }\n\n\n    getCardinality(){\n        return this.cardinality;\n    }\n\n\n\n    toString(){\n        return '  '+this.getType().toString()+'          '+\n        this.getValue().toString() +' '+\n        this.getInlineShape().toString()+\n        this.getCardinality()+'  ;\\n';\n\n    }\n\n\n}\n\nexport default Triple;","import Editor from '../entities/editor';\nimport tokenUtils from './tokenUtils';\n\n\nconst DEFAULT_SHAPE = 'PREFIX :       <http://example.org/>\\n'+\n'PREFIX schema: <http://schema.org/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n'+\n\n':User IRI {\\n'+ \n'  schema:name          xsd:string  ;\\n'+\n'  schema:birthDate     xsd:date?  ;\\n'+\n'  schema:birthPlace    xsd:string+  ;\\n'+\n'  schema:knows          @:User*  \\n'+\n'}';\n  \n  \n  function replaceShapes(){\n    let tokens = tokenUtils.getTokens();\n    let defShapes = tokenUtils.getDefinedShapes(tokens);\n    let newShapes = tokenUtils.getShapes(defShapes);\n    \n    tokenUtils.updateInlines(newShapes);\n\n    return newShapes;\n  }\n\n  function updatePrefixes(){\n    let newPrefixes = [];\n    let prefix = {};\n    let yashe = Editor.getInstance().getYashe();\n    if(yashe!=undefined){\n      let keys = Object.keys(yashe.getDefinedPrefixes());\n      let values = Object.values(yashe.getDefinedPrefixes());\n\n      for(let i=0;i<keys.length;i++){\n          prefix = {};\n          prefix.key=keys[i];\n          prefix.val=values[i];\n          newPrefixes.push(prefix);\n      }\n    }\n    return newPrefixes;\n  }\n\n const yasheUtils = {\n      DEFAULT_SHAPE:DEFAULT_SHAPE,\n      replaceShapes:replaceShapes,\n      updatePrefixes:updatePrefixes\n\n  }\n\n  export default yasheUtils;\n","import React, {useState,useContext,useEffect,useRef} from 'react';\nimport 'yashe/dist/yashe.min.css';\nimport {ShapesContext} from '../App';\n\nimport YASHE from 'yashe';\nimport Editor from '../entities/editor';\n\nimport yasheUtils from '../utils/yasheUtils';\n\nfunction EditorComp() {\n\n  const [yashe,setYashe] = useState(null);\n  const divRef = useRef(null);\n  const context = useContext(ShapesContext);\n\n   const darkStyle = {\n        background: '#2B2B2B',\n    }\n\n    const lightStyle = {\n        background: 'white',\n    }\n\n    const [style,setStyle] = useState(lightStyle);\n    let theme = 'light';\n\n\n    useEffect(() => {\n    \n        if (!yashe) {\n            const options = {\n                persistent:false,\n                lineNumbers: true,\n                viewportMargin: Infinity,\n                value:yasheUtils.DEFAULT_SHAPE\n            }\n            \n            const y = YASHE(\n                divRef.current, \n                options)\n\n             y.on('blur', function() {\n                if(!y.hasErrors(y)){\n                    replaceShapes();\n                    updatePrefixes();\n                }\n            });\n\n\n             \n            y.on('humanEvent', function(shapes) {\n                Editor.getInstance().draw(shapes);\n            });\n\n\n            y.on('prefixUpdate', function() {\n                updatePrefixes();\n            });\n\n            y.on('themeChange', function() {\n                changeThemeStyle();\n            });\n\n            y.on('delete', function() {\n                replaceShapes();\n                updatePrefixes();\n\n            });\n\n            y.on('upload', function() {\n                //TimeOut necesary\n                setTimeout(function(){\n                  replaceShapes();\n                  updatePrefixes();\n                }, 10);\n                \n            });\n\n\n            y.on('keydown', function() {\n                 setTimeout(function(){\n                    if(!y.hasErrors()){\n                        replaceShapes();\n                        updatePrefixes();\n                    }\n                }, 20);\n                \n            });\n\n           \n           \n\n            //Fired after a key is handled through a key map\n            //(for example \"Ctrl-Z\")\n            y.on('keyHandled', function() {\n                if(!y.hasErrors()){\n                    replaceShapes();\n                    updatePrefixes();\n                }\n            });\n\n            \n            y.refresh();\n            setYashe(y);\n            \n            Editor.getInstance().setYashe(y);\n\n            replaceShapes();\n            updatePrefixes();\n\n            \n        }\n    }, [yashe]\n    );\n\n    const replaceShapes = ()=>{\n        context.replaceShapes(yasheUtils.replaceShapes());\n    }\n\n    const updatePrefixes = ()=>{\n        context.updatePrefixes(yasheUtils.updatePrefixes());\n    }\n\n     const changeThemeStyle = ()=>{\n        if(theme=='light'){//I don't know why this doesn't work with style state\n            setStyle(darkStyle);\n            theme='dark';\n        }else{\n            theme='light';\n            setStyle(lightStyle);\n        }\n        context.changeThemeStyle();\n    }\n\n\n\n    return  (<div className=\"col edit\" ref={divRef} style={style}/>);\n\n}\n\n\n\nexport default EditorComp;\n\n","import React,{useState,useContext} from 'react';\nimport {ShapesContext} from '../../../../App';\n\nfunction IriComp (props) {\n\n    const context = useContext(ShapesContext);\n    const {shape,triple,type} = props;\n\n    let initialValue=shape.type.value;\n    if(type =='triple'){\n      initialValue = triple.type.value;\n    }else if(type =='value'){\n      initialValue = triple.value.value;\n    }\n\n    const [value,setValue] = useState(initialValue);\n\n     \n    const handleChange = (e) =>{\n      \n      const value = e.target.value;\n      if(type == 'shape'){\n        shape.type.setValue(value);\n      }else if(type == 'triple'){\n        triple.type.setValue(value);\n      }else{\n        triple.value.setValue(value);            \n      }\n      context.emit();\n      setValue(value);\n\n\n    \n    }\n    \n\n    return (<input className={shape.type.context+' form-control col-4'} \n                      context=\"text\" \n                      value={value}\n                      onChange={handleChange}/>);\n    \n                                   \n    \n\n}\n\nexport default IriComp;\n\n","import React,{useState,useContext,useEffect} from 'react';\nimport {ShapesContext} from '../../../../App';\nimport {getPrefix} from '../../../../utils/prefixUtils';\n\nfunction PrefixedComp (props) {\n\n    const context = useContext(ShapesContext);\n \n    const {shape,triple,type} = props;\n\n    let initialValue = shape.type.value;\n    //We can't initializae initialPrefix \n    //beacause if it is called by a triple \n    //we don't know its shape's type\n    let initialPrefix; \n    if(type=='shape'){\n      initialPrefix = shape.type.prefix.prefixValue;\n    }else if(type =='triple'){\n      initialValue = triple.type.value;\n      initialPrefix = triple.type.prefix.prefixValue;\n    }else{ \n      initialValue = triple.value.value;\n      initialPrefix = triple.value.prefix.prefixValue;\n    }\n\n    const [value,setValue] = useState(initialValue);\n    const [prefix,setPrefix] = useState(initialPrefix);\n\n\n  /**\n    Esto igual se puede quitar\n   */\n   const getPrefixContex = ()=>{\n        let prefix = 'prefixShape';\n        let context = shape.type.context;\n        if( context == 'tripleName'){\n            prefix = 'prefixTriple';\n        }\n        if( context == 'valueName'){\n            prefix = 'prefixValue';\n        }\n        return prefix;\n    }\n\n    const handleTypeChange = (e) =>{\n        const value = e.target.value;\n        if(type == 'shape'){\n          shape.type.setValue(value);\n        }else if(type == 'triple'){\n          triple.type.setValue(value);\n        }else{\n          triple.value.setValue(value);            \n        }\n        context.emit();\n        setValue(value);\n    }\n\n    const handlePrefixChange = (e) =>{\n      let prefix = getPrefix(e.target.value);\n\n      if(type == 'shape'){\n        shape.type.setPrefix(prefix);\n      }else if(type == 'triple'){\n        triple.type.setPrefix(prefix);  \n      }else{\n        triple.value.setPrefix(prefix);  \n      }\n\n      context.emit();\n      setPrefix(e.target.value);\n    }\n\n    return  (<div className='row col-6'>\n                <select className={getPrefixContex()+' col-5 form-control'}\n                        value={prefix}\n                        onChange={handlePrefixChange}>\n                 \n                  { \n                    context.prefixes.map((pre) =>{\n                      return <option key={pre.key} value={pre.val}>{pre.key}</option>\n                    })\n                  }\n                </select>\n                   \n                <input  className={shape.type.value+' form-control col'} \n                        context=\"text\" \n                        value={value}\n                        onChange={handleTypeChange} />\n               \n              </div>);\n              \n                               \n    \n\n}\n\n\n    \n\nexport default PrefixedComp;\n\n","import Editor from '../entities/editor';\nimport Prefix from '../entities/shexEntities/shexUtils/prefix.js';\n\nexport function getPrefix(prefix){\n      let defined = Editor.getInstance().getYashe().getDefinedPrefixes();\n      for(let def in defined){\n          if(defined[def] == prefix){\n            return new Prefix(def,defined[def]);\n          }\n      }\n      return new Prefix();\n}\n\n","import React,{useState,useContext} from 'react';\nimport {ShapesContext} from '../../../../App';\n\nfunction BNodeComp(props) {\n\n    const context = useContext(ShapesContext);\n    const {shape} = props;\n\n    let initialValue=shape.type.value;     \n    if(initialValue == ''){\n        initialValue = 'example';\n        shape.type.setValue(value);\n    }\n\n    const [value,setValue] = useState(initialValue);\n        \n\n    const change = (e) =>{\n          const value = e.target.value;\n          shape.type.setValue(value);\n          context.emit();\n          setValue(value)\n    }\n   \n\n    return (<input   className={shape.type.context+' form-control col-4'} \n                        context=\"text\" \n                        value={value}\n                        onChange={change}/>);\n\n                                      \n    \n\n}\n\nexport default BNodeComp;\n\n","import React,{useState,useContext} from 'react';\nimport {ShapesContext} from '../../../../App';\n\nconst primitives = ['String','Integer','Date','Boolean'];\n\nfunction PrimitiveComp (props) {\n\n    const context = useContext(ShapesContext);\n    const {shape,triple} = props;\n\n    const [value,setValue] = useState(triple.value.value);\n\n    const handleChange = (e) =>{\n          const value = e.target.value;\n          triple.value.setValue(value);\n          context.emit();\n          setValue(value);\n    }\n    \n\n    return (<select className=\"col-sm-4 form-control tripleValue\"\n                    value={value}\n                    onChange={handleChange}>\n            {\n                primitives.map(prim =>{\n                    return <option key={prim} value={prim.toLowerCase()}>{prim}</option>\n                })\n            }\n            </select>);\n    \n}\n\nexport default PrimitiveComp;\n\n","import React,{useState,useContext} from 'react';\nimport {ShapesContext} from '../../../App';\n\nimport shexUtils from '../../../utils/shexUtils';\n\n\nfunction Qualifier (props) {\n\n    const context = useContext(ShapesContext);\n    const {shape,triple,value,scope} = props;\n\n    let initialValue;\n    if(scope=='shape'){\n        initialValue = shape.qualifier.getTypeName();\n    }else{\n         initialValue = triple.value.value;\n    }\n\n\n    const [valueType,setValueType] = useState(initialValue)\n\n    const handleTypeChange = (e) =>{\n        let newType = e.target.value;\n        if(scope=='shape'){\n            shape.setQualifier(newType);\n        }else{\n            triple.value.value =newType;\n        }\n\n        context.emit();\n        setValueType(newType);\n    }\n\n\n    return (<select className=\"col form-control valueInlineShape\"\n                        value={valueType}\n                        onChange={handleTypeChange}>\n                    <option value='shape'></option>\n                    <option value='iri'>IRI</option>\n                    <option value=\"literal\">Literal</option>\n                    <option value=\"nonliteral\">NonLiteral</option>\n                    <option value=\"bnode\">BNODE</option>\n                </select>\n\n    );\n    \n}\n\nexport default Qualifier;\n\n","import React,{useState,useContext} from 'react';\nimport {ShapesContext} from '../../../../App';\nimport Qualifier from '../../utils/Qualifier';\n\nimport shexUtils from '../../../../utils/shexUtils';\n\nfunction ShapeRefComp (props) {\n\n    const context = useContext(ShapesContext);\n    const {shape,triple} = props;\n\n    let inlineValue = '';\n    if(triple.inlineShape.shape != null){\n        inlineValue = triple.inlineShape.shape.id;\n    }\n    \n    const [inlineShape,setInlineShape] = useState(inlineValue);\n    const [valueType,setValueType] = useState(triple.value.getTypeName())\n\n\n    const handleInlineChange = (e) =>{\n        const shapeId = e.target.value;\n        let inlineShape = null;\n        let inlineSelector = '';\n        if(shapeId!=''){\n            inlineShape = shexUtils.getShapeById(context.shapes,shapeId);\n            inlineSelector = inlineShape.id;\n        }\n        triple.getInlineShape().setShape(inlineShape);\n        context.emit();\n        setInlineShape(inlineSelector);\n    }\n\n    const handleTypeChange = (e) =>{\n        let newType = e.target.value;\n        triple.setValue(newType);\n        context.emit();\n        setValueType(newType);\n    }\n\n\n    return (<div className='row col'>\n                <select className=\"col form-control valueInlineShape\"\n                        value={inlineShape}\n                        onChange={handleInlineChange}>\n                    <option value=''></option>\n                    { \n                    context.shapes.map(shape =>{\n                      return <option key={shape.id} value={shape.id}>{'@'+shape.type}</option>\n                    })\n                  }\n                </select>\n\n                <Qualifier triple={triple} scope='triple'/>\n            </div>\n\n    \n    \n    \n    );\n    \n}\n\nexport default ShapeRefComp;\n\n","import React from 'react';\n\nimport IriComp from './concrete/IriComp';\nimport PrefixedComp from './concrete/PrefixedComp';\nimport BNodeComp from './concrete/BNodeComp';\nimport PrimitiveComp from './concrete/PrimitiveComp';\nimport ShapeRefComp from './concrete/ShapeRefComp';\n\nfunction ComponentTypeFactory (props) {\n\n    const {shape,triple,type,instance} = props;\n\n    if(instance == 'iriRef'){\n        \n        return <IriComp shape={shape} triple={triple} type={type}/>\n\n    }\n    else if(instance == 'prefixedIri'){\n\n        return <PrefixedComp shape={shape} triple={triple} type={type}/>\n\n    }\n    else if(instance == 'bnodeType'){\n\n        return <BNodeComp shape={shape}/>\n\n    }\n    else if(instance == 'primitive'){\n        \n        return  <PrimitiveComp shape={shape} triple={triple}/>\n\n    }else if(instance == 'shape'){\n        \n        return  <ShapeRefComp shape={shape}triple={triple}/>\n\n    }else{\n        return null;\n    }\n                                   \n}\n\nexport default ComponentTypeFactory;\n\n","import React,{useContext,useState} from 'react';\nimport ComponentTypeFactory from './ComponentTypeFactory';\n\nimport {ShapesContext} from '../../../App';\n\nfunction TripleTypeComp (props){\n\n        const context = useContext(ShapesContext);\n\n        const {shape,triple,deleteTriple,handeCollapse} = props;\n\n        const [type,setType] = useState(triple.type.getTypeName());\n        const [collapseBtn,setCollapseBtn] = useState('expand_more');\n\n        const handleChange = (e)=>{\n                const type = e.target.value;\n                triple.setType(type)\n                context.emit();\n                setType(type)\n        }\n\n        const handleCollapseBtn = (e)=>{\n                if(collapseBtn=='expand_more'){\n                    setCollapseBtn('expand_less');\n                }else{\n                    setCollapseBtn('expand_more');\n                }\n\n                handeCollapse();\n\n        }\n\n\n        return (<div className=\"row col triples-header\">\n                        <label className=\"col-xs-1 tripleLabel\">Triple</label>                        \n                        <select className=\"col-2 form-control tripleType\" \n                                value={type} \n                                onChange={handleChange}>\n\n                                <option value=\"iriRef\">IriRef</option>\n                                <option value=\"prefixedIri\">Prefixed</option>\n                                \n                        </select>\n\n                        <ComponentTypeFactory shape={shape} \n                                        triple={triple}\n                                        type='triple'\n                                        instance={triple.type.getTypeName()}/>\n                          \n                        <button className=\"col-xs-1  colapseButton mdc-icon-button material-icons btn-primary\"\n                                onClick={handleCollapseBtn}>\n                                {collapseBtn}\n                        </button>\n\n                        <button className=\"col-xs-1 deletePropButton mdc-icon-button material-icons btn-danger\"\n                                onClick={() => deleteTriple(triple.id)}>\n                                delete\n                        </button>\n\n                       \n\n                         \n                </div>);\n\n}\n\nexport default TripleTypeComp;\n\n","import React,{useContext,useState} from 'react';\nimport ComponentTypeFactory from './ComponentTypeFactory';\n\nimport {ShapesContext} from '../../../App';\n\nfunction ValueTypeComp(props) {\n    \n    const {shape,triple} = props;\n\n    const context = useContext(ShapesContext);\n    const [valueType,setValueType] = useState(triple.value.getTypeName())\n    \n    const handleChange = (event) =>{\n        let newType = event.target.value;\n        if(newType!='shape'){\n            //This is necesary when we change from ShapeType to otherType\n            triple.inlineShape.shape = null;\n        }\n        triple.setValue(newType);\n        context.emit();\n        setValueType(newType);\n    }\n\n    return  (<div className=\"row col-10\">\n                    <select className=\"col-5 form-control valueType\"\n                                    value={valueType} \n                                    onChange={handleChange}>\n\n                                    <option value=\"primitive\">Primitive</option>\n                                    <option value=\"shape\">Shape</option>\n                                    <option value=\"iriRef\">IriRef</option>\n                                    <option value=\"prefixedIri\">Prefixed</option>\n                                    <option value=\"literal\">Literal</option>\n                                    <option value=\"nonliteral\">NonLiteral</option>\n                                    <option value=\"iri\">IRI</option>\n                                    <option value=\"bnode\">BNODE</option>\n                                </select>\n\n\n                                <ComponentTypeFactory shape={shape} \n                                    triple={triple}\n                                    type='value'\n                                    instance={triple.value.getTypeName()}/>\n\n                    </div>);\n\n}\n\nexport default ValueTypeComp;\n\n","import React,{useState,useContext} from 'react';\nimport {ShapesContext} from '../../../App';\n\nfunction CardinalityComp (props) {\n\n    const {shape,triple} = props;\n    \n    const context = useContext(ShapesContext);\n    const [cardinality,setCardinality] = useState(triple.cardinality.toString());\n    \n\n    const handleChange = (event) => {\n   \n        let cardinality = event.target.value;\n        triple.setCardinality(cardinality);\n        context.emit();\n        setCardinality(cardinality)\n       \n    }\n\n\n    return(<div className='row col-4'>    \n                <select className=\"col  form-control tripleCardinality\"\n                    value={cardinality}\n                    onChange={handleChange}>\n\n                            <option value=\"\">Exactly one</option>\n                            <option value=\"*\">Zero or more</option>\n                            <option value=\"+\">One at least</option>\n                            <option value=\"?\">One or none</option>\n                </select>\n                \n            </div>);\n\n  \n\n}\n\nexport default CardinalityComp;\n\n","import React,{useContext} from 'react';\n\nimport {ShapesContext} from '../../App';\n\nimport ValueTypeComp from './types/ValueTypeComp';\nimport CardinalityComp from './utils/CardinalityComp';\n\nfunction ValueComponent (props) {\n\n    const context = useContext(ShapesContext);\n    const {shape,triple} = props;\n\n\n           \n    return (<div className=\"col-12 valuesCol\"  >\n                    <div className=\"row values-container\">\n                        <div className=\"col-10 triplesVal \">\n                            <div className=\"row\">\n                                <label className=\"col-3 valueLabel\">Value</label>\n                                <ValueTypeComp shape={shape} triple={triple}/>\n                                \n                                <label className=\"col-3 cardiLabel\">Cardinality</label>\n                                <CardinalityComp shape={shape} triple={triple}/>\n                            </div>\n                       </div>\n                    </div>\n                </div>);\n                                   \n\n\n}\n\nexport default ValueComponent;\n\n","import React,{useContext,useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {ShapesContext} from '../../App';\n\nimport TripleTypeComp from './types/TripleTypeComp';\n\nimport ValueComponent from './ValueComponent';\n\nfunction TripleComponent (props) {\n\n    const context = useContext(ShapesContext);\n\n    const {shape,triple,deleteTriple} = props;\n    const [isOpen, setIsOpen] = useState(false);\n\n    const toggle = () => setIsOpen(!isOpen);\n\n    return ( <div >\n\n                <TripleTypeComp \n                    shape={shape} \n                    triple={triple} \n                    deleteTriple={deleteTriple}\n                    handeCollapse={toggle}/>\n\n                <Collapse isOpen={isOpen} style={context.currentStyle}>\n                    <ValueComponent  \n                        shape={shape} \n                        triple={triple}/>\n                </Collapse>\n                \n            </div>\n        );                          \n}\n\nexport default TripleComponent;\n\n","import React,{useContext,useState} from 'react';\nimport ComponentTypeFactory from './ComponentTypeFactory';\n\nimport {ShapesContext} from '../../../App';\n\nfunction ShapeTypeComp (props) {\n\n        const context = useContext(ShapesContext);\n        const {shape,collapse} = props;\n\n        const [type,setType] = useState(shape.type.getTypeName());\n        const [colapseBtn,setColapseBtn] = useState('expand_more');\n   \n        const handleChange = (e)=>{\n                const type = e.target.value;\n                shape.setType(type)\n                context.emit();\n                setType(type)\n        }\n\n        const handleColapse = (e)=>{\n                if(colapseBtn=='expand_more'){\n                    setColapseBtn('expand_less');\n                }else{\n                    setColapseBtn('expand_more');\n                }\n                collapse();\n        }\n\n\n        return (<div className=\"row col-8 headerSelectors\">\n                        <select className=\"col-3 form-control shapeType\" \n                            value={type} \n                            onChange={handleChange}>\n\n                            <option value=\"iriRef\">IriRef</option>\n                            <option value=\"prefixedIri\">Prefixed</option>\n                            <option value=\"bnodeType\">BNode</option>\n                        </select>\n\n                        <ComponentTypeFactory shape={shape} \n                                    triple={null}\n                                    type='shape'\n                                    instance={shape.type.getTypeName()}/>\n\n                        <button className=\"col-xs-1  colapseButton mdc-icon-button material-icons btn-primary\"\n                                onClick={handleColapse}>\n                                {colapseBtn}\n                        </button>\n\n\n                        <button className=\"col-xs-1 deleteShapeButton mdc-icon-button material-icons btn-danger\" \n                            onClick={()=>context.deleteShape(shape.id)}>\n                            delete\n                        </button>\n                \n                </div>);\n\n                                   \n\n}\n\nexport default ShapeTypeComp;\n\n","import React,{useContext,useState} from 'react';\nimport { Collapse } from 'reactstrap';\n\nimport {ShapesContext} from '../../App';\n\nimport TripleComponent from './TripleComponent';\nimport ShapeTypeComp from './types/ShapeTypeComp';\nimport Qualifier from './utils/Qualifier';\n\nimport Triple from '../../entities/shexEntities/triple';\n\nfunction ShapeComponent (props) {\n\n    const context = useContext(ShapesContext);\n    const {shape} = props;\n\n    const [triples,setTriples] = useState(shape.triples);\n     const [colapseBtn,setColapseBtn] = useState('expand_less');\n     const [isTriplesOpen, setTriplesOpen] = useState(true);\n     const [isQualiOpen, setQualiOpen] = useState(false);\n\n    const handleChange = ()=>{\n        const id = shape.getTriplesCount();\n        const triple = new Triple(id);\n        \n        setTriples([...triples,triple]);\n\n        shape.addTriple(triple);\n        context.emit();\n        \n    }\n\n    const handleTriplesColapse = ()=>{\n            if(colapseBtn=='expand_more'){\n                setColapseBtn('expand_less');\n            }else{\n                setColapseBtn('expand_more');\n            }\n           setTriplesOpen(!isTriplesOpen);\n    }\n\n\n    const handleQualiCollapse = ()=>{\n        setQualiOpen(!isQualiOpen);\n    }\n\n    const deleteTriple = (tripleId)=>{\n        const newTriples = shape.triples.filter( triple => triple.id != tripleId);\n        setTriples(newTriples);\n        shape.setTriples(newTriples);\n        context.emit();\n    }\n\n\n    return (\n        <div className=\"shapes-container\" style={context.currentStyle}>\n                     \n                <div className=\"row shapes-header\" style={context.currentStyle}>\n                    <label className=\"col-sm-2\">Shape </label>\n                    <ShapeTypeComp shape={shape} collapse={handleQualiCollapse}/>\n                \n                </div>\n        \n                <Collapse isOpen={isQualiOpen}  timeout={110}>\n                    <div className=\"row qualifier\" style={context.currentStyle}>\n                            <label className=\"col-2 qualiLabel\">Qualifier </label>\n                            <div className=\"col-2\">\n                                <Qualifier shape={shape} scope='shape'/>\n                            </div>\n                    </div>\n                </Collapse>\n           \n\n         \n                <button className=\"col-xs-1  colapseTriplesBtn mdc-icon-button material-icons btn-primary\"\n                        onClick={()=>handleTriplesColapse()}>\n                        {colapseBtn}\n                </button>\n                \n\n                <Collapse isOpen={isTriplesOpen} style={context.currentStyle}>\n                    <div className=\"triples-container col-xs \"style={context.currentStyle}>\n                            {triples.map(triple =>\n\n                                <TripleComponent key={triple.id}\n                                                shape={shape} \n                                                triple={triple}\n                                                deleteTriple={deleteTriple}\n                                /> \n                                    \n                            )}\n                    </div>\n\n                    <button className=\"btn-primary addPropButton col-xs-3\"\n                            onClick={handleChange}>\n                            + Triple\n                    </button>\n                \n                </Collapse>\n                \n            </div>\n     \n    );\n                                   \n    \n}\n\n\nexport default ShapeComponent;\n\n","import React,{useContext} from 'react';\nimport '../App.css';\nimport ShapeComponent from './shexComponents/ShapeComponent';\nimport {ShapesContext} from '../App';\n\nfunction AssistantComp (props) {\n\n    const context = useContext(ShapesContext);\n\n    return (<div id='assistant-container'> \n\n                    <div className='col row assisTitleDiv'>\n                        <span className=\"assisTitle\" style={context.style}>Assistant</span>\n                    </div>\n                    {context.shapes.map(shape =>{\n                                \n                            return <ShapeComponent key={shape.id} shape={shape}/>\n                        })\n                    }\n\n                    <button id='addShapeButton' \n                            className=\"btn-primary addShapeButton\"\n                            onClick={context.addShape}>\n                            + Shape\n                    </button>\n                </div>);\n\n    \n}\n\nexport default AssistantComp;","import React,{useContext,useState} from 'react';\n\nfunction VisualizeComp (props) {\n\n    const {svg} = props;\n\n    return (<div className=\"visualize\">  \n               \n                <div className='row bottom'>\n                    <div className='col'/>\n                    <div className='col' dangerouslySetInnerHTML={{__html:svg}}/> \n                    <div className='col'/>        \n                 </div>\n            </div>\n            );\n\n    \n}\n\nexport default VisualizeComp;","import React from 'react';\nimport Codemirror from 'codemirror';\nimport Editor from '../../entities/editor';\n\nfunction PrefixSelector (props){\n\n    const {namespaces} = props;\n\n\n    const handleChange = (e) =>{\n        let yashe = Editor.getInstance().getYashe();\n        let current = yashe.getValue();\n        let defined = yashe.getDefinedPrefixes();\n        let prefix= e.target.value;\n        let uri = 'http://example.org/';\n        //getUri\n        for(let def in namespaces){\n          for(let p in namespaces[def]){\n            if(p==prefix)\n              uri = namespaces[def][p];\n          }\n        }\n        yashe.setValue( 'PREFIX ' + prefix + ': <' + uri + '>\\n' + current );\n        Codemirror.signal(yashe,'prefixUpdate');\n    }\n\n    return (<div>\n             \n                <button className='form-control'\n                        onClick={handleChange}>\n                        Example Prefix\n                </button>\n\n                {\n                    \n                    Object.keys(namespaces).map( (key) =>{\n                            return <div key={key}>\n                                        <select  className='form-control'\n                                                 onChange={handleChange}>\n                                            <option>{key}</option>\n                                            { \n                                                Object.keys(namespaces[key]).map( (prefix) =>{\n                                                    return <option key={prefix} value={prefix}>{prefix}</option>\n                                                })  \n                                            }\n                                        </select>\n                                    </div>\n                                    \n                    }) \n                }\n            </div>);\n                     \n}\n\n\nexport default PrefixSelector;\n","export const ALL_PREFIXES = {\n    Wikidata: {\n        wikibase: 'http://wikiba.se/ontology#',\n        wd: 'http://www.wikidata.org/entity/',\n        wdt: 'http://www.wikidata.org/prop/direct/',\n        wdtn: 'http://www.wikidata.org/prop/direct-normalized/',\n        wds: 'http://www.wikidata.org/entity/statement/',\n        p: 'http://www.wikidata.org/prop/',\n        wdref: 'http://www.wikidata.org/reference/',\n        wdv: 'http://www.wikidata.org/value/',\n        ps: 'http://www.wikidata.org/prop/statement/',\n        psv: 'http://www.wikidata.org/prop/statement/value/',\n        psn: 'http://www.wikidata.org/prop/statement/value-normalized/',\n        pq: 'http://www.wikidata.org/prop/qualifier/',\n        pqv: 'http://www.wikidata.org/prop/qualifier/value/',\n        pqn: 'http://www.wikidata.org/prop/qualifier/value-normalized/',\n        pr: 'http://www.wikidata.org/prop/reference/',\n        prv: 'http://www.wikidata.org/prop/reference/value/',\n        prn: 'http://www.wikidata.org/prop/reference/value-normalized/',\n        wdno: 'http://www.wikidata.org/prop/novalue/',\n        wdata: 'http://www.wikidata.org/wiki/Special:EntityData/'\n    },\n    W3C: {\n        rdfs: 'http://www.w3.org/2000/01/rdf-schema#',\n        rdf: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n        owl: 'http://www.w3.org/2002/07/owl#',\n        skos: 'http://www.w3.org/2004/02/skos/core#',\n        xsd: 'http://www.w3.org/2001/XMLSchema#',\n        prov: 'http://www.w3.org/ns/prov#'\n    },\n    'Social/Other': {\n        schema: 'http://schema.org/',\n        geo: 'http://www.opengis.net/ont/geosparql#',\n        geof: 'http://www.opengis.net/def/geosparql/function/'\n    },\n    Blazegraph: {\n        bd: 'http://www.bigdata.com/rdf#',\n        bds: 'http://www.bigdata.com/rdf/search#',\n        gas: 'http://www.bigdata.com/rdf/gas#',\n        hint: 'http://www.bigdata.com/queryHints#'\n    }\n};\n\n\n","export const defaultExample = \n\n'PREFIX :       <http://example.org/>\\n'+\n'PREFIX schema: <http://schema.org/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n'+\n\n':User IRI {\\n'+\n  'schema:name          xsd:string  ;\\n'+\n  'schema:birthDate     xsd:date?  ;\\n'+\n  'schema:birthPlace    xsd:string+  ;\\n'+\n  'schema:knows          @:User*  \\n'+\n'}\\n';\n","\nexport const wikiExample = \n'PREFIX wd: <http://www.wikidata.org/entity/>\\n'+\n'PREFIX wdt:  <http://www.wikidata.org/prop/direct/>\\n'+\n'PREFIX p:    <http://www.wikidata.org/prop/>\\n'+\n'PREFIX prov:    <http://www.w3.org/ns/prov#>\\n'+\n'PREFIX pq:    <http://www.wikidata.org/prop/qualifier/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n'+\n'PREFIX prv:    <http://www.wikidata.org/prop/reference/value/>\\n'+\n'PREFIX pr:    <http://www.wikidata.org/prop/reference/>\\n'+\n'PREFIX ps:    <http://www.wikidata.org/prop/statement/>\\n'+\n'PREFIX interpro:    <http://micel.io/genewiki/interpro/>\\n\\n'+\n\n'<#wikidata-human-protein>  {\\n'+\n  'p:P703           @<#P703_found_in_taxon_human>  ;\\n'+\n  'p:P352           @<#P352_uniprot_id>+  ;\\n'+\n  'p:P527           @<#P527_has_part>*  ;\\n'+\n  'p:P637           @<#P637_RefSeq_Protein_ID>*  ;\\n'+\n  'p:P639           @<#P639_RefSeq_RNA_ID>*  ;\\n'+\n'}\\n\\n'+\n\n'<#P703_found_in_taxon_human>  {\\n'+\n  'ps:P703          wd:Q15978631   ;\\n'+\n  'prov:wasDerivedFrom          IRI +  ;\\n'+\n'}\\n\\n'+\n\n'<#P352_uniprot_id>  {\\n'+\n  'ps:P352          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P527_has_part>  {\\n'+\n  'ps:P527          IRI   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P637_RefSeq_Protein_ID>  {\\n'+\n  'ps:P637          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P639_RefSeq_RNA_ID>  {\\n'+\n  'ps:P637          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n';\n\n","import React,{useContext} from 'react';\nimport Codemirror from 'codemirror';\nimport {ShapesContext} from '../../App';\nimport PrefixSelector from './PrefixSelector';\nimport {ALL_PREFIXES} from '../../utils/rdfUtils';\nimport  Editor from '../../entities/editor';\n\nimport {defaultExample} from '../../examples/defaultExample';\nimport {wikiExample} from '../../examples/wikiExample';\n\nimport yasheUtils from '../../utils/yasheUtils';\n\nfunction Nav (props) {\n\n    const {assistantToggle,visualizeToggle} = props;\n    const context = useContext(ShapesContext);\n\n    const  handle = function(){\n        if(window.confirm('Are you sure?')){\n            //Needed for visualize\n            setTimeout(() => {\n                context.replaceShapes([]);    \n            }, 10);\n            // We can't do emit() because it takes \n            // like another call to change shapes state\n            // I don't know exactly the reaseon...\n            // It's something about react state\n            Editor.getInstance().getYashe().setValue('');\n        }\n    }\n\n    const readFile = function handleFileSelect(evt) {\n        var file = evt.target.files[0];\n        var reader = new FileReader();\n        reader.onload = function(event) {\n            Editor.getInstance().getYashe().setValue(event.target.result)\n        };\n\n        reader.readAsText(file);\n    }\n\n    const downloadFile = function(){\n        var textFileAsBlob = new Blob([ Editor.getInstance().getYashe().getValue() ], { type: 'text/shex' });\n        var fileNameToSaveAs = \"document.shex\";\n\n        var downloadLink = document.createElement(\"a\");\n        downloadLink.download = fileNameToSaveAs;\n        downloadLink.innerHTML = \"Download File\";\n        if (window.URL != null) {\n            // Chrome allows the link to be clicked without actually adding it to the DOM.\n            downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n        } else {\n            // Firefox requires the link to be added to the DOM before it can be clicked.\n            downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n            downloadLink.style.display = \"none\";\n            document.body.appendChild(downloadLink);\n        }\n        downloadLink.click();\n    }\n\n    const changeTheme = function(){\n        let yashe = Editor.getInstance().getYashe();\n        var themeValue = 'wiki'\n        var color = 'black'\n        if(yashe.getOption('theme') == 'wiki'){\n            themeValue='dark'\n            color = 'white'\n            document.getElementById(\"downloadBtn\").classList.add('light');\n            document.getElementById(\"copyBtn\").classList.add('light');\n            document.getElementById(\"deleteBtn\").classList.add('light');\n            document.getElementById(\"themeBtn\").classList.add('light');\n            document.getElementById(\"smallBtn\").classList.add('light');\n            document.getElementById(\"fullBtn\").classList.add('light');\n            document.getElementById(\"uploadBntLabel\").classList.add('light');\n        }else{\n            document.getElementById(\"downloadBtn\").classList.remove('light');\n            document.getElementById(\"copyBtn\").classList.remove('light');\n            document.getElementById(\"deleteBtn\").classList.remove('light');\n            document.getElementById(\"themeBtn\").classList.remove('light');\n            document.getElementById(\"smallBtn\").classList.remove('light');\n            document.getElementById(\"fullBtn\").classList.remove('light');\n            document.getElementById(\"uploadBntLabel\").classList.remove('light');\n        }\n        \n      yashe.setOption(\"theme\",themeValue)\n      Codemirror.signal(yashe,'themeChange');\n    }\n\n    const loadExample = function(example){ \n        let yashe = Editor.getInstance().getYashe();\n        if(example=='default'){\n            yashe.setValue(defaultExample)\n        }else{\n            yashe.setValue(wikiExample)\n        }\n        setTimeout(() => {//needed\n            Codemirror.signal(yashe,'keyHandled');\n        }, 10); \n    }\n\n    const scrollTop = function(){\n        window.scrollTo(0, 0);\n    }\n    \n    const undo = function(){\n        Editor.getInstance().getYashe().undo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());    \n        }, 10); \n        \n    }\n\n    const redo = function(){\n        Editor.getInstance().getYashe().redo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());    \n        }, 10); \n    }\n\n    return (<div className='lateral'>\n                    <div className='lateralTop'>\n                    <button className=\"col mdc-icon-button material-icons btns\" title=\"Show ShEx Assistant\"\n                            type=\"button\"\n                            onClick={assistantToggle}>\n                            info\n                    </button>\n                    <br/>\n\n                    <button className=\"col mdc-icon-button material-icons btns\"type=\"button\" title=\"Visualize\"\n                        onClick={visualizeToggle}>\n                        remove_red_eye\n                    </button> \n                    \n                    <div className=\"dropdown\" title=\"Prefixes\">\n                        <button className=\"btn btn-default dropdown-toggle  \n                                        mdc-icon-button material-icons \n                                        btns selector\" type=\"button\" data-toggle=\"dropdown\">local_parking\n                        <span className=\"caret\"></span></button>\n                        <ul className='dropdown-menu'>\n                            <li>\n                                <div id='prefixesDropdown' className='prefixes'>  \n\n                                    <PrefixSelector namespaces={ALL_PREFIXES}/>\n                                    \n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <button className=\"col mdc-icon-button material-icons btns\"type=\"button\" title=\"Undo\"\n                        onClick={undo}>\n                        undo\n                    </button> \n                    <br/>\n                    \n                    <button className=\"col mdc-icon-button material-icons btns\"type=\"button\" title=\"Redo\"\n                        onClick={redo}>\n                        redo\n                    </button> \n                    <br/>\n\n                     <button className=\"col btns svgBtn uploadBtn\"type=\"button\" onChange={readFile} title=\"Upload\">\n                        <input type=\"file\" accept=\".shex\" name=\"file-1[]\" id=\"file-1\" className=\"inputfileBtn\" data-multiple-caption=\"{count}'\n                        +'files selected\" multiple /><label htmlFor=\"file-1\" >\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"30\" viewBox=\"0 0 20 17\"><path d=\"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\"/></svg>\n                        </label>\n                    </button> \n                \n                     <br/>\n\n                     <button className=\"col btns svgBtn\"type=\"button\" title=\"Download\"\n                        onClick={downloadFile}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"30\" baseProfile=\"tiny\" viewBox=\"0 0 100 100\"><path d=\"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z\"/></svg>\n                    </button> \n                \n                     <br/>\n\n                     <button className=\"col btns svgBtn\"type=\"button\" title=\"Theme\"\n                        onClick={changeTheme}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"30\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M24 0H0v24h24V0z\"/><path d=\"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z\"/></svg>\n                    </button> \n                \n                     <br/>\n                  \n\n                    <div className=\"dropdown\" title=\"Galery\">\n                        <button className=\"btn btn-default dropdown-toggle  \n                                        mdc-icon-button material-icons \n                                         btns selector\" type=\"button\" data-toggle=\"dropdown\">folder_open\n                        <span className=\"caret\"></span></button>\n                        <ul className='dropdown-menu'>\n                            <li>\n                                <div id='prefixesDropdown' className='prefixes'>  \n                                    <button className=\"form-control\"onClick={()=>loadExample('default')}>User</button>\n                                    <button className=\"form-control\" onClick={()=>loadExample('wiki')}>Wikidata</button>\n                                    \n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n      \n\n\n\n                     <button className=\"col mdc-icon-button material-icons  btns\" title=\"Delete all\"\n                             onClick={handle}>\n                            delete_outline\n                     </button>\n                    <br/>\n                    </div>\n\n                    <div className='lateralBottom'>\n                      <button className=\"mdc-icon-button material-icons btns\"type=\"button\" title=\"Up\"\n                              onClick={scrollTop}\n                        >\n                        arrow_upward\n                    </button> \n                   </div>\n                    \n        </div>);\n    \n    \n}\n\n\nexport default Nav;\n","import React,{useContext} from 'react';\n\nfunction Nav (props) {\n\n    const {colapseAll} = props;\n\n    return (   <nav className=\"navbar navbar-default \">\n        <div className=\"navbar-header\">\n         <button className=\"asis mdc-icon-button material-icons\"type=\"button\"\n                 onClick={colapseAll} >\n                            menu\n                        </button> \n            <span className='shexTitle'>ShExAuthor</span>\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/YASHE/\">YASHE</a>\n            <a className=\"navItems\" target=\"_blank\" href=\"https://www.linkedin.com/in/pablo-men%C3%A9ndez-su%C3%A1rez-106262a7/\">About me</a>\n     \n        </div>\n    </nav>);\n    \n    \n}\n\n\nexport default Nav;\n\n","import React, {useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport axios from 'axios';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport EditorComp from './components/EditorComp';\nimport AssistantComp from './components/AssistantComp';\nimport VisualizeComp from  './components/VisualizeComp';\n\nimport LateralNav from './components/navComponents/LateralNav';\nimport Nav from './components/navComponents/Nav';\n\nimport shexUtils from './utils/shexUtils';\n\nimport Editor from './entities/editor';\n\n\nexport const ShapesContext = React.createContext();\n\nfunction App() {\n\n    const [shapes,setShapes] = useState([]);\n    const [svg,setSvg] = useState('');\n    const [prefixes,setPrefixes] = useState([{key:'',val:'http://example.org/'}]);\n    const [isAssistantOpen, setAssistantOpen] = useState(true);\n    const [isVisualizeOpen, setVisualizeOpen] = useState(true);\n    const [isLateralNavOpen, setLateralNavOpen] = useState(true);\n\n    const assistantToggle = () => setAssistantOpen(!isAssistantOpen); \n    const visualizeToggle = () => setVisualizeOpen(!isVisualizeOpen);\n    const lateralNavToggle = () => setLateralNavOpen(!isLateralNavOpen);\n    const colapseAll = () =>{\n      setAssistantOpen(!isLateralNavOpen);\n      setVisualizeOpen(!isLateralNavOpen);\n      setLateralNavOpen(!isLateralNavOpen);\n    }\n\n\n     const darkStyle = {\n        background: '#222',\n        color:'white'\n    }\n\n    const lightStyle = {\n        background: '#eaf3ff',\n        color:'black'\n    }\n\n    const [style,setStyle] = useState(lightStyle);\n    let theme = 'light';\n\n    const addShape = () =>{\n      setShapes([...shapes,shexUtils.addShape(shapes)]);\n      visualize();\n    }\n\n    const deleteShape = (shapeId) =>{\n      setShapes(shexUtils.deleteShape(shapes,shapeId,false));\n      visualize();\n    }\n\n    const emit = ()=>{\n      shexUtils.emit(shapes);\n      visualize();\n    }\n\n    const replaceShapes = (newShapes) =>{\n      //This allows to render all the shapes when a property is updated.\n      //Best Glitch Ever\n      setShapes([]); \n      setShapes(newShapes);\n      visualize();\n    }\n\n    const updatePrefixes = (newPrefixes)=>{\n      setPrefixes(newPrefixes);\n    }\n    \n    const changeThemeStyle = () =>{\n      if(theme=='light'){//I don't know why this doesn't work with style state\n        setStyle(darkStyle);\n        theme='dark';\n      }else{\n        theme='light';\n        setStyle(lightStyle);\n      }\n    }\n\n    const getSchema = function(){\n      let yashe = Editor.getInstance().getYashe();\n      if(yashe){\n          return yashe.getValue();\n      }\n      return '';\n    }\n\n\n    const visualize = function(){\n\n        let bodyFormData = new FormData();\n        bodyFormData.set('schema', getSchema());\n        bodyFormData.set('schemaFormat', 'ShExC');\n        bodyFormData.set('schemaEngine', 'SHEX');\n\n\n        axios({\n            method: 'post',\n            url: 'http://rdfshape.weso.es:8080/api/schema/visualize',\n            data: bodyFormData,\n            config: { headers: {'Content-Type': 'multipart/form-data' }}\n        })\n        .then(function (response) {\n            //handle success\n            if(response.data.svg.startsWith('<?xml')){\n              setSvg(response.data.svg);\n            }else{\n              setSvg(null)\n            }\n        })\n        .catch(function (response) {\n            //handle error\n            console.log(response);\n        });\n\n        \n    }\n\n\n    return (\n            \n            <ShapesContext.Provider \n                value={\n                  {\n                    shapes,shapes,\n                    addShape:addShape,\n                    deleteShape:deleteShape,\n                    replaceShapes:replaceShapes,\n                    prefixes:prefixes,\n                    updatePrefixes:updatePrefixes,\n                    emit:emit,\n                    currentStyle:style,\n                    changeThemeStyle:changeThemeStyle,\n                    visualize:visualize\n                  }\n                }>\n                \n                <Nav colapseAll={colapseAll}/>\n              \n                <div className=\"row comps\" style={style}>                  \n                    \n                    <Collapse isOpen={isLateralNavOpen} className=\"lateralNav col-xs-1\">\n                        <LateralNav  assistantToggle={assistantToggle} visualizeToggle={visualizeToggle}/>\n                     </Collapse> \n                    \n\n                    <Collapse isOpen={isAssistantOpen} className=\"col\" style={style}>\n                        <AssistantComp/>\n                     </Collapse> \n                    \n                    <EditorComp />\n                      \n                </div>\n              \n                <Collapse isOpen={isVisualizeOpen} >\n                  <VisualizeComp svg={svg}/>\n                </Collapse>   \n            </ShapesContext.Provider>\n          );\n                       \n           \n  \n    \n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";"],"sourceRoot":""}