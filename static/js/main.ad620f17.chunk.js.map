{"version":3,"sources":["components/Nav.js","components/mainComps/toolbar/btns/ShowAssist.js","components/mainComps/toolbar/btns/VisualizeBtn.js","entities/editor.js","entities/shexEntities/shexUtils/prefix.js","utils/rdfUtils.js","utils/prefixUtils.js","components/mainComps/toolbar/PrefixSelector.js","components/mainComps/toolbar/btns/PrefixesBtn.js","entities/shexEntities/types/type.js","entities/shexEntities/types/concreteTypes/prefixedIri.js","entities/shexEntities/types/concreteTypes/iriRef.js","entities/shexEntities/types/concreteTypes/bNode.js","entities/shexEntities/types/concreteTypes/primitive.js","entities/shexEntities/types/concreteTypes/kinds/blankKind.js","entities/shexEntities/types/concreteTypes/shapeReference.js","entities/shexEntities/types/concreteTypes/kinds/literal.js","entities/shexEntities/types/concreteTypes/kinds/nonLiteral.js","entities/shexEntities/types/concreteTypes/kinds/iriKind.js","entities/shexEntities/types/concreteTypes/kinds/bNodeKind.js","entities/shexEntities/types/typesFactory.js","entities/shexEntities/shape.js","utils/shexUtils.js","utils/tokenUtils.js","entities/shexEntities/shexUtils/inlineShape.js","entities/shexEntities/triple.js","utils/yasheUtils.js","shapes/defaultExample.js","shapes/wikiExample.js","utils/toolbarUtils.js","components/mainComps/toolbar/btns/UndoBtn.js","components/mainComps/toolbar/btns/RedoBtn.js","components/mainComps/toolbar/btns/UploadBtn.js","components/mainComps/toolbar/btns/DownloadBtn.js","components/mainComps/toolbar/btns/ChangeThemeBtn.js","components/mainComps/toolbar/btns/GaleryBtn.js","components/mainComps/toolbar/btns/DeleteAllBtn.js","components/mainComps/toolbar/btns/ScrollBtn.js","components/mainComps/toolbar/Toolbar.js","components/mainComps/assistant/AssistTitle.js","components/mainComps/shEx/headers/ShapeHeader.js","components/mainComps/shEx/customize/config/KindConfig.js","components/mainComps/shEx/customize/config/PrefixConfig.js","components/mainComps/shEx/customize/config/QualifierConfig.js","components/mainComps/shEx/customize/CustomComp.js","components/mainComps/shEx/headers/TripleHeader.js","components/mainComps/shEx/ConstraintComponent.js","components/mainComps/shEx/TripleComponent.js","components/mainComps/shEx/ShapeComponent.js","components/mainComps/assistant/AssistContent.js","components/mainComps/assistant/AssistLoader.js","components/mainComps/Assistant.js","components/mainComps/EditorComp.js","components/MainContainer.js","components/Visualizer.js","App.js","serviceWorker.js","index.js"],"names":["Nav","props","colapseAll","className","type","onClick","target","href","VisualizeBtn","context","useContext","AppContext","title","assistantToggle","ShowAssistBtn","visualizeToggle","Editor","EditorClass","this","getYashe","yashe","setYashe","getPrefixes","definedPrefixes","getInstance","getDefinedPrefixes","prefixes","pre","draw","shapes","newContent","forEach","element","toString","setValue","instance","Prefix","prefixName","prefixValue","ALL_PREFIXES","Wikidata","wikibase","wd","wdt","wdtn","wds","p","wdref","wdv","ps","psv","psn","pq","pqv","pqn","pr","prv","prn","wdno","wdata","W3C","rdfs","rdf","owl","skos","xsd","prov","schema","geo","geof","Blazegraph","bd","bds","gas","hint","getPrefix","prefix","defined","def","addPrefix","namespaces","current","getValue","uri","Codemirror","signal","PrefixSelector","handleChange","e","value","Object","keys","map","key","onChange","PrefixesBtn","data-toggle","id","Type","PrefixedIri","getPrefixName","IriRef","BNode","Primitive","BlankKind","ShapeReference","qualifier","factory","TypesFactory","createType","Literal","NonLiteral","IriKind","BNodeKind","retType","Shape","triples","triplesCount","length","triple","push","tripleId","filter","obj","setPrefix","str","shapesCount","emit","newShapes","undefined","inlines","shexUtils","addShape","newShape","assign","isExampleDef","isSchemaDef","isXsdDef","checkPrefixes","deleteShape","shapeId","confirm","window","shape","getShapeById","getShapeByName","name","s","getType","getTripleById","getTriples","InlineShape","Triple","inlineShape","cardinality","values","valuesCount","getInlineShape","getCardinality","PRIMITIVES","getTriple","singleTriple","inlineName","ref","index","token","string","getInlineName","getTypeName","toLowerCase","startsWith","split","prim","isPrimitive","getPrefixValue","defPrefixes","getNonWsTokens","tokens","tokenUtils","getTokens","l","lineCount","getLineTokens","getDefinedShapes","brackets","defShapes","getShapes","shapeType","getQualifier","i","getStart","updateInlines","inShape","shapeRef","setShape","yasheUtils","DEFAULT_SHAPE","replaceShapes","updatePrefixes","newPrefixes","val","getSchema","defaultExample","wikiExample","downloadFile","textFileAsBlob","Blob","downloadLink","document","createElement","download","innerHTML","URL","createObjectURL","style","display","body","appendChild","click","changeTheme","themeValue","getOption","getElementById","classList","add","remove","setOption","loadExample","example","setTimeout","scrollTop","scrollTo","UndoBtn","undo","RedoBtn","redo","UploadBtn","handleRead","files","file","endsWith","reader","FileReader","onload","event","result","readAsText","readFile","accept","data-multiple-caption","multiple","htmlFor","xmlns","width","height","viewBox","d","DownloadBtn","baseProfile","ChangeThemeBtn","fill","GaleryBtn","DeleteAllBtn","ScrollBtn","Toolbar","Collapse","isOpen","isToolBarOpen","ShowAssist","AssistTitle","ShapeHeader","customizeShape","collapseTriples","colapseBtn","rounded","useState","setName","shapeHeader","shapeLabel","placeholder","Bnode","isBnode","KindConfig","entity","collapsePrefix","bnode","kind","setKind","gridClass","setType","PrefixConfig","isPrefixOpen","QualifierConfig","setQualifier","newType","Qualifier","isQualifier","CustomComp","isCustomOpen","rounder","customClass","initialPrefix","initialOpenPrefix","setPrefixOpen","onExited","onEntering","primitives","TripleHeader","deleteTriple","customizeTriple","forceCollapse","collapseConstraints","setCardinality","initialPrimitive","primitive","setPrimitive","tripleHeader","tripleLabel","newCardinality","tripleBtns","CustomConstraint","constraint","setConstraint","initialOpenName","inlineValue","inlineOpen","setShapeRef","isShapeRefOpen","setShapeRefOpen","isQualiOpen","setQualiOpen","isNameOpen","setNameOpen","newConstraint","newName","inlineSelector","newQualifier","TripleComponent","isTripleCustomOpen","setTripleCustomOpen","isConstraintsOpen","setConstraintsOpen","setRounded","collapse","ConstraintComponent","ShapeComponent","setTriples","setCustomOpen","isTriplesOpen","setTriplesOpen","setColapseBtn","newTriples","triplesContainer","addBtns","getTriplesCount","addTriple","AssistContent","asist","AssistLoader","loading","React","createContext","AssistantComp","isAssistantOpen","size","onResizeStop","makeItResponsive","enable","right","EditorComp","divRef","useRef","oldShapes","useEffect","options","persistent","lineNumbers","showTooltip","y","YASHE","on","hasErrors","getNewShapes","updateAssist","refresh","loaded","setLoading","setAsist","MainContainer","Visualizer","svg","isVisualizeOpen","dangerouslySetInnerHTML","__html","App","setShapes","setSvg","setPrefixes","setAssistantOpen","setVisualizeOpen","setToolBarOpen","setWidth","setShapeHeader","setTripleHeader","setTriplesContainer","setShapeLabel","setTripleLabel","setTripleBtns","setAddBtns","setGridClass","visualize","bodyFormData","FormData","set","axios","method","url","data","config","headers","then","response","catch","console","log","Provider","direction","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ad620f17.chunk.js","sourcesContent":["import React from 'react';\nimport '../css/navComponents/Nav.css'; \n\nfunction Nav (props) {\n\n    const {colapseAll} = props;\n\n    return (   <nav className=\"navbar navbar-default \">\n        <div className=\"navbar-header\">\n        \n         <button className=\"collapseAllBtn mdc-icon-button material-icons\"type=\"button\"\n                 onClick={colapseAll} >\n                            menu\n                        </button> \n            <span className='shexTitle'>ShExAuthor</span>\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/YASHE/\">YASHE</a>\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/\">Weso</a>\n            <a className=\"navItems\" target=\"_blank\" href=\"https://www.linkedin.com/in/pablo-men%C3%A9ndez-su%C3%A1rez-106262a7/\">About me</a>\n     \n        </div>\n    </nav>);\n    \n    \n}\n\nexport default Nav;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\n\nfunction VisualizeBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                title=\"Show ShEx Assistant\"\n                type=\"button\"\n                onClick={context.assistantToggle}>\n                info\n        </button>);\n    \n    \n}\n\n\nexport default VisualizeBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\n\nfunction ShowAssistBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Visualize\"\n                onClick={context.visualizeToggle}>\n                remove_red_eye\n        </button> );\n    \n    \n}\n\n\nexport default ShowAssistBtn;\n\n\n","import YASHE from 'yashe';\n\n//Singleton Pattern\nconst Editor = (()=> {\n\n    function EditorClass(){\n\n    \n        this.getYashe = function () {\n            return this.yashe;\n        }\n\n        this.setYashe =  function (yashe) {\n            this.yashe = yashe;\n        }\n\n\n         this.getPrefixes = function () {\n                let yashe = Editor.getInstance().getYashe();\n                let definedPrefixes = yashe.getDefinedPrefixes();\n                let prefixes='';\n                for(let pre in definedPrefixes){\n                    prefixes+='PREFIX '+pre+':    <'+definedPrefixes[pre]+'>\\n';\n                }\n                prefixes+='\\n';\n                return prefixes;\n        }\n\n        this.draw = function(shapes){\n            let newContent = this.getPrefixes();\n            shapes.forEach(element =>{\n                newContent += element.toString()\n            });\n            this.getYashe().setValue(newContent);\n        }\n\n    }\n\n   \n\n    let instance;\n\n    return{\n        getInstance: ()=>{\n            if(!instance){\n                instance = new EditorClass();\n            }\n            return instance;\n        }\n\n    }\n\n})();\n\n\nexport default Editor;","class Prefix {\n\n    constructor(prefixName='',prefixValue='http://example.org/'){\n        this.prefixName = prefixName;\n        this.prefixValue = prefixValue;\n    }\n\n\n    getPrefixName(){\n        return this.prefixName;\n    }\n\n    getPrefixValue(){\n        return this.prefixValue;\n    }\n\n}\n\nexport default Prefix;","export const ALL_PREFIXES = {\n    Wikidata: {\n        wikibase: 'http://wikiba.se/ontology#',\n        wd: 'http://www.wikidata.org/entity/',\n        wdt: 'http://www.wikidata.org/prop/direct/',\n        wdtn: 'http://www.wikidata.org/prop/direct-normalized/',\n        wds: 'http://www.wikidata.org/entity/statement/',\n        p: 'http://www.wikidata.org/prop/',\n        wdref: 'http://www.wikidata.org/reference/',\n        wdv: 'http://www.wikidata.org/value/',\n        ps: 'http://www.wikidata.org/prop/statement/',\n        psv: 'http://www.wikidata.org/prop/statement/value/',\n        psn: 'http://www.wikidata.org/prop/statement/value-normalized/',\n        pq: 'http://www.wikidata.org/prop/qualifier/',\n        pqv: 'http://www.wikidata.org/prop/qualifier/value/',\n        pqn: 'http://www.wikidata.org/prop/qualifier/value-normalized/',\n        pr: 'http://www.wikidata.org/prop/reference/',\n        prv: 'http://www.wikidata.org/prop/reference/value/',\n        prn: 'http://www.wikidata.org/prop/reference/value-normalized/',\n        wdno: 'http://www.wikidata.org/prop/novalue/',\n        wdata: 'http://www.wikidata.org/wiki/Special:EntityData/'\n    },\n    W3C: {\n        rdfs: 'http://www.w3.org/2000/01/rdf-schema#',\n        rdf: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n        owl: 'http://www.w3.org/2002/07/owl#',\n        skos: 'http://www.w3.org/2004/02/skos/core#',\n        xsd: 'http://www.w3.org/2001/XMLSchema#',\n        prov: 'http://www.w3.org/ns/prov#'\n    },\n    'Social/Other': {\n        schema: 'http://schema.org/',\n        geo: 'http://www.opengis.net/ont/geosparql#',\n        geof: 'http://www.opengis.net/def/geosparql/function/'\n    },\n    Blazegraph: {\n        bd: 'http://www.bigdata.com/rdf#',\n        bds: 'http://www.bigdata.com/rdf/search#',\n        gas: 'http://www.bigdata.com/rdf/gas#',\n        hint: 'http://www.bigdata.com/queryHints#'\n    }\n};\n\n\n","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport Prefix from '../entities/shexEntities/shexUtils/prefix.js';\n\nimport {ALL_PREFIXES} from './rdfUtils';\n\nexport function getPrefix(prefix){\n    let defined = Editor.getInstance().getYashe().getDefinedPrefixes();\n    for(let def in defined){\n        if(defined[def] == prefix){\n          return new Prefix(def,defined[def]);\n        }\n    }\n    return new Prefix();\n}\n\nexport function addPrefix(prefix){\n        let namespaces = ALL_PREFIXES;\n        let yashe = Editor.getInstance().getYashe();\n        let current = yashe.getValue();\n        let defined = yashe.getDefinedPrefixes();\n        let uri = 'http://example.org/';\n        //getUri\n        for(let def in namespaces){\n          for(let p in namespaces[def]){\n            if(p==prefix)\n              uri = namespaces[def][p];\n          }\n        }\n        yashe.setValue( 'PREFIX ' + prefix + ': <' + uri + '>\\n' + current );\n        Codemirror.signal(yashe,'prefixUpdate');\n  }\n\n\nexport function getUri(prefix,namespaces){\n  for(let def in namespaces){\n    for(let p in namespaces[def]){\n      if(p==prefix)\n        return namespaces[def][p];\n    }\n  }\n  return 'http://example.org/';\n}","import React from 'react';\nimport Codemirror from 'codemirror';\nimport Editor from '../../../entities/editor';\n\nimport {addPrefix} from '../../../utils/prefixUtils';\nimport {ALL_PREFIXES} from '../../../utils/rdfUtils';\n\nfunction PrefixSelector (props){\n\n    const handleChange = (e) =>{\n       addPrefix(e.target.value);\n    }\n\n    return (\n        <div>\n            <button className='form-control'\n                    onClick={handleChange}>\n                    Example Prefix\n            </button>\n            {Object.keys(ALL_PREFIXES).map( (key) =>{\n                return( \n                    <div key={key}>\n                        <select className='form-control'\n                                onChange={handleChange}>\n                            <option>{key}</option>\n                            { \n                                Object.keys(ALL_PREFIXES[key]).map( (prefix) =>{\n                                    return <option key={prefix} value={prefix}>{prefix}</option>\n                                })  \n                            }\n                        </select>\n                    </div>)           \n            })}\n        </div>);\n                     \n}\n\n\nexport default PrefixSelector;\n","import React from 'react';\nimport PrefixSelector from '../PrefixSelector';\n\nfunction PrefixesBtn (props) {\n\n\n    return (        \n        <div className=\"dropdown\" title=\"Prefixes\">\n            <button className=\"mdc-icon-button material-icons btns btn dropdown-toggle selector\" type=\"button\" data-toggle=\"dropdown\">local_parking\n            <span className=\"caret\"></span></button>\n            <ul className='dropdown-menu'>\n                <li>\n                    <div id='prefixesDropdown'>  \n                        <PrefixSelector/>                                    \n                    </div>\n                </li>\n            </ul>\n        </div>);\n    \n    \n}\n\nexport default PrefixesBtn;","class Type{\n\n    constructor(value){\n        this.value = value;\n    }\n\n    getValue(){\n        return this.value;\n    }\n\n    setValue(value){\n        this.value = value;\n    }\n\n\n}\n\nexport default Type;","import Type from '../type';\nimport Prefix from '../../shexUtils/prefix';\n\nclass PrefixedIri extends Type{\n\n    constructor(context,prefix=new Prefix(),value=''){\n        super(value);\n        this.context = context;\n        this.prefix = prefix;\n    }\n\n    getPrefix(){\n        return this.prefix;\n    }\n\n    setPrefix(prefix){\n        this.prefix = prefix;\n    }\n\n   \n    getTypeName(){\n        return 'prefixedIri';\n    }\n\n\n    toString(){\n        return this.getPrefix().getPrefixName()+':'+this.getValue();\n    }\n\n}\n\nexport default PrefixedIri;","import Type from '../type';\nimport Editor from'../../../editor';\n\nclass IriRef extends Type{\n\n    constructor(context,value=''){\n        super(value);\n        this.context = context;\n    }\n\n    getTypeName(){\n        return 'iriRef';\n    }\n\n\n    toString(){\n        return '<'+this.getValue()+'>';\n    }\n\n\n}\n\nexport default IriRef;","import Type from '../type';\n\nclass BNode extends Type{\n\n    constructor(context,value='example'){\n        super(value);\n        this.context = context;\n    }\n\n\n    getTypeName(){\n        return 'bnodeType';\n    }\n\n\n    toString(){\n        return '_:'+this.getValue();\n    }\n\n}\n\n\n\nexport default BNode;","import Type from '../type';\n\nconst PRIMITIVES = ['String','Integer','Date','Boolean'];\n\nclass Primitive extends Type{\n\n     constructor(value='string'){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'primitive';\n    }\n\n    toString(){\n        return 'xsd:'+this.getValue();\n    }\n\n\n\n}\n\nexport default Primitive;","import Type from '../../type';\n\nclass BlankKind extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'blank';\n    }\n\n    toString(){\n        return '';\n    }\n\n\n\n}\n\nexport default BlankKind;","import Type from '../type';\nimport TypesFactory from '../typesFactory';\nimport BlankKind from './kinds/blankKind';\n\n\nclass ShapeReference extends Type{\n\n    constructor(value='',qualifier=new BlankKind()){\n        super(value);\n        this.qualifier = qualifier;\n        this.factory = new TypesFactory();\n    }\n\n    getTypeName(){\n        return 'shape';\n    }\n\n    setValue(value){\n        this.value=value;\n    }\n\n    setQualifier(qualifier){\n        this.qualifier = this.factory.createType(qualifier,'shapeName');\n    }\n\n\n    toString(){\n        if(this.value=='shape'){\n            return this.qualifier;\n        }\n        return this.value+' '+this.qualifier;\n    }\n\n\n}\n\n\nexport default ShapeReference;","import Type from '../../type';\n\nclass Literal extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'literal';\n    }\n\n    toString(){\n        return 'Literal';\n    }\n\n\n\n}\n\nexport default Literal;","import Type from '../../type';\n\nclass NonLiteral extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'nonliteralKind';\n    }\n\n    toString(){\n        return 'NONLITERAL';\n    }\n\n\n\n}\n\nexport default NonLiteral;","import Type from '../../type';\n\nclass IriKind extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'iri';\n    }\n\n    toString(){\n        return 'IRI';\n    }\n\n\n\n}\n\nexport default IriKind;","import Type from '../../type';\n\nclass BNodeKind extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'bnode';\n    }\n\n    toString(){\n        return 'BNODE';\n    }\n\n\n\n}\n\nexport default BNodeKind;","import PrefixedIri from'./concreteTypes/prefixedIri';\nimport IriRef from'./concreteTypes/iriRef';\nimport BNode from'./concreteTypes/bNode';\nimport Primitive from'./concreteTypes/primitive';\nimport ShapeReference from'./concreteTypes/shapeReference';\n\nimport Literal from'./concreteTypes/kinds/literal';\nimport NonLiteral from'./concreteTypes/kinds/nonLiteral';\nimport IriKind from'./concreteTypes/kinds/iriKind';\nimport BNodeKind from'./concreteTypes/kinds/bNodeKind';\n\nclass TypesFactory{\n\n    createType(type,context){\n\n        let retType;\n        if(type == 'iriRef'){\n            retType = new IriRef(context);\n        }\n        \n        if(type == 'prefixedIri'){\n            retType = new PrefixedIri(context);\n        }\n        \n        if(type == 'bnodeType'){\n            retType = new BNode(context);\n        }\n\n        if(type == 'primitive'){\n            retType = new Primitive();\n        }\n\n        if(type == 'shape'){\n            retType = new ShapeReference('');\n        }\n\n        if(type == 'literal'){\n            retType = new Literal(context);\n        }\n\n        if(type == 'nonliteral'){\n            retType = new NonLiteral(context);\n        }\n\n        if(type == 'iri'){\n            retType = new IriKind(context);\n        }\n\n        if(type == 'bnode'){\n            retType = new BNodeKind(context);\n        }\n \n\n        return retType;\n\n    }\n\n\n}\n\nexport default TypesFactory;","import TypesFactory from './types/typesFactory';\n\nimport PrefixedIri from './types/concreteTypes/prefixedIri';\nimport BlankKind from './types/concreteTypes/kinds/blankKind';\nimport Prefix from './shexUtils/prefix';\n\nclass Shape {\n\n  constructor(id,type=new PrefixedIri('shapeName',new Prefix('','http://example.org/')),triples = [],qualifier=new BlankKind()) {\n      this.id = id;\n      this.type = type;\n      this.triples = triples;\n      this.triplesCount = this.triples.length;\n      this.factory = new TypesFactory();\n      this.qualifier = qualifier;\n    }\n\n    addTriple(triple){\n        this.triples.push(triple);\n        this.triplesCount++;\n    }\n\n    removeTriple(tripleId){\n      this.triples = this.triples.filter(function( obj ) {\n        return obj.id != tripleId\n      });\n    }\n\n    getTriplesCount(){\n      return this.triplesCount;\n    }\n\n\n    getId(){\n      return this.id;\n    }\n\n    getType(){\n      return this.type; \n    }\n\n\n    getTriples() {\n        return this.triples;\n     }\n\n    setTriples(triples){\n      this.triples = triples;\n    }\n\n    getQualifier() {\n        return this.qualifier;\n     }\n\n    setQualifier(qualifier){\n      this.qualifier = this.factory.createType(qualifier,'shapeName');\n    }\n    \n\n    setType(type){\n        this.type = this.factory.createType(type,'shapeName');\n     }\n\n\n\n\n    getInitialValue(){\n       return this.type.value;\n    }\n     \n    getInitialPrefix(){\n      return this.type.prefix.prefixValue;\n    }\n\n    setTypeValue(value){\n      this.type.setValue(value);\n    }\n\n    setPrefix(prefix){\n      this.type.setPrefix(prefix);\n    }\n     \n\n     toString(){\n    \n      let str = this.type+' '+this.qualifier+' {\\n'\n      this.triples.forEach(triple => {\n        str+=triple;\n      });\n\n      str+=\"}\\n\\n\"\n      return str\n\n     }\n\n\n  }\n\nexport default Shape;","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport Shape from '../entities/shexEntities/shape';\nimport {addPrefix} from './prefixUtils';\n\nlet shapesCount = 0;\n\nfunction addShape (shapes){\n\n    const id = shapes.length + shapesCount++;\n    const newShape = new Shape(id);\n    \n    let newShapes = [];\n    newShapes = Object.assign(newShapes, shapes);\n    newShapes.push(newShape);\n    checkPrefixes();\n    emit(newShapes);\n    return newShape;    \n}\n\nfunction deleteShape(shapes,shapeId,confirm) {\n    if(!confirm){\n        confirm = window.confirm('Are you sure?');\n    }\n    if (confirm == true) {\n        const newShapes = shapes.filter(shape => shape.id != shapeId);\n        emit(newShapes);\n        return newShapes;\n    }\n    return shapes;\n}\n\nfunction getShapeById(shapes,shapeId) {\n    return shapes.filter(function( obj ) {\n        return obj.id == shapeId\n    })[0];\n}\n\nfunction getShapeByName(shapes,name) {\n    for(let s in shapes){\n        if(shapes[s].getType().getValue() == name){\n            return shapes[s];\n        }\n    }\n}\n\n\nfunction getTripleById(shape,tripleId) {\n    return shape.getTriples().filter(function( obj ) {\n        return obj.id == tripleId\n    })[0];\n}\n\n\nfunction emit(newShapes) {\n    const yashe = Editor.getInstance().getYashe();\n    if(yashe!=undefined){\n        Codemirror.signal(yashe,'humanEvent',newShapes);\n    }\n}\n\nfunction checkPrefixes(){\n    const yashe = Editor.getInstance().getYashe();\n    let isExampleDef = false;\n    let isSchemaDef = false;\n    let isXsdDef = false;\n    Object.keys(yashe.getDefinedPrefixes()).map(p=>{\n        if(p==''){\n            isExampleDef=true;\n        }\n        if(p=='schema'){\n            isSchemaDef = true;\n        } \n        if(p=='xsd'){\n            isXsdDef = true;\n        }\n    })\n\n    if(!isExampleDef){\n        addPrefix('');\n    } \n    if(!isSchemaDef){\n        addPrefix('schema');\n    } \n    if(!isXsdDef){\n        addPrefix('xsd');\n    }\n}\n\n\nconst shexUtils = {\n    addShape:addShape,\n    deleteShape:deleteShape,\n    getShapeById:getShapeById,\n    getShapeByName:getShapeByName,\n    getTripleById:getTripleById,\n    emit:emit\n}\n\nexport default shexUtils;","import shexUtils from './shexUtils';\n\nimport Editor from '../entities/editor';\n\nimport  Shape from '../entities/shexEntities/shape';\nimport  Triple from '../entities/shexEntities/triple';\n\nimport TypesFactory from '../entities/shexEntities/types/typesFactory';\n\nimport PrefixedIri from '../entities/shexEntities/types/concreteTypes/prefixedIri';\nimport IriRef from '../entities/shexEntities/types/concreteTypes/iriRef';\nimport BNode from '../entities/shexEntities/types/concreteTypes/bNode';\nimport Primitive from '../entities/shexEntities/types/concreteTypes/primitive';\nimport ShapeReference from '../entities/shexEntities/types/concreteTypes/shapeReference';\n\nimport Literal from '../entities/shexEntities/types/concreteTypes/kinds/literal';\nimport NonLiteral from '../entities/shexEntities/types/concreteTypes/kinds/nonLiteral';\nimport IriKind from '../entities/shexEntities/types/concreteTypes/kinds/iriKind';\nimport BNodeKind from '../entities/shexEntities/types/concreteTypes/kinds/bNodeKind';\nimport BlankKind from '../entities/shexEntities/types/concreteTypes/kinds/blankKind';\n\n\n\nimport Prefix from '../entities/shexEntities/shexUtils/prefix';\n\nimport InlineShape from '../entities/shexEntities/shexUtils/inlineShape';\n\n\n//HAY QUE METER TODOS\nconst PRIMITIVES = ['string','integer','date','boolean'];\n\n\nlet inlines;\nlet isValid = true;\n\nfunction getTokens(){\n    let yashe = Editor.getInstance().getYashe();\n    let tokens =[];\n    if(yashe!=undefined){\n        let numPrefixes = Object.keys(yashe.getDefinedPrefixes()).length;\n        for (var l = numPrefixes+1; l < yashe.lineCount(); ++l) {\n            let lineTokens = getNonWsTokens(yashe.getLineTokens(l));\n            lineTokens.forEach(token =>{\n                tokens.push(token);\n            })\n\n        }\n    }\n    \n    /*\n    if(!isValid){\n        return null;\n    }\n\n    */\n\n    return tokens;\n}\n\nfunction getDefinedShapes(tokens){\n    let brackets=0\n    let shape=[];\n    let defShapes = [];\n    //Separate shapes in arrays\n    tokens.forEach(element =>{\n        shape.push(element);\n        if(element.string == '{'){\n            brackets++;\n        }\n\n        if(element.string == '}'){\n            brackets--;\n            //Is the last } ?\n            if(brackets==0){\n                defShapes.push(shape);\n                shape = [];\n            }\n        }\n\n    })\n    return defShapes;\n}\n\n\nfunction getShapes(defShapes){\n    inlines = [];\n    let shapes = [];\n    let yashe = Editor.getInstance().getYashe();\n\n    defShapes.forEach(shape => {\n        let id = shapes.length;\n        let shapeDef = shape[0].string;\n        let shapeType = getType(shapeDef,'shapeName');\n        let qualifier = getQualifier(shape);\n        let triples = getTriples(id,shape);\n\n        shapes.push(new Shape(id,shapeType,triples,qualifier));\n    })\n    return shapes;\n\n}\n\nfunction getQualifier(shape) {\n    if(shape[1].type == 'keyword'){\n        let type = shape[1].string.toLowerCase();\n        return new TypesFactory().createType(type);\n    }\n    return new BlankKind();\n}\n\nfunction getTriples(shapeId,shape) {\n        let triples = [];\n        let singleTriple = [];\n        let yashe = Editor.getInstance().getYashe();\n        let start = getStart(shape);\n        for(let i=start;i<shape.length;i++){\n            singleTriple.push(shape[i])\n            if(shape[i].type == 'punc'){// finish of the triple ';'\n                if(singleTriple.length!=1){ //This line is neccesary when last triple of the shape ends with ';'\n           \n                    triples.push(getTriple(triples,singleTriple,shapeId));\n                    singleTriple = [];\n                }\n            }\n\n        }\n    return triples;\n}\n\nfunction getTriple(triples,singleTriple,shapeId) {\n    \n    if(singleTriple.length>5){\n        isValid = false;\n    }\n   \n    let id = triples.length;\n    let type;\n    let value;\n    let cardinality;\n    let inlineShape = new InlineShape();\n    let inlineName;\n    let index = 0;\n    for(let s in singleTriple){\n        let token = singleTriple[s];\n        if(index == 0){\n            type = getType(token.string,'tripleName');\n            \n        }else{\n   \n            if(token.type == 'string-2' || token.type == 'keyword' || token.type == 'variable-3'){\n                value = getValue(token.string);\n            }\n    \n            if(token.type == 'at' ){\n                \n                inlineName = getInlineName(token.string);\n                inlines.push(\n                        {\n                            shapeId:shapeId,\n                            tripleId:id,\n                            inlineName:inlineName\n                        }\n                    );\n            }\n\n            if(token.type == 'card' ){\n                cardinality = token.string;\n            }\n\n        }\n        index++;\n    }\n\n\n    //ShapeRef\n    if(inlineName != undefined){\n        let ref;\n        if(value!= undefined){\n           ref = value.getTypeName();\n        }\n        value = new ShapeReference(ref); \n    }\n\n    return new Triple(id,type,value,inlineShape,cardinality);\n}\n\nfunction getStart(shape){\n    for(let i=0;i<shape.length;i++){\n        if(shape[i].string=='{'){\n            return i+1;\n        }\n    }\n}\n\n\n\nfunction getValue(def) {\n\n    let factory = new TypesFactory();\n    let type = factory.createType(def.toLowerCase());\n\n    if(type!=undefined){\n        return type;\n    }\n\n\n    if(def.startsWith('<')){\n        let value = def.split('<')[1].split('>')[0];\n        return new IriRef('valueName',value);\n    }\n\n    let token = def.split(':');\n    let yashe = Editor.getInstance().getYashe();\n\n    if(token.length==2){\n        //At this point it can be Prefixed,Primitive or ShapeRef\n        if(isPrimitive(token[1])){\n            return new Primitive(token[1]);\n        }else{\n            let prefixName = token[0];\n            let prefixValue = getPrefixValue(yashe.getDefinedPrefixes(),prefixName)\n            let prefix = new Prefix(prefixName,prefixValue);\n            return  new PrefixedIri('valueName',prefix,token[1]);\n        }\n\n    }\n \n}\n\nfunction getType(def,context) {\n    let value;\n    let yashe = Editor.getInstance().getYashe();\n    if(def.startsWith('<')){\n        value = def.split('<')[1].split('>')[0];\n        return new IriRef(context,value);\n    }else if(def.startsWith('_:')){\n        value = def.split(':')[1];\n        return new BNode(context,value);\n    }else{\n        value = def.split(':')[1];\n        let prefixName = def.split(':')[0];\n        let prefixValue = getPrefixValue(yashe.getDefinedPrefixes(),prefixName)\n        let prefix = new Prefix(prefixName,prefixValue);\n        return new PrefixedIri(context,prefix,value);\n    }\n}\n\n\nfunction updateInlines(shapes) {\n\n    for(let inShape in inlines){\n  \n        let shapeId = inlines[inShape].shapeId;\n        let tripleId = inlines[inShape].tripleId;\n        let name = inlines[inShape].inlineName;\n\n        let shape = shexUtils.getShapeById(shapes,shapeId);\n        let triple = shexUtils.getTripleById(shape,tripleId);\n\n        let shapeRef = shexUtils.getShapeByName(shapes,name);\n        triple.getInlineShape().setShape(shapeRef);\n\n    }\n}\n\n\n\nfunction getPrefixValue(defPrefixes,prefixName){\n    let prefixValue;\n    for(let pre in defPrefixes){\n        if(pre==prefixName){\n            prefixValue = defPrefixes[pre]\n        }\n    }\n    return prefixValue;\n}\n\n\nfunction isPrimitive(value) {\n    for(let prim in PRIMITIVES){\n        if(PRIMITIVES[prim] == value){\n            return true;\n        }\n    }\n    return false;\n}\n\n\nfunction getInlineName(token) {\n    if(token.startsWith('@<')){\n        return token.split('<')[1].split('>')[0];\n    }\n    return token.split(':')[1];\n}\n\n\nfunction getNonWsTokens(tokens){\n    return tokens.filter(function(obj){\n        return obj.type != 'ws';\n    })\n}\n\nconst tokenUtils = {\n    getTokens:getTokens,\n    getDefinedShapes:getDefinedShapes,\n    getShapes:getShapes,\n    updateInlines:updateInlines\n}\n\nexport default tokenUtils;","import Shape from'../shape';\n\nclass InlineShape{\n\n    constructor(shape=null){\n        this.shape = shape;\n    }\n\n\n    getShape(){\n        return this.shape;\n    }\n\n    setShape(shape){\n        this.shape = shape;\n    }\n\n\n    toString(){\n        if(this.shape){\n           let shapeRef = this.shape.getType().toString();\n            return '@'+shapeRef;\n        }\n\n        return '';\n    }\n\n\n}\n\nexport default InlineShape;","import TypesFactory from './types/typesFactory';\nimport PrefixedIri from './types/concreteTypes/prefixedIri';\nimport Primitive from './types/concreteTypes/primitive';\nimport InlineShape from './shexUtils/inlineShape';\nimport Prefix from './shexUtils/prefix';\n\nclass Triple {\n\n\n    constructor(id,type=new PrefixedIri('tripleName',new Prefix('schema','http://schema.org/')),value=new Primitive(),inlineShape=new InlineShape(),cardinality='') {\n        this.id = id;\n        this.type = type;\n        this.value = value;\n        this.cardinality = cardinality;\n        this.inlineShape = inlineShape;\n        this.factory = new TypesFactory();\n      }\n      \n    addValue(value){\n        this.values.push(value);\n        this.valuesCount++;\n    }\n\n    getId(){\n        return this.id;\n    }\n\n    getType(){\n      return this.type; \n    }\n\n    setType(type){\n       this.type = this.factory.createType(type,'tripleName');\n     }\n\n    setValue(value){\n        this.value = this.factory.createType(value,'valueName');;\n    }\n\n    setCardinality(cardinality){\n        this.cardinality = cardinality;\n    }\n\n    getInlineShape(){\n        return this.inlineShape;\n    }\n\n    setInlineShape(inlineShape){\n        this.inlineShape = inlineShape;\n    }\n\n\n    getValue(){\n       return this.value;\n    }\n\n\n    getCardinality(){\n        return this.cardinality;\n    }\n\n\n\n    toString(){\n        return '  '+this.getType().toString()+'          '+\n        this.getValue().toString() +' '+\n        this.getInlineShape().toString()+\n        this.getCardinality()+'  ;\\n';\n\n    }\n\n\n}\n\nexport default Triple;","import Editor from '../entities/editor';\nimport tokenUtils from './tokenUtils';\n\n\nconst DEFAULT_SHAPE = 'PREFIX :       <http://example.org/>\\n'+\n'PREFIX schema: <http://schema.org/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n'+\n\n':User IRI {\\n'+ \n'  schema:name          xsd:string  ;\\n'+\n'  schema:birthDate     xsd:date?  ;\\n'+\n'  schema:birthPlace    xsd:string+  ;\\n'+\n'  schema:knows          @:User*  \\n'+\n'}';\n  \n  \n  function replaceShapes(){\n    let tokens = tokenUtils.getTokens();\n\n    /*\n    if(tokens==null){\n      return tokens;\n    }\n\n    */\n\n\n    let defShapes = tokenUtils.getDefinedShapes(tokens);\n    let newShapes = tokenUtils.getShapes(defShapes);\n \n    tokenUtils.updateInlines(newShapes);\n\n    return newShapes;\n  }\n\n  function updatePrefixes(){\n    let newPrefixes = [];\n    let prefix = {};\n    let yashe = Editor.getInstance().getYashe();\n    if(yashe!=undefined){\n      let keys = Object.keys(yashe.getDefinedPrefixes());\n      let values = Object.values(yashe.getDefinedPrefixes());\n\n      for(let i=0;i<keys.length;i++){\n          prefix = {};\n          prefix.key=keys[i];\n          prefix.val=values[i];\n          newPrefixes.push(prefix);\n      }\n    }\n    return newPrefixes;\n  }\n\nfunction getSchema(){\n    let yashe = Editor.getInstance().getYashe();\n    if(yashe){\n        return yashe.getValue();\n    }\n    return '';\n  }\n\n\n const yasheUtils = {\n      DEFAULT_SHAPE:DEFAULT_SHAPE,\n      replaceShapes:replaceShapes,\n      updatePrefixes:updatePrefixes,\n      getSchema:getSchema\n  }\n\n  export default yasheUtils;\n","export const defaultExample = \n\n'PREFIX :       <http://example.org/>\\n'+\n'PREFIX schema: <http://schema.org/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n'+\n\n':User IRI {\\n'+\n  'schema:name          xsd:string  ;\\n'+\n  'schema:birthDate     xsd:date?  ;\\n'+\n  'schema:birthPlace    xsd:string+  ;\\n'+\n  'schema:knows          @:User*  \\n'+\n'}\\n';\n","\nexport const wikiExample = \n'PREFIX wd: <http://www.wikidata.org/entity/>\\n'+\n'PREFIX wdt:  <http://www.wikidata.org/prop/direct/>\\n'+\n'PREFIX p:    <http://www.wikidata.org/prop/>\\n'+\n'PREFIX prov:    <http://www.w3.org/ns/prov#>\\n'+\n'PREFIX pq:    <http://www.wikidata.org/prop/qualifier/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n'+\n'PREFIX prv:    <http://www.wikidata.org/prop/reference/value/>\\n'+\n'PREFIX pr:    <http://www.wikidata.org/prop/reference/>\\n'+\n'PREFIX ps:    <http://www.wikidata.org/prop/statement/>\\n'+\n'PREFIX interpro:    <http://micel.io/genewiki/interpro/>\\n\\n'+\n\n'<#wikidata-human-protein>  {\\n'+\n  'p:P703           @<#P703_found_in_taxon_human>  ;\\n'+\n  'p:P352           @<#P352_uniprot_id>+  ;\\n'+\n  'p:P527           @<#P527_has_part>*  ;\\n'+\n  'p:P637           @<#P637_RefSeq_Protein_ID>*  ;\\n'+\n  'p:P639           @<#P639_RefSeq_RNA_ID>*  ;\\n'+\n'}\\n\\n'+\n\n'<#P703_found_in_taxon_human>  {\\n'+\n  'ps:P703          wd:Q15978631   ;\\n'+\n  'prov:wasDerivedFrom          IRI +  ;\\n'+\n'}\\n\\n'+\n\n'<#P352_uniprot_id>  {\\n'+\n  'ps:P352          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P527_has_part>  {\\n'+\n  'ps:P527          IRI   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P637_RefSeq_Protein_ID>  {\\n'+\n  'ps:P637          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P639_RefSeq_RNA_ID>  {\\n'+\n  'ps:P637          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n';\n\n","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\n\nimport {defaultExample} from '../shapes/defaultExample';\nimport {wikiExample} from '../shapes/wikiExample';\n\nexport function readFile(files){\n    //Only one file allowed\n    if(files.length>1){\n        return;\n    }\n\n    var file = files[0];\n    //Only ShEx files allowed\n    if(!file.name.endsWith('.shex')){\n        return;\n    }\n    var reader = new FileReader();\n    reader.onload = function(event) {\n        Editor.getInstance().getYashe().setValue(event.target.result)\n    };\n\n    reader.readAsText(file);\n    Codemirror.signal(Editor.getInstance().getYashe(),'upload');\n}\n\nexport function downloadFile(){\n    var textFileAsBlob = new Blob([ Editor.getInstance().getYashe().getValue() ], { type: 'text/shex' });\n    var fileNameToSaveAs = \"document.shex\";\n\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.download = fileNameToSaveAs;\n    downloadLink.innerHTML = \"Download File\";\n    if (window.URL != null) {\n        // Chrome allows the link to be clicked without actually adding it to the DOM.\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n    } else {\n        // Firefox requires the link to be added to the DOM before it can be clicked.\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n        downloadLink.style.display = \"none\";\n        document.body.appendChild(downloadLink);\n    }\n    downloadLink.click();\n}\n\nexport function changeTheme(){\n    let yashe = Editor.getInstance().getYashe();\n    var themeValue = 'wiki'\n    var color = 'black'\n    if(yashe.getOption('theme') == 'wiki'){\n        themeValue='dark'\n        color = 'white'\n        document.getElementById(\"downloadBtn\").classList.add('light');\n        document.getElementById(\"copyBtn\").classList.add('light');\n        document.getElementById(\"deleteBtn\").classList.add('light');\n        document.getElementById(\"themeBtn\").classList.add('light');\n        document.getElementById(\"smallBtn\").classList.add('light');\n        document.getElementById(\"fullBtn\").classList.add('light');\n        document.getElementById(\"uploadBntLabel\").classList.add('light');\n    }else{\n        document.getElementById(\"downloadBtn\").classList.remove('light');\n        document.getElementById(\"copyBtn\").classList.remove('light');\n        document.getElementById(\"deleteBtn\").classList.remove('light');\n        document.getElementById(\"themeBtn\").classList.remove('light');\n        document.getElementById(\"smallBtn\").classList.remove('light');\n        document.getElementById(\"fullBtn\").classList.remove('light');\n        document.getElementById(\"uploadBntLabel\").classList.remove('light');\n    }\n    \n    yashe.setOption(\"theme\",themeValue)\n    Codemirror.signal(yashe,'themeChange');\n\n}\n\nexport function loadExample(example){\n    let yashe = Editor.getInstance().getYashe();\n    if(example=='default'){\n        yashe.setValue(defaultExample)\n    }else{\n        yashe.setValue(wikiExample)\n    }\n    setTimeout(() => {//needed\n        Codemirror.signal(yashe,'galery');\n    }, 10); \n}\n\nexport function scrollTop(){\n    window.scrollTo(0, 0);\n}\n\n\nexport function undo(){\n    let yashe = Editor.getInstance().getYashe();\n    yashe.undo();\n}\n\nexport function redo(){\n    let yashe = Editor.getInstance().getYashe();\n    yashe.redo();\n}\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport yasheUtils from '../../../../utils/yasheUtils';\nimport {undo} from '../../../../utils/toolbarUtils';\n\nfunction UndoBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleUndo = function(){\n        undo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());\n            context.updatePrefixes(yasheUtils.updatePrefixes());\n        }, 10); \n    }\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Undo\"\n                onClick={handleUndo}>\n                undo\n        </button> );\n    \n  \n}\n\n\nexport default UndoBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\n\nimport {redo} from '../../../../utils/toolbarUtils';\nimport yasheUtils from '../../../../utils/yasheUtils';\n\nfunction RedoBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleRedo = function(){\n        redo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());\n            context.updatePrefixes(yasheUtils.updatePrefixes());\n        }, 10); \n    }\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Redo\"\n                onClick={handleRedo}>\n                redo\n        </button> );\n    \n}\n\n\nexport default RedoBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport {readFile} from '../../../../utils/toolbarUtils';\n\nfunction UploadBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleRead = function(e){\n        readFile(e.target.files);\n    }\n\n    return (\n        <div className=\"svgBtnCont uploadBtn\">\n            <input  type=\"file\" \n                    onChange={handleRead} \n                    accept=\".shex\" \n                    name=\"file-1[]\" \n                    id=\"file-1\" \n                    className=\"inputfileBtn\" \n                    data-multiple-caption=\"{count}'+'files selected\" \n                    multiple \n                    onChange={handleRead}/>\n\n            <label  className=\"svgBtn\" \n                    htmlFor=\"file-1\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" \n                        width=\"25\" \n                        height=\"30\" \n                        viewBox=\"0 0 20 17\">\n                        <path d=\"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\"/>\n                    </svg>\n            </label>\n        </div> );\n    \n  \n}\n\nexport default UploadBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\n\nimport {downloadFile} from '../../../../utils/toolbarUtils';\n\nfunction DownloadBtn () {\n\n    const context = useContext(AppContext);\n\n\n    return (\n        <button className=\"svgBtnCont\"\n                type=\"button\" \n                title=\"Download\"\n                onClick={downloadFile}>\n                <svg className=\"svgBtn\" \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"25\" \n                    height=\"30\" \n                    baseProfile=\"tiny\" \n                    viewBox=\"0 0 100 100\">\n                    <path d=\"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z\"/>\n                </svg>\n        </button>  );\n    \n  \n}\n\nexport default DownloadBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\n\nimport {changeTheme} from '../../../../utils/toolbarUtils';\n\nfunction ChangeThemeBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <button  className=\"svgBtnCont\" \n                  type=\"button\" \n                  title=\"Theme\"\n                  onClick={changeTheme}>\n                  <svg className=\"svgBtn\" \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"25\" \n                    height=\"30\" \n                    viewBox=\"0 0 24 24\">\n                    <path fill=\"none\" d=\"M24 0H0v24h24V0z\"/>\n                    <path d=\"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z\"/>\n                  </svg>\n        </button>  );\n    \n  \n}\n\nexport default ChangeThemeBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport {loadExample} from '../../../../utils/toolbarUtils';\n\nfunction GaleryBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <div className=\"dropdown\" title=\"Galery\">\n            <button className=\"dropdown-toggle  \n                            mdc-icon-button material-icons \n                                btns selector\" \n                    type=\"button\" \n                    data-toggle=\"dropdown\">\n                    folder_open\n                    <span className=\"caret\"></span>\n            </button>\n            <ul className='dropdown-menu'>\n                <li>\n                    <div id='prefixesDropdown'>  \n                        <button className=\"form-control\"\n                                onClick={()=>loadExample('default')}>\n                                User\n                        </button>\n                        <button className=\"form-control\" \n                                onClick={()=>loadExample('wiki')}>\n                                Wikidata\n                        </button>\n                    </div>\n                </li>\n            </ul>\n        </div>  );\n    \n  \n}\n\nexport default GaleryBtn;\n\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport  Editor from '../../../../entities/editor';\n\nfunction DeleteAllBtn () {\n\n    const context = useContext(AppContext);\n\n    const  deleteShapes = function(){\n        if(window.confirm('Are you sure?')){\n            //Needed for visualize\n            setTimeout(() => {\n                context.replaceShapes([]);    \n            }, 10);\n            // We can't do emit() because it takes \n            // like another call to change shapes state\n            // I don't know exactly the reason...\n            // It's something about react state\n            Editor.getInstance().getYashe().setValue('');\n        }\n    }\n\n\n    return (\n         <button className=\"mdc-icon-button material-icons btns\" \n                 title=\"Delete all\"\n                 onClick={deleteShapes}>\n                 delete_outline\n            </button>  );\n    \n  \n}\n\nexport default DeleteAllBtn;\n\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport  Editor from '../../../../entities/editor';\nimport {scrollTop} from '../../../../utils/toolbarUtils';\n\nfunction ScrollBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <button className=\"mdc-icon-button material-icons btns\" \n                 type=\"button\" \n                 title=\"Up\"\n                 onClick={scrollTop}>\n                 arrow_upward\n        </button>   );\n    \n  \n}\n\nexport default ScrollBtn;\n\n\n\n\n","import React, {useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../App'; \nimport ShowAssist from './btns/ShowAssist';\nimport VisualizeBtn from './btns/VisualizeBtn';\nimport PrefixesBtn from './btns/PrefixesBtn';\nimport UndoBtn from './btns/UndoBtn';\nimport RedoBtn from './btns/RedoBtn';\nimport UploadBtn from './btns/UploadBtn';\nimport DownloadBtn from './btns/DownloadBtn';\nimport ChangeThemeBtn from './btns/ChangeThemeBtn';\nimport GaleryBtn from './btns/GaleryBtn';\nimport DeleteAllBtn from './btns/DeleteAllBtn';\nimport ScrollBtn from './btns/ScrollBtn';\n\nimport '../../../css/navComponents/Toolbar.css';\n\n\nfunction Toolbar () {\n\n    const context = useContext(AppContext);\n\n    return (\n    <Collapse isOpen={context.isToolBarOpen} className=\"col-xs-1 toolbarCollapse\">\n        <div className='toolbar'>\n                <div className='toolbarTop'>                    \n                    <ShowAssist/>\n                    <VisualizeBtn/>\n                    <PrefixesBtn/>\n                    <UndoBtn/>\n                    <RedoBtn/>\n                    <UploadBtn/>\n                    <DownloadBtn/>\n                    <ChangeThemeBtn/>\n                    <GaleryBtn/>\n                    <DeleteAllBtn/>\n                </div>                     \n\n                <div className='toolbarBottom'>\n                    <ScrollBtn/> \n                </div>\n        </div>\n    </Collapse>);\n    \n    \n}\n\n\nexport default Toolbar;\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nfunction AssistTitle (props) {\n\n    const context = useContext(AppContext);\n\n    return (<div className=\"assisTitle\">\n                <div className=\"title\">ShEx Assistant</div>\n                <div className=\"asisTitleClose\">\n                    <button className=\"closeAsisBtn\" title=\"Close Assistant\" onClick={context.assistantToggle}>x</button>\n                </div>\n            </div>);\n}\n\n\nexport default AssistTitle;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport '../../../../css/shexComponents/headers/ShapeHeader.css';\n\n\nfunction ShapeHeader (props) {\n\n    const context = useContext(AppContext);\n    const {shape,customizeShape,collapseTriples,colapseBtn,rounded} = props;\n    const [name,setName] = useState(shape.type.value);\n\n    const handleChange = function(e){\n        const name = e.target.value;\n        shape.type.setValue(name);\n        context.emit();\n        setName(name);\n    }\n\n    return (\n        <div className={rounded+' header '+context.shapeHeader}>            \n            <label  className={context.shapeLabel+\" shapeNameLabel\"}>Shape</label>\n            <input  type=\"text\" \n                    className=\"name\"\n                    value={name}\n                    onChange={handleChange}\n                    placeholder=\"eg: User\"\n                    title=\"Shape Name\"/>\n\n            <button className=\"buildBtn mdc-icon-button material-icons\" \n                    onClick={customizeShape} \n                    title=\"Customize Shape\">\n                    build\n            </button>\n\n            <button className=\"deleteShapeBtn mdc-icon-button material-icons\" \n                    onClick={()=>context.deleteShape(shape.id)} \n                    title=\"Delete Shape\">\n                    delete\n            </button>\n\n            <button className=\"collapseBtn mdc-icon-button material-icons\" \n                    onClick={collapseTriples} \n                    title=\"Show Triples\">\n                    {colapseBtn}\n            </button>\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default ShapeHeader;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../App';\n\nfunction KindConfig (props) {\n\n    const context = useContext(AppContext);\n    const {entity,setPrefix,collapsePrefix,bnode} = props;\n    const [kind,setKind] = useState(entity.type.getTypeName());\n  \n    const handleKindChange = function(e){\n        const type  = e.target.value;\n        const value = entity.type.value;\n        entity.setType(type);\n        entity.type.value = value;\n        context.emit();\n        setKind(type);\n        setPrefix('example');\n        collapsePrefix(e)\n    }\n\n    \n\n    return (\n        <div className={context.gridClass + \" gridBox\"}>\n            <label className=\"customLabel\">Kind </label>\n            <select className=\"customSelector\" value={kind} onChange={handleKindChange}>\n                <option value=\"iriRef\">IriRef</option>\n                <option value=\"prefixedIri\">PrefixedIri</option>\n                <Bnode isBnode={bnode}/>\n            </select>\n        </div>\n    );\n                                   \n    \n}\n\n\nfunction Bnode(props) {\n  const isBnode = props.isBnode;\n  if (isBnode) {\n    return <option value=\"bnodeType\">Bnode</option>;\n  }\n  return null;\n}\n\n\nexport default KindConfig;\n\n","import React,{useState,useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../App';\n\nimport {getPrefix} from '../../../../../utils/prefixUtils';\n\nfunction PrefixConfig (props) {\n\n    const context = useContext(AppContext);\n    const {entity,isPrefixOpen,prefix,setPrefix} = props;\n\n  \n    const handlePrefixChange = function(e){\n        let prefix = getPrefix(e.target.value);\n        entity.type.setPrefix(prefix);\n        context.emit();\n        setPrefix(e.target.value);\n    }\n\n    return (\n         <Collapse isOpen={isPrefixOpen} className={context.gridClass + \" gridBox\"}>\n            <label className=\"customLabel\">Prefix </label>\n            <select className=\"customSelector\" value={prefix} onChange={handlePrefixChange}>\n                <option value=\"example\">example</option>\n                { \n                context.prefixes.map((pre) =>{\n                    if(pre.key!=''){\n                        return <option key={pre.key} value={pre.val}>{pre.key}</option>\n                    }                        \n                })\n            }\n            </select>\n         </Collapse>\n    );\n                                   \n    \n}\n\nexport default PrefixConfig;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../App';\n\nfunction QualifierConfig (props) {\n\n    const context = useContext(AppContext);\n    const {shape} = props;\n    const [qualifier,setQualifier] = useState(shape.qualifier.getTypeName())\n  \n    const handleQualifierChange = function(e){\n        let newType = e.target.value;\n        shape.setQualifier(newType);\n        context.emit();\n        setQualifier(newType);\n    }\n\n\n    return (\n         <div className={context.gridClass + \" gridBox\"}>\n            <label className=\"customLabel\">Qualifier </label>\n            <select className=\"customSelector\" value={qualifier} onChange={handleQualifierChange}>\n                <option value=\"shape\">None</option>\n                <option value=\"iri\">Iri</option>\n                <option value=\"literal\">Literal</option>\n                <option value=\"nonliteral\">NonLiteral</option>\n                <option value=\"bnode\">Bnode</option>\n            </select>\n        </div>\n    );\n                                   \n    \n}\n\nexport default QualifierConfig;\n\n","import React,{useState,useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../App';\nimport KindConfig from './config/KindConfig';\nimport PrefixConfig from './config/PrefixConfig';\nimport QualifierConfig from './config/QualifierConfig';\n\nimport '../../../../css/shexComponents/customize/Custom.css'\n\nfunction CustomComp (props) {\n\n    const context = useContext(AppContext);\n    const {entity,isCustomOpen,rounder,qualifier,bnode,customClass} = props;\n\n    let initialPrefix = 'example';\n    let initialOpenPrefix = false;\n    if(entity.type.prefix!=undefined){\n        initialPrefix = entity.type.prefix.prefixValue;\n        initialOpenPrefix = true;\n    }\n\n    const [prefix,setPrefix] = useState(initialPrefix);\n    const [isPrefixOpen,setPrefixOpen] = useState(initialOpenPrefix);\n \n    const collapsePrefix = function(e){\n        if(e.target.value=='prefixedIri'){\n            setPrefixOpen(true);\n        }else{\n            setPrefixOpen(false);\n        }    \n    }\n    \n\n    return (\n        <Collapse isOpen={isCustomOpen}\n                  className='customColapse' \n                  onExited={rounder}\n                  onEntering={rounder}>\n\n            <div className={customClass}>\n                <KindConfig \n                    entity={entity}\n                    setPrefix={setPrefix}\n                    collapsePrefix={collapsePrefix}\n                    bnode={bnode}/>\n               \n                <PrefixConfig \n                    entity={entity}\n                    isPrefixOpen={isPrefixOpen}\n                    prefix={prefix}\n                    setPrefix={setPrefix}/> \n\n                 <Qualifier \n                    isQualifier={qualifier}\n                    entity={entity}/>              \n            </div>\n        </Collapse>                 \n    );\n                                   \n    \n}\n\nfunction Qualifier(props) {\n  const {isQualifier,entity} = props;\n  if (isQualifier) {\n    return (<QualifierConfig shape={entity}/>)\n  }\n  return null;\n}\n\n\nexport default CustomComp;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport yasheUtils from '../../../../utils/yasheUtils';\n\nimport '../../../../css/shexComponents/headers/TripleHeader.css';\n\n\nconst primitives = ['String','Integer','Date','Boolean','Custom'];\n\n\nfunction TripleHeader (props) {\n\n    const context = useContext(AppContext);\n    const {triple,deleteTriple,customizeTriple,forceCollapse,collapseConstraints,rounded} = props;\n\n    const [name,setName] = useState(triple.type.value);\n    const [cardinality,setCardinality] = useState(triple.cardinality);\n\n    const handleNameChange = function(e){\n        const name = e.target.value;\n        triple.type.setValue(name);\n        context.emit();\n        setName(name);\n    }\n\n    let initialPrimitive = 'custom'\n    if(triple.value.value != ''){\n        initialPrimitive = triple.value.value;\n    }\n    const [primitive,setPrimitive] = useState(initialPrimitive);\n\n\n    const handlePrimitiveChange = function(e){\n        const primitive = e.target.value;\n\n        if(primitive == 'custom'){\n            setPrimitive('custom')\n            forceCollapse(true);\n            return;\n        }\n\n        triple.setValue('primitive');\n        triple.value.setValue(primitive);\n        triple.inlineShape.shape = null;\n        context.emit();\n        setPrimitive(primitive);\n        forceCollapse(false);\n    }\n\n    const handleCardinalityChange = function(e){\n        let newCardinality = e.target.value;\n        triple.setCardinality(newCardinality);\n        context.emit();\n        setCardinality(newCardinality)\n       \n    }\n\n    const handleCollapse = function(){\n        setPrimitive('custom')\n        collapseConstraints();\n    }\n   \n   \n    return (\n        <div className={rounded+\" tripleHeader \"+context.tripleHeader}>            \n            <label  className={context.tripleLabel}>Triple</label>\n            <input  type=\"text\" \n                    className=\"name\"\n                    value={name}\n                    onChange={handleNameChange}\n                    placeholder=\"eg: name\"\n                    title=\"Triple Name\"/>\n\n            <select className=\"customSelector\" \n                    value={primitive} \n                    onChange={handlePrimitiveChange}\n                    title=\"Constraint\">\n                {\n                    primitives.map(prim =>{\n                        return <option key={prim} value={prim.toLowerCase()}>{prim}</option>\n                    })\n                }\n            </select>\n\n            <select className=\"customSelector\" \n                    value={cardinality} \n                    onChange={handleCardinalityChange} \n                    title=\"Cardinality\">\n                    <option value=\"\">Exactly one</option>\n                    <option value=\"*\">Zero or more</option>\n                    <option value=\"+\">One at least</option>\n                    <option value=\"?\">One or none</option>\n            </select>\n\n            <button className={context.tripleBtns+\" buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons\"} \n                    onClick={customizeTriple} \n                    title=\"Customize Triple\">\n                    build\n            </button>\n\n            <button className={context.tripleBtns+\" buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons\"}  \n                    onClick={handleCollapse} \n                    title=\"Customize Constraint\">\n                    build\n            </button>\n\n            <button className={context.tripleBtns+\" deleteTripleBtn mdc-icon-button material-icons\"} \n                    onClick={()=>deleteTriple(triple.id)} \n                    title=\"Delete Triple\">\n                    delete\n            </button>\n\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default TripleHeader;\n\n","import React,{useState,useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../App';\nimport {getPrefix} from '../../../utils/prefixUtils';\nimport shexUtils from '../../../utils/shexUtils';\nimport yasheUtils from '../../../utils/yasheUtils';\n\n\nconst primitives = ['String','Integer','Date','Boolean'];\n\n\nfunction CustomConstraint (props) {\n\n    const context = useContext(AppContext);\n    const {triple,isCustomOpen,collapseConstraints} = props;\n\n    const [constraint,setConstraint] = useState(triple.value.getTypeName());\n    const [qualifier,setQualifier] = useState(triple.value.value)\n    const [primitive,setPrimitive] = useState(triple.value.value);\n    const [cardinality,setCardinality] = useState(triple.cardinality);\n        \n    let initialPrefix = 'example';\n    let initialOpenPrefix = false;\n    if(triple.value.prefix!=undefined){\n        initialPrefix = triple.value.prefix.prefixValue;\n        initialOpenPrefix = true;\n    }\n\n    const [prefix,setPrefix] = useState(initialPrefix);\n    const [isPrefixOpen,setPrefixOpen] = useState(initialOpenPrefix);\n\n\n    let initialOpenName = false;\n    if(triple.value.value!='' && constraint!='primitive'){\n        initialOpenName = true;\n    }\n\n    let inlineValue = '';\n    let inlineOpen = false;\n    if(triple.inlineShape.shape != null){\n        inlineValue = triple.inlineShape.shape.id;\n        inlineOpen = true;\n        initialOpenName = false;\n    }\n\n  \n    \n    const [shapeRef,setShapeRef] = useState(inlineValue);\n    const [isShapeRefOpen,setShapeRefOpen] = useState(inlineOpen);\n    const [isQualiOpen,setQualiOpen] = useState(inlineOpen);\n\n\n    const [name,setName] = useState(triple.value.value);\n    const [isNameOpen,setNameOpen] = useState(initialOpenName);\n\n\n\n    const handlePrefixChange = function(e){ \n        let prefix = getPrefix(e.target.value);\n        triple.value.setPrefix(prefix);\n        context.emit();\n        setPrefix(e.target.value);\n\n    }\n\n    const handleNameChange = function(e){\n        let newName = e.target.value;\n        triple.value.setValue(newName);\n        context.emit();\n        setName(newName);\n    }\n\n    const handleShapeRefChange = function(e){\n        const shapeId = e.target.value;\n        let inlineShape = null;\n        let inlineSelector = '';\n        if(shapeId!=''){\n            inlineShape = shexUtils.getShapeById(context.shapes,shapeId);\n            inlineSelector = inlineShape.id;\n        }\n        triple.getInlineShape().setShape(inlineShape);\n        context.emit();\n        setShapeRef(inlineSelector);\n    }\n\n    const handleQualifierChange = function(e){\n        let newQualifier = e.target.value;\n        triple.value.value = newQualifier;\n        context.emit();\n        setQualifier(newQualifier);\n    }\n\n\n\n   \n    const handlePrimitiveChange = function(e){\n        const primitive = e.target.value;\n        triple.setValue('primitive');\n        triple.value.setValue(primitive);\n        context.emit();\n        setPrimitive(primitive)\n    }\n\n    const handleCardinalityChange = function(e){\n        let newCardinality = e.target.value;\n        triple.setCardinality(newCardinality);\n        context.emit();\n        setCardinality(newCardinality)\n       \n    }\n    \n\n\n\n    const handleConstraintChange = function(e){\n        let newConstraint = e.target.value;\n        if(newConstraint!='shape'){\n            //This is necesary when we change from ShapeType to otherType\n            triple.inlineShape.shape = null;\n        }\n        triple.setValue(newConstraint);\n       \n        if(newConstraint!='shape'){\n            //conserve the name\n            triple.value.setValue(name);\n        }else{\n            //Set the first shape by default\n            setShapeRef(context.shapes[0]);\n            triple.getInlineShape().setShape(context.shapes[0]);\n        }\n\n\n        context.emit();\n        setConstraint(newConstraint);\n        setQualifier('none');\n\n        setNameOpen(false);\n        setPrefixOpen(false);\n        setShapeRefOpen(false);\n        setQualiOpen(false);\n    \n\n        if(newConstraint == 'iriRef'){\n            setNameOpen(true);\n        }\n\n        if(newConstraint == 'prefixedIri'){\n            setNameOpen(true);\n            setPrefixOpen(true);\n        }\n\n        if(newConstraint == 'shape'){\n            setShapeRefOpen(true);\n            setQualiOpen(true);\n        }\n\n        if(newConstraint == 'primitive'){\n            collapseConstraints();  \n            triple.setValue('primitive');\n            context.emit();\n            //Whitout the timeout the assistant doesn't update\n            setTimeout(function(){\n                context.replaceShapes(yasheUtils.replaceShapes());\n            }, 250); //250 to make scrolling animation slower\n\n           \n            \n        }\n\n    }\n\n\n    return (\n                <div className=\"customConstraint\">\n                    <div className={context.gridClass+\" gridBox\"}>\n                        <label className=\"customLabel\" >Constraint </label>\n                        <select className=\"customSelector\"\n                                value={constraint}\n                                onChange={handleConstraintChange}>\n                            <option value=\"primitive\">Primitive</option>\n                            <option value=\"iriRef\">IriRef</option>\n                            <option value=\"prefixedIri\">PrefixedIri</option>\n                            <option value=\"shape\">ShapeRef</option>\n                            <option value=\"literal\">Literal</option>\n                            <option value=\"nonliteral\">NonLiteral</option>\n                            <option value=\"iri\">IRI</option>\n                            <option value=\"bnode\">BNode</option>\n                        </select>\n                    </div>     \n\n         \n                    <Collapse isOpen={isNameOpen} className={context.gridClass+\" gridBox\"}>\n                        <label className=\"customLabel\" >Name</label>\n                        <input  type=\"text\" \n                                className=\"name\"\n                                value={name}\n                                onChange={handleNameChange}/> \n                    </Collapse>\n\n                    <Collapse isOpen={isPrefixOpen} className={context.gridClass+\" gridBox\"}>\n                        <label className=\"customLabel\" >Prefix</label>\n                        <select className=\"customSelector\" \n                                value={prefix}\n                                onChange={handlePrefixChange}>\n                            <option value=\"example\">example</option>\n                            { \n                            context.prefixes.map((pre) =>{\n                                if(pre.key!=''){\n                                    return <option key={pre.key} value={pre.val}>{pre.key}</option>\n                                }                        \n                            })\n                        }\n                        </select>\n                    </Collapse> \n\n                    <Collapse isOpen={isShapeRefOpen} className={context.gridClass+\" gridBox\"}>\n                        <label className=\"customLabel\" >ShapeRef</label>\n                        <select className=\"customSelector\"\n                                value={shapeRef}\n                                onChange={handleShapeRefChange}>\n                       \n                        { \n                        context.shapes.map(shape =>{\n                            return <option key={shape.id} value={shape.id}>{'@'+shape.type}</option>\n                            })\n                        }\n                        </select>    \n                    </Collapse>\n       \n                    <Collapse isOpen={isQualiOpen} className={context.gridClass+\" gridBox\"}>\n                        <label className=\"customLabel\" >Qualifier </label>\n                        <select className=\"customSelector\"\n                                value={qualifier}\n                                onChange={handleQualifierChange} >\n                            <option value=\"shape\">None</option>\n                            <option value=\"iri\">Iri</option>\n                            <option value=\"literal\">Literal</option>\n                            <option value=\"nonliteral\">NonLiteral</option>\n                            <option value=\"bnode\">Bnode</option>\n                        </select>  \n                    </Collapse>\n                        \n                          \n                                                                \n                </div>\n  \n    );\n                                   \n    \n}\n\n\nexport default CustomConstraint;\n\n","import React,{useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport TripleHeader from './headers/TripleHeader';\nimport CustomComp from './customize/CustomComp';\nimport ConstraintComponent from './ConstraintComponent';\n\n\nfunction TripleComponent (props) {\n    \n    const {shape,triple,deleteTriple} = props;\n    const [isTripleCustomOpen,setTripleCustomOpen] = useState(false);\n    const [isConstraintsOpen,setConstraintsOpen] = useState(false);\n    const [rounded,setRounded] = useState('roundme');\n\n    const customizeTriple = function(){\n        setTripleCustomOpen(!isTripleCustomOpen);\n        setConstraintsOpen(false);\n    }\n\n    const collapseConstraints = function(){\n        setTripleCustomOpen(false);\n        setConstraintsOpen(!isConstraintsOpen);\n    }\n\n    const forceCollapse = function(collapse){\n        setTripleCustomOpen(false);\n        setConstraintsOpen(collapse);\n    }\n\n    const rounder =()=>{\n         if(rounded=='roundme'){\n            setRounded('un-roundme');\n        }else{\n            setRounded('roundme');\n        }\n\n    }\n\n    return ( \n        <div>\n            <TripleHeader triple={triple} \n                          deleteTriple={deleteTriple} \n                          customizeTriple={customizeTriple}\n                          collapseConstraints={collapseConstraints}\n                          forceCollapse={forceCollapse}\n                          rounded={rounded}/>\n\n            <CustomComp   entity={triple} \n                          isCustomOpen={isTripleCustomOpen}\n                          rounder={rounder}\n                          qualifier={false}\n                          bnode={false}\n                          customClass=\"customTriple\"/>\n\n            <Collapse   isOpen={isConstraintsOpen}\n                        onExited={rounder}\n                        onEntering={rounder} >\n\n                <ConstraintComponent triple={triple} collapseConstraints={collapseConstraints}/>\n                            \n            </Collapse> \n           \n        </div>);                          \n}\n\n/*\n<Collapse isOpen={isConstraintsOpen} >\n                <div className=\"constraints\">\n                    <ConstraintComponent triple={triple}/>\n                    <button className=\"addTripleButton\">+ Constraint</button>        \n                </div>                    \n            </Collapse> \n*/\n\nexport default TripleComponent;\n\n","import React,{useContext,useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../App';\nimport ShapeHeader from  './headers/ShapeHeader';\nimport CustomComp from './customize/CustomComp';\nimport TripleComponent from './TripleComponent';\n\nimport Triple from '../../../entities/shexEntities/triple';\n\n\nfunction ShapeComponent (props) {\n\n    const context = useContext(AppContext);\n    const {shape} = props;\n\n    const [triples,setTriples] = useState(shape.triples);\n    const [isCustomOpen,setCustomOpen] = useState(false);\n    const [isTriplesOpen,setTriplesOpen] = useState(true);\n    const [colapseBtn,setColapseBtn] = useState('menu_open');\n    const [rounded,setRounded] = useState('un-roundme');\n\n    const addTriple = function(){\n        const id = shape.getTriplesCount();\n        const triple = new Triple(id);\n        \n        setTriples([...triples,triple]);\n\n        shape.addTriple(triple);\n        context.emit();\n        \n    }\n\n    const deleteTriple = function(tripleId){\n        const newTriples = shape.triples.filter( triple => triple.id != tripleId);\n        setTriples(newTriples);\n        shape.setTriples(newTriples);\n        context.emit();\n    }\n\n\n    const customizeShape = function(){\n        setCustomOpen(!isCustomOpen);\n        setTriplesOpen(false);\n        setColapseBtn('menu');\n    }\n\n    const collapseTriples = function(){\n        setCustomOpen(false);\n        setTriplesOpen(!isTriplesOpen);\n        \n        if(colapseBtn=='menu'){\n            setColapseBtn('menu_open');\n        }else{\n            setColapseBtn('menu');\n        }\n    }\n\n\n    const rounder =()=>{\n         if(rounded=='roundme'){\n            setRounded('un-roundme');\n        }else{\n            setRounded('roundme');\n        }\n\n    }\n  \n\n    return (\n        <div className=\"shape\">\n            <ShapeHeader shape={shape} \n                         customizeShape={customizeShape} \n                         collapseTriples={collapseTriples} \n                         colapseBtn={colapseBtn}\n                         rounded={rounded}/>\n\n            <CustomComp  entity={shape}\n                         isCustomOpen={isCustomOpen}\n                         rounder={rounder}\n                         qualifier={true}\n                         bnode={true}\n                         customClass=\"customShape\"/>\n                 \n            <Collapse   isOpen={isTriplesOpen} \n                        onExited={rounder}\n                        onEntering={rounder} >\n\n                <div className={context.triplesContainer+\" triples\"}>\n                    {triples.map(triple =>\n                        <TripleComponent key={triple.id}\n                                         shape={shape} \n                                         triple={triple}\n                                         deleteTriple={deleteTriple}\n                        /> \n                    )}\n                \n                    <button className={context.addBtns+\" addTripleButton\"} onClick={addTriple} title=\"Add Triple\">+ Triple</button>        \n              \n                </div>                    \n            </Collapse> \n        </div>\n    );\n                                   \n    \n}\n\n\nexport default ShapeComponent;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport ShapeComponent from '../shEx/ShapeComponent';\n\nfunction AssistContent (props) {\n\n    const context = useContext(AppContext);\n\n    return ( \n    <div className={context.asist}>\n        <div id='assistant-container' className='assistantContainer'> \n            {context.shapes.map(shape =>{return  <ShapeComponent shape={shape} key={shape.id}/> })}\n                <div className=\"addCont\">\n                    <button className={context.addBtns+\" addShapeButton\"} \n                            onClick={context.addShape}\n                            title=\"Add Shape\">\n                            + Shape\n                    </button>\n                </div>\n            </div>\n        </div>);\n}\n\n\nexport default AssistContent;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nfunction AssistLoader (props) {\n\n    const context = useContext(AppContext);\n\n    return (<div className={context.loading}>\n                <div className=\"loader\"></div>\n            </div>);\n}\n\n\nexport default AssistLoader;\n\n","import React,{useContext,useState} from 'react';\nimport {AppContext} from '../../App';\nimport { Collapse } from 'reactstrap';\nimport { Resizable } from \"re-resizable\";\nimport AssistTitle from './assistant/AssistTitle';\nimport AssistContent from './assistant/AssistContent';\nimport AssistLoader from './assistant/AssistLoader';\nimport '../../css/Assistant.css';\n\nexport const AssistContext = React.createContext();\n\nfunction AssistantComp (props) {\n\n        const context = useContext(AppContext);\n        return (\n        <Collapse isOpen={context.isAssistantOpen} className='row assistCollapse'>\n                <Resizable  className=\"col row resizable\"\n                        size={{ width: context.width }}                    \n                        onResizeStop={context.makeItResponsive}              \n                        enable={{right:true}}>\n        \n                        <div className='col containerAssist'>                                    \n                                <div className=\"globalAssis\">\n                                        <AssistTitle/>\n                                        <AssistContent/>\n                                        <AssistLoader/>\n                                </div>\n                        </div>\n                </Resizable>     \n        </Collapse>);\n}\n\n/*\n\n   <div className={context.valid}>\n                        <p><strong>[Error]</strong> This Shape is very complex for me...</p>\n                </div>\n*/\n\nexport default AssistantComp;\n","import React, {useState,useContext,useEffect,useRef} from 'react';\nimport 'yashe/dist/yashe.min.css';\nimport {AppContext} from '../../App';\n\nimport YASHE from 'yashe';\nimport Editor from '../../entities/editor';\n\nimport yasheUtils from '../../utils/yasheUtils';\n\nimport '../../css/Yashe.css';\n\nfunction EditorComp() {\n\n  const [yashe,setYashe] = useState(null);\n  const divRef = useRef(null);\n  const context = useContext(AppContext);\n  let oldShapes = [];\n\n    useEffect(() => {\n    \n        if (!yashe) {\n            const options = {\n                persistent:false,\n                lineNumbers: true,\n                showTooltip:false,\n                value:yasheUtils.DEFAULT_SHAPE\n            }\n            \n            const y = YASHE(divRef.current,options);\n\n            \n            y.on('humanEvent', function(shapes) {\n                Editor.getInstance().draw(shapes);\n            });\n\n\n            y.on('keyup',function(){\n                if(!y.hasErrors(y)){\n                    let newShapes = getNewShapes();\n                    if(oldShapes.length == newShapes.length){ //Any new shape?\n                        if(newShapes.toString()!=oldShapes.toString()){ //Any cupdate?\n                            oldShapes = replaceShapes(newShapes);\n                        }\n                    }else{\n                        updateAssist();\n                    } \n                }   \n            });\n\n           \n            y.on('prefixUpdate', function() {\n                updatePrefixes();\n            });\n            \n\n            y.on('delete', function() {\n                oldShapes = replaceShapes(getNewShapes());\n                updatePrefixes();\n\n            });\n\n            y.on('upload', function() {\n                if(!y.hasErrors()){                   \n                    updateAssist();\n                }\n            });\n           \n\n            //Fired after a key is handled through a key map\n            //(for example \"Ctrl-Z\")\n            y.on('keyHandled', function() {\n                if(!y.hasErrors()){\n                    oldShapes = replaceShapes(getNewShapes());\n                    updatePrefixes();\n                }\n            });\n\n            //Load example from Galery\n            y.on('galery', function() {\n                if(!y.hasErrors()){                   \n                    updateAssist();\n                }\n            });\n\n        \n            y.refresh();\n            setYashe(y);\n            \n            Editor.getInstance().setYashe(y);\n\n            oldShapes = replaceShapes(getNewShapes());\n            updatePrefixes();\n\n            \n        }\n    }, [yashe]\n    );\n\n    \n\n    const getNewShapes = function() {\n        return yasheUtils.replaceShapes();\n    }\n\n    const replaceShapes = (newShapes)=>{\n        context.replaceShapes(newShapes);\n        return newShapes;\n    }\n\n    const updatePrefixes = function(){\n        context.updatePrefixes(yasheUtils.updatePrefixes());\n    }\n\n\n    const updateAssist = function(){\n        loading();\n        setTimeout(function() {  \n            oldShapes = replaceShapes(getNewShapes());\n            updatePrefixes();                       \n            loaded();\n        },500)\n    }\n\n    const loading = function(){\n        context.setLoading('showLoader');\n        context.setAsist('hideAsist');\n    }\n\n    const loaded = function(){\n        context.setLoading('hideLoader');\n        context.setAsist('showAsist');\n    }\n\n\n\n    return  (<div className=\"col edit\" ref={divRef}/>);\n\n}\n\n    /*\n        let valid = true;\n        if(newShapes==null){\n            valid = false;\n            newShapes=[];\n        }\n         context.replaceShapes(newShapes,valid);\n\n        */\n\n\n\n/*\n\nconst debounce = function(func, wait, immediate) {\n        let timeout; let result;\n        return function() {\n            const context = this; \n            const args = arguments;\n            const later = function() {\n            timeout = null;\n            if (!immediate) result = func.apply(context, args);\n            };\n            const callNow = immediate && !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) result = func.apply(context, args);\n            return result;\n        };\n    };\n\n    */\n\n\n\n\n/*\n            y.on('themeChange', function() {\n                changeThemeStyle();\n            });\n\n*/\n\n\n\n\nexport default EditorComp;\n\n","import React from 'react';\nimport Toolbar from './mainComps/toolbar/Toolbar';\nimport AssistantComp from './mainComps/Assistant';\nimport EditorComp from './mainComps/EditorComp';\n\nfunction MainContainer () {\n\n    return (\n      <div className=\"globalContainer\">       \n        <div className=\"row comps\">                     \n           <Toolbar/>\n           <AssistantComp/>                                              \n           <EditorComp/>                       \n        </div>\n      </div>);\n\n}\n\n\n\nexport default MainContainer;\n","import React,{useState} from 'react';\nimport {Collapse} from 'reactstrap';\n\nfunction Visualizer (props) {\n\n    const {svg,isVisualizeOpen} = props;\n\n    return (\n    <Collapse isOpen={isVisualizeOpen} >\n        <div className=\"visualize\"> \n            <div className=\"umlContainer\">   \n                <div className='uml' dangerouslySetInnerHTML={{__html:svg}}/> \n            </div>\n        </div>\n    </Collapse>);\n\n    \n}\n\nexport default Visualizer;","\nimport React, {useState} from 'react';\nimport axios from 'axios';\nimport './css/App.css';\n\nimport Nav from './components/Nav';\nimport MainContainer from './components/MainContainer';\nimport Visualizer from './components/Visualizer';\n\nimport shexUtils from './utils/shexUtils';\nimport yasheUtils from './utils/yasheUtils';\n\n\nimport Editor from './entities/editor';\n\n\nexport const AppContext = React.createContext();\n\nfunction App() {\n\n    const [shapes,setShapes] = useState([]);\n    const [svg,setSvg] = useState('');\n    const [prefixes,setPrefixes] = useState([{key:'',val:'http://example.org/'}]);\n    const [isAssistantOpen, setAssistantOpen] = useState(true);\n    const [isVisualizeOpen, setVisualizeOpen] = useState(true);\n    const [isToolBarOpen, setToolBarOpen] = useState(true);\n\n    const [width,setWidth] = useState(700);\n\n    const [loading,setLoading] = useState('hideLoader');\n    const [asist,setAsist] = useState('showAsist');\n\n    //Responsive\n    const [shapeHeader,setShapeHeader] = useState('header');\n    const [tripleHeader,setTripleHeader] = useState('tripleHeader');\n    const [triplesContainer,setTriplesContainer] = useState('triples');\n    const [shapeLabel,setShapeLabel] = useState('shapeNameLabel');\n    const [tripleLabel,setTripleLabel] = useState('tripleNameLabel');\n    const [tripleBtns,setTripleBtns] = useState('tripleBtns');\n    const [addBtns,setAddBtns] = useState('addBtns');\n    const [gridClass,setGridClass] = useState('gridBox');\n    \n  \n    const assistantToggle = () => setAssistantOpen(!isAssistantOpen); \n    const visualizeToggle = () => setVisualizeOpen(!isVisualizeOpen);\n    const toolbarToggle = () => setToolBarOpen(!isToolBarOpen);\n    const colapseAll = () =>{\n      setAssistantOpen(!isToolBarOpen);\n      setVisualizeOpen(!isToolBarOpen);\n      setToolBarOpen(!isToolBarOpen);\n    }\n\n    const addShape = () =>{\n      setShapes([...shapes,shexUtils.addShape(shapes)]);\n      visualize();\n    }\n\n    const deleteShape = (shapeId) =>{\n      setShapes(shexUtils.deleteShape(shapes,shapeId,false));\n      visualize();\n    }\n\n    const emit = ()=>{\n      shexUtils.emit(shapes);\n      visualize();\n    }\n\n    const replaceShapes = (newShapes) =>{\n      //This allows to render all the shapes when a property is updated.\n      //Best Glitch Ever\n      //In fact... I would like to render only the property component...\n      setShapes([]); \n      setShapes(newShapes);\n      visualize();\n    }\n    \n    const updatePrefixes = (newPrefixes)=>{\n      setPrefixes([])\n      setPrefixes(newPrefixes);\n    }\n    \n\n    const visualize = function(){\n\n        let bodyFormData = new FormData();\n        bodyFormData.set('schema', yasheUtils.getSchema());\n        bodyFormData.set('schemaFormat', 'ShExC');\n        bodyFormData.set('schemaEngine', 'SHEX');\n\n        axios({\n            method: 'post',\n            url: 'http://rdfshape.weso.es:8080/api/schema/visualize',\n            data: bodyFormData,\n            config: { headers: {'Content-Type': 'multipart/form-data' }}\n        })\n        .then(function(response){\n            if(response.data.svg != undefined){\n                if(response.data.svg.startsWith('<?xml')){\n                    setSvg(response.data.svg);\n                }else{\n                    setSvg(null)\n                }\n        }\n        })\n        .catch(function (response) {\n            //handle error\n            console.log(response);\n        });\n\n    }\n\n\n      const makeItResponsive = function(e, direction, ref, d){\n            setWidth(width+d.width);\n\n            if(width+d.width<700){\n                    setShapeHeader('xs-header');\n                    setTripleHeader('xs-tripleHeader');\n                    setTripleBtns('xs-tripleBtns');\n                    setTriplesContainer('xs-triples');\n                    setShapeLabel('xs-label');\n                    setTripleLabel('xs-label');\n                    setAddBtns('xs-addBtns');\n                    setGridClass('xs-gridBox');\n                    return;\n            }\n                    \n            setShapeHeader('header')                                          \n            setTripleHeader('tripleHeader');\n            setTripleBtns('tripleBtns');\n            setTriplesContainer('triples');\n            setShapeLabel('shapeNameLabel');\n            setTripleLabel('tripleNameLabel');\n            setAddBtns('addBtns');\n            setGridClass('gridBox');\n        }\n\n\n    return (\n      \n          <AppContext.Provider\n                value={\n                  {\n                  shapes:shapes,\n                  addShape:addShape,\n                  deleteShape:deleteShape,\n                  replaceShapes:replaceShapes,\n                  prefixes:prefixes,\n                  updatePrefixes:updatePrefixes,\n                  emit:emit,\n                  visualize:visualize,\n                  isToolBarOpen:isToolBarOpen,\n                  isAssistantOpen:isAssistantOpen,\n                  isVisualizeOpen:isVisualizeOpen,\n                  assistantToggle:assistantToggle,\n                  visualizeToggle:visualizeToggle,\n\n                  //responsive\n                  width:width,\n                  makeItResponsive:makeItResponsive,\n                  shapeHeader:shapeHeader,\n                  tripleHeader:tripleHeader,\n                  triplesContainer:triplesContainer,\n                  shapeLabel:shapeLabel,\n                  tripleLabel:tripleLabel,\n                  tripleBtns:tripleBtns,\n                  addBtns:addBtns,\n                  gridClass:gridClass,\n                  loading:loading,\n                  setLoading:setLoading,\n                  asist:asist,\n                  setAsist:setAsist,\n\n                    \n                  }\n                }>\n\n              <Nav colapseAll={colapseAll}/>\n              <MainContainer/>\n              <Visualizer svg={svg} isVisualizeOpen={isVisualizeOpen}/>\n                                                  \n            </AppContext.Provider>);\n\n}  \n           \n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n/*\nimport Shape from './entities/shexEntities/shape';\nimport Triple from './entities/shexEntities/triple';\n\nlet shape = new Shape(0);\nshape.addTriple(new Triple(0));\n\nconsole.log(shape)\n*/\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}