(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),l=a.n(i),c=a(11),o=a(17),s=a(1),u=a(114),p=a(41),m=a.n(p),h=(a(31),a(65),a(13)),d=a.n(h),f=function(){function e(){this.getYashe=function(){return this.yashe},this.setYashe=function(e){this.yashe=e},this.getPrefixes=function(){var e=f.getInstance().getYashe().getDefinedPrefixes(),t="";for(var a in e)t+="PREFIX "+a+":    <"+e[a]+">\n";return t+="\n"},this.draw=function(e){var t=this.getPrefixes();e.forEach((function(e){t+=e.toString()})),this.getYashe().setValue(t)}}var t;return{getInstance:function(){return t||(t=new e),t}}}(),v=f,g=a(5),w=a.n(g),b=a(3),y=a(4),E=a(8),O=a(6),j=a(7),k=function(){function e(t){Object(b.a)(this,e),this.value=t}return Object(y.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),e}(),x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://example.org/";Object(b.a)(this,e),this.prefixName=t,this.prefixValue=a}return Object(y.a)(e,[{key:"getPrefixName",value:function(){return this.prefixName}},{key:"getPrefixValue",value:function(){return this.prefixValue}}]),e}(),N=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new x,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,r))).context=e,a.prefix=n,a}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getPrefix",value:function(){return this.prefix}},{key:"setPrefix",value:function(e){this.prefix=e}},{key:"getTypeName",value:function(){return"prefixedIri"}},{key:"toString",value:function(){return this.getPrefix().getPrefixName()+":"+this.getValue()}}]),t}(k),S=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,n))).context=e,a}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"iriRef"}},{key:"toString",value:function(){return"<"+this.getValue()+">"}}]),t}(k),I=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"example";return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,n))).context=e,a}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"bnodeType"}},{key:"toString",value:function(){return"_:"+this.getValue()}}]),t}(k),T=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).call(this,e))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"primitive"}},{key:"toString",value:function(){return"xsd:"+this.getValue()}}]),t}(k),P=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).call(this,e))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"shape"}},{key:"setValue",value:function(e){this.value=e}},{key:"toString",value:function(){return"shape"==this.value?"":this.value}}]),t}(k),C=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).call(this,e))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"literal"}},{key:"toString",value:function(){return"Literal"}}]),t}(k),B=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).call(this,e))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"nonliteralKind"}},{key:"toString",value:function(){return"NONLITERAL"}}]),t}(k),_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).call(this,e))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"iri"}},{key:"toString",value:function(){return"IRI"}}]),t}(k),R=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).call(this,e))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"bnode"}},{key:"toString",value:function(){return"BNODE"}}]),t}(k),L=function(){function e(){Object(b.a)(this,e)}return Object(y.a)(e,[{key:"createType",value:function(e,t){var a;return"iriRef"==e&&(a=new S(t)),"prefixedIri"==e&&(a=new N(t)),"bnodeType"==e&&(a=new I(t)),"primitive"==e&&(a=new T),"shape"==e&&(a=new P("")),"literal"==e&&(a=new C(t)),"nonliteral"==e&&(a=new B(t)),"iri"==e&&(a=new _(t)),"bnode"==e&&(a=new R(t)),a}}]),e}(),V=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).call(this,e))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"getTypeName",value:function(){return"blank"}},{key:"toString",value:function(){return""}}]),t}(k),D=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new S("shapeName"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new V;Object(b.a)(this,e),this.id=t,this.type=a,this.triples=n,this.triplesCount=this.triples.length,this.factory=new L,this.qualifier=r}return Object(y.a)(e,[{key:"addTriple",value:function(e){this.triples.push(e),this.triplesCount++}},{key:"removeTriple",value:function(e){this.triples=this.triples.filter((function(t){return t.id!=e}))}},{key:"getTriplesCount",value:function(){return this.triplesCount}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"getTriples",value:function(){return this.triples}},{key:"setTriples",value:function(e){this.triples=e}},{key:"getQualifier",value:function(){return this.qualifier}},{key:"setQualifier",value:function(e){this.qualifier=this.factory.createType(e,"shapeName")}},{key:"setType",value:function(e){this.type=this.factory.createType(e,"shapeName")}},{key:"toString",value:function(){var e=this.type+" "+this.qualifier+" {\n";return this.triples.forEach((function(t){e+=t})),e+="}\n\n"}}]),e}(),F=0;function Y(e){var t=v.getInstance().getYashe();void 0!=t&&w.a.signal(t,"humanEvent",e)}var X,q={addShape:function(e){var t=e.length+F++,a=new D(t),n=[];return(n=Object.assign(n,e)).push(a),Y(n),a},deleteShape:function(e,t,a){if(a||(a=window.confirm("Are you sure?")),1==a){var n=e.filter((function(e){return e.id!=t}));return Y(n),n}return e},getShapeById:function(e,t){return e.filter((function(e){return e.id==t}))[0]},getShapeByName:function(e,t){for(var a in e)if(e[a].getType().getValue()==t)return e[a]},getTripleById:function(e,t){return e.getTriples().filter((function(e){return e.id==t}))[0]},emit:Y},z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(b.a)(this,e),this.shape=t}return Object(y.a)(e,[{key:"getShape",value:function(){return this.shape}},{key:"setShape",value:function(e){this.shape=e}},{key:"toString",value:function(){return this.shape?"@"+this.shape.getType().toString():""}}]),e}(),A=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new S("tripleName"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new S,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new z,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(b.a)(this,e),this.id=t,this.type=a,this.value=n,this.cardinality=i,this.inlineShape=r,this.factory=new L}return Object(y.a)(e,[{key:"addValue",value:function(e){this.values.push(e),this.valuesCount++}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=this.factory.createType(e,"tripleName")}},{key:"setValue",value:function(e){this.value=this.factory.createType(e,"valueName")}},{key:"setCardinality",value:function(e){this.cardinality=e}},{key:"getInlineShape",value:function(){return this.inlineShape}},{key:"setInlineShape",value:function(e){this.inlineShape=e}},{key:"getValue",value:function(){return this.value}},{key:"getCardinality",value:function(){return this.cardinality}},{key:"toString",value:function(){return"  "+this.getType().toString()+"          "+this.getValue().toString()+" "+this.getInlineShape().toString()+this.getCardinality()+"  ;\n"}}]),e}(),U=["string","integer","date","boolean"];function H(e,t,a){var n,r,i,l,c,o=e.length,s=new z,u=0;for(var p in t){var m=t[p];0==u?n=W(m.string,"tripleName"):("string-2"!=m.type&&"keyword"!=m.type&&"variable-3"!=m.type||(r=M(m.string)),"at"==m.type&&(l=J(m.string),X.push({shapeId:a,tripleId:o,inlineName:l})),"card"==m.type&&(i=m.string)),u++}void 0!=l&&(void 0!=r&&(c=r.getTypeName()),r=new P(c));return new A(o,n,r,s,i)}function M(e){var t=(new L).createType(e.toLowerCase());if(void 0!=t)return t;if(e.startsWith("<")){var a=e.split("<")[1].split(">")[0];return new S("valueName",a)}var n=e.split(":"),r=v.getInstance().getYashe();if(2==n.length){if(function(e){for(var t in U)if(U[t]==e)return!0;return!1}(n[1]))return new T(n[1]);var i=n[0],l=Q(r.getDefinedPrefixes(),i),c=new x(i,l);return new N("valueName",c,n[1])}}function W(e,t){var a,n=v.getInstance().getYashe();if(e.startsWith("<"))return a=e.split("<")[1].split(">")[0],new S(t,a);if(e.startsWith("_:"))return a=e.split(":")[1],new I(t,a);a=e.split(":")[1];var r=e.split(":")[0],i=Q(n.getDefinedPrefixes(),r),l=new x(r,i);return new N(t,l,a)}function Q(e,t){var a;for(var n in e)n==t&&(a=e[n]);return a}function J(e){return e.startsWith("@<")?e.split("<")[1].split(">")[0]:e.split(":")[1]}function G(e){return e.filter((function(e){return"ws"!=e.type}))}var K={getTokens:function(){var e=v.getInstance().getYashe(),t=[];if(void 0!=e)for(var a=Object.keys(e.getDefinedPrefixes()).length+1;a<e.lineCount();++a){G(e.getLineTokens(a)).forEach((function(e){t.push(e)}))}return t},getDefinedShapes:function(e){var t=0,a=[],n=[];return e.forEach((function(e){a.push(e),"{"==e.string&&t++,"}"==e.string&&0==--t&&(n.push(a),a=[])})),n},getShapes:function(e){X=[];var t=[];return v.getInstance().getYashe(),e.forEach((function(e){var a=t.length,n=W(e[0].string,"shapeName"),r=function(e){if("keyword"==e[1].type){var t=e[1].string.toLowerCase();return(new L).createType(t)}return new V}(e),i=function(e,t){for(var a=[],n=[],r=(v.getInstance().getYashe(),function(e){for(var t=0;t<e.length;t++)if("{"==e[t].string)return t+1}(t));r<t.length;r++)n.push(t[r]),"punc"==t[r].type&&1!=n.length&&(a.push(H(a,n,e)),n=[]);return a}(a,e);t.push(new D(a,n,i,r))})),t},updateInlines:function(e){for(var t in X){var a=X[t].shapeId,n=X[t].tripleId,r=X[t].inlineName,i=q.getShapeById(e,a),l=q.getTripleById(i,n),c=q.getShapeByName(e,r);l.getInlineShape().setShape(c)}}};var Z={DEFAULT_SHAPE:"PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\n  schema:name          xsd:string  ;\n  schema:birthDate     xsd:date?  ;\n  schema:birthPlace    xsd:string+  ;\n  schema:knows          @:User*  \n}",replaceShapes:function(){var e=K.getTokens(),t=K.getDefinedShapes(e),a=K.getShapes(t);return K.updateInlines(a),a},updatePrefixes:function(){var e=[],t={},a=v.getInstance().getYashe();if(void 0!=a)for(var n=Object.keys(a.getDefinedPrefixes()),r=Object.values(a.getDefinedPrefixes()),i=0;i<n.length;i++)(t={}).key=n[i],t.val=r[i],e.push(t);return e}};var $=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],i=t[1],l=Object(n.useRef)(null),c=Object(n.useContext)(je),o={background:"#2B2B2B"},u={background:"white"},p=Object(n.useState)(u),m=Object(s.a)(p,2),h=m[0],f=m[1],g="light";Object(n.useEffect)((function(){if(!a){var e={persistent:!1,lineNumbers:!0,showTooltip:!1,value:Z.DEFAULT_SHAPE},t=d()(l.current,e);t.on("blur",(function(){t.hasErrors(t)||(w(),b())})),t.on("humanEvent",(function(e){v.getInstance().draw(e)})),t.on("prefixUpdate",(function(){b()})),t.on("themeChange",(function(){y()})),t.on("delete",(function(){w(),b()})),t.on("upload",(function(){setTimeout((function(){w(),b()}),10)})),t.on("keydown",(function(){setTimeout((function(){t.hasErrors()||(w(),b())}),20)})),t.on("keyHandled",(function(){t.hasErrors()||(w(),b())})),t.refresh(),i(t),v.getInstance().setYashe(t),w(),b()}}),[a]);var w=function(){c.replaceShapes(Z.replaceShapes())},b=function(){c.updatePrefixes(Z.updatePrefixes())},y=function(){"light"==g?(f(o),g="dark"):(g="light",f(u)),c.changeThemeStyle()};return r.a.createElement("div",{className:"col edit",ref:l,style:h})};var ee=function(e){var t=Object(n.useContext)(je),a=e.shape,i=e.triple,l=e.type,c=a.type.value;"triple"==l?c=i.type.value:"value"==l&&(c=i.value.value);var o=Object(n.useState)(c),u=Object(s.a)(o,2),p=u[0],m=u[1];return r.a.createElement("input",{className:a.type.context+" form-control col-4",context:"text",value:p,onChange:function(e){var n=e.target.value;"shape"==l?a.type.setValue(n):"triple"==l?i.type.setValue(n):i.value.setValue(n),t.emit(),m(n)}})};var te=function(e){var t,a=Object(n.useContext)(je),i=e.shape,l=e.triple,c=e.type,o=i.type.value;"shape"==c?t=i.type.prefix.prefixValue:"triple"==c?(o=l.type.value,t=l.type.prefix.prefixValue):(o=l.value.value,t=l.value.prefix.prefixValue);var u=Object(n.useState)(o),p=Object(s.a)(u,2),m=p[0],h=p[1],d=Object(n.useState)(t),f=Object(s.a)(d,2),g=f[0],w=f[1];return r.a.createElement("div",{className:"row col-6"},r.a.createElement("select",{className:function(){var e="prefixShape",t=i.type.context;return"tripleName"==t&&(e="prefixTriple"),"valueName"==t&&(e="prefixValue"),e}()+" col-5 form-control",value:g,onChange:function(e){var t=function(e){var t=v.getInstance().getYashe().getDefinedPrefixes();for(var a in t)if(t[a]==e)return new x(a,t[a]);return new x}(e.target.value);"shape"==c?i.type.setPrefix(t):"triple"==c?l.type.setPrefix(t):l.value.setPrefix(t),a.emit(),w(e.target.value)}},a.prefixes.map((function(e){return r.a.createElement("option",{key:e.key,value:e.val},e.key)}))),r.a.createElement("input",{className:i.type.value+" form-control col",context:"text",value:m,onChange:function(e){var t=e.target.value;"shape"==c?i.type.setValue(t):"triple"==c?l.type.setValue(t):l.value.setValue(t),a.emit(),h(t)}}))};var ae=function(e){var t=Object(n.useContext)(je),a=e.shape,i=a.type.value;""==i&&(i="example",a.type.setValue(o));var l=Object(n.useState)(i),c=Object(s.a)(l,2),o=c[0],u=c[1];return r.a.createElement("input",{className:a.type.context+" form-control col-4",context:"text",value:o,onChange:function(e){var n=e.target.value;a.type.setValue(n),t.emit(),u(n)}})},ne=["String","Integer","Date","Boolean"];var re=function(e){var t=Object(n.useContext)(je),a=(e.shape,e.triple),i=Object(n.useState)(a.value.value),l=Object(s.a)(i,2),c=l[0],o=l[1];return r.a.createElement("select",{className:"col-sm-4 form-control tripleValue",value:c,onChange:function(e){var n=e.target.value;a.value.setValue(n),t.emit(),o(n)}},ne.map((function(e){return r.a.createElement("option",{key:e,value:e.toLowerCase()},e)})))};var ie=function(e){var t,a=Object(n.useContext)(je),i=e.shape,l=e.triple,c=(e.value,e.scope);t="shape"==c?i.qualifier.getTypeName():l.value.value;var o=Object(n.useState)(t),u=Object(s.a)(o,2),p=u[0],m=u[1];return r.a.createElement("select",{className:"col form-control valueInlineShape",value:p,onChange:function(e){var t=e.target.value;"shape"==c?i.setQualifier(t):l.value.value=t,a.emit(),m(t)}},r.a.createElement("option",{value:"shape"}),r.a.createElement("option",{value:"iri"},"IRI"),r.a.createElement("option",{value:"literal"},"Literal"),r.a.createElement("option",{value:"nonliteral"},"NonLiteral"),r.a.createElement("option",{value:"bnode"},"BNODE"))};var le=function(e){var t=Object(n.useContext)(je),a=(e.shape,e.triple),i="";null!=a.inlineShape.shape&&(i=a.inlineShape.shape.id);var l=Object(n.useState)(i),c=Object(s.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(a.value.getTypeName()),m=Object(s.a)(p,2);return m[0],m[1],r.a.createElement("div",{className:"row col"},r.a.createElement("select",{className:"col form-control valueInlineShape",value:o,onChange:function(e){var n=e.target.value,r=null,i="";""!=n&&(i=(r=q.getShapeById(t.shapes,n)).id),a.getInlineShape().setShape(r),t.emit(),u(i)}},r.a.createElement("option",{value:""}),t.shapes.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},"@"+e.type)}))),r.a.createElement(ie,{triple:a,scope:"triple"}))};var ce=function(e){var t=e.shape,a=e.triple,n=e.type,i=e.instance;return"iriRef"==i?r.a.createElement(ee,{shape:t,triple:a,type:n}):"prefixedIri"==i?r.a.createElement(te,{shape:t,triple:a,type:n}):"bnodeType"==i?r.a.createElement(ae,{shape:t}):"primitive"==i?r.a.createElement(re,{shape:t,triple:a}):"shape"==i?r.a.createElement(le,{shape:t,triple:a}):null};var oe=function(e){var t=Object(n.useContext)(je),a=e.shape,i=e.triple,l=e.deleteTriple,c=e.handeCollapse,o=Object(n.useState)(i.type.getTypeName()),u=Object(s.a)(o,2),p=u[0],m=u[1],h=Object(n.useState)("expand_more"),d=Object(s.a)(h,2),f=d[0],v=d[1];return r.a.createElement("div",{className:"row col triples-header"},r.a.createElement("label",{className:"col-xs-1 tripleLabel"},"Triple"),r.a.createElement("select",{className:"col-2 form-control tripleType",value:p,onChange:function(e){var a=e.target.value;i.setType(a),t.emit(),m(a)}},r.a.createElement("option",{value:"iriRef"},"IriRef"),r.a.createElement("option",{value:"prefixedIri"},"Prefixed")),r.a.createElement(ce,{shape:a,triple:i,type:"triple",instance:i.type.getTypeName()}),r.a.createElement("button",{className:"col-xs-1 colapseButton mdc-icon-button material-icons btn-primary",onClick:function(e){v("expand_more"==f?"expand_less":"expand_more"),c()}},f),r.a.createElement("button",{className:"col-xs-1 deletePropButton mdc-icon-button material-icons btn-danger",onClick:function(){return l(i.id)}},"delete"))};var se=function(e){var t=e.shape,a=e.triple,i=Object(n.useContext)(je),l=Object(n.useState)(a.value.getTypeName()),c=Object(s.a)(l,2),o=c[0],u=c[1];return r.a.createElement("div",{className:"row col-10"},r.a.createElement("select",{className:"col-5 form-control valueType",value:o,onChange:function(e){var t=e.target.value;"shape"!=t&&(a.inlineShape.shape=null),a.setValue(t),i.emit(),u(t)}},r.a.createElement("option",{value:"primitive"},"Primitive"),r.a.createElement("option",{value:"shape"},"Shape"),r.a.createElement("option",{value:"iriRef"},"IriRef"),r.a.createElement("option",{value:"prefixedIri"},"Prefixed"),r.a.createElement("option",{value:"literal"},"Literal"),r.a.createElement("option",{value:"nonliteral"},"NonLiteral"),r.a.createElement("option",{value:"iri"},"IRI"),r.a.createElement("option",{value:"bnode"},"BNODE")),r.a.createElement(ce,{shape:t,triple:a,type:"value",instance:a.value.getTypeName()}))};var ue=function(e){e.shape;var t=e.triple,a=Object(n.useContext)(je),i=Object(n.useState)(t.cardinality.toString()),l=Object(s.a)(i,2),c=l[0],o=l[1];return r.a.createElement("div",{className:"row col-4"},r.a.createElement("select",{className:"col  form-control tripleCardinality",value:c,onChange:function(e){var n=e.target.value;t.setCardinality(n),a.emit(),o(n)}},r.a.createElement("option",{value:""},"Exactly one"),r.a.createElement("option",{value:"*"},"Zero or more"),r.a.createElement("option",{value:"+"},"One at least"),r.a.createElement("option",{value:"?"},"One or none")))};var pe=function(e){var t=e.shape,a=e.triple;return r.a.createElement("div",{className:"col-12 valuesCol"},r.a.createElement("div",{className:"row values-container"},r.a.createElement("div",{className:"col-10 triplesVal "},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"col-3 valueLabel"},"Value"),r.a.createElement(se,{shape:t,triple:a}),r.a.createElement("label",{className:"col-3 cardiLabel"},"Cardinality"),r.a.createElement(ue,{shape:t,triple:a})))))};var me=function(e){var t=e.shape,a=e.triple,i=e.deleteTriple,l=Object(n.useState)(!1),c=Object(s.a)(l,2),o=c[0],p=c[1];return r.a.createElement("div",null,r.a.createElement(oe,{shape:t,triple:a,deleteTriple:i,handeCollapse:function(){return p(!o)}}),r.a.createElement(u.a,{isOpen:o},r.a.createElement(pe,{shape:t,triple:a})))};var he=function(e){var t=Object(n.useContext)(je),a=e.shape,i=e.collapse,l=Object(n.useState)(a.type.getTypeName()),c=Object(s.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)("expand_more"),m=Object(s.a)(p,2),h=m[0],d=m[1];return r.a.createElement("div",{className:"row col-10 headerSelectors"},r.a.createElement("label",{className:"col-xs-1 tripleLabel"},"Shape "),r.a.createElement("select",{className:"col-2 form-control tripleType",value:o,onChange:function(e){var n=e.target.value;a.setType(n),t.emit(),u(n)}},r.a.createElement("option",{value:"iriRef"},"IriRef"),r.a.createElement("option",{value:"prefixedIri"},"Prefixed"),r.a.createElement("option",{value:"bnodeType"},"BNode")),r.a.createElement(ce,{shape:a,triple:null,type:"shape",instance:a.type.getTypeName()}),r.a.createElement("button",{className:"col-xs-1  colapseButton mdc-icon-button material-icons btn-primary",onClick:function(e){d("expand_more"==h?"expand_less":"expand_more"),i()}},h),r.a.createElement("button",{className:"col-xs-1 deletePropButton mdc-icon-button material-icons btn-danger",onClick:function(){return t.deleteShape(a.id)}},"delete"))};var de=function(e){var t=Object(n.useContext)(je),a=e.shape,i=Object(n.useState)(a.triples),l=Object(s.a)(i,2),c=l[0],p=l[1],m=Object(n.useState)("expand_less"),h=Object(s.a)(m,2),d=h[0],f=h[1],v=Object(n.useState)(!0),g=Object(s.a)(v,2),w=g[0],b=g[1],y=Object(n.useState)(!1),E=Object(s.a)(y,2),O=E[0],j=E[1],k=function(e){var n=a.triples.filter((function(t){return t.id!=e}));p(n),a.setTriples(n),t.emit()};return r.a.createElement("div",{className:"shapes-container"},r.a.createElement("div",{className:"row shapes-header"},r.a.createElement(he,{shape:a,collapse:function(){j(!O)}})),r.a.createElement(u.a,{isOpen:O,timeout:110},r.a.createElement("div",{className:"row qualifier"},r.a.createElement("label",{className:"col-2 qualiLabel"},"Qualifier "),r.a.createElement("div",{className:"col-2"},r.a.createElement(ie,{shape:a,scope:"shape"})))),r.a.createElement("button",{className:"col-xs-1  colapseTriplesBtn mdc-icon-button material-icons btn-primary",onClick:function(){return f("expand_more"==d?"expand_less":"expand_more"),void b(!w)}},d),r.a.createElement(u.a,{isOpen:w},r.a.createElement("div",{className:"triples-container col-xs "},c.map((function(e){return r.a.createElement(me,{key:e.id,shape:a,triple:e,deleteTriple:k})}))),r.a.createElement("button",{className:"btn-primary addPropButton col-xs-3",onClick:function(){var e=a.getTriplesCount(),n=new A(e);p([].concat(Object(o.a)(c),[n])),a.addTriple(n),t.emit()}},"+ Triple")))};var fe=function(e){var t=Object(n.useContext)(je);return r.a.createElement("div",{id:"assistant-container"},r.a.createElement("div",{className:"col row assisTitleDiv"},r.a.createElement("span",{className:"assisTitle",style:t.style},"Assistant")),t.shapes.map((function(e){return r.a.createElement(de,{key:e.id,shape:e})})),r.a.createElement("button",{id:"addShapeButton",className:"btn-primary addShapeButton",onClick:t.addShape},"+ Shape"))};var ve=function(e){var t=e.svg;return r.a.createElement("div",{className:"globalContainer"},r.a.createElement("div",{className:"row visualize"},r.a.createElement("div",{className:"col"}),r.a.createElement("div",{className:"col",dangerouslySetInnerHTML:{__html:t}}),r.a.createElement("div",{className:"col"})))};var ge=function(e){var t=e.namespaces,a=function(e){var a=v.getInstance().getYashe(),n=a.getValue(),r=(a.getDefinedPrefixes(),e.target.value),i="http://example.org/";for(var l in t)for(var c in t[l])c==r&&(i=t[l][c]);a.setValue("PREFIX "+r+": <"+i+">\n"+n),w.a.signal(a,"prefixUpdate")};return r.a.createElement("div",null,r.a.createElement("button",{className:"form-control",onClick:a},"Example Prefix"),Object.keys(t).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("select",{className:"form-control",onChange:a},r.a.createElement("option",null,e),Object.keys(t[e]).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))})))},we={Wikidata:{wikibase:"http://wikiba.se/ontology#",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",wdtn:"http://www.wikidata.org/prop/direct-normalized/",wds:"http://www.wikidata.org/entity/statement/",p:"http://www.wikidata.org/prop/",wdref:"http://www.wikidata.org/reference/",wdv:"http://www.wikidata.org/value/",ps:"http://www.wikidata.org/prop/statement/",psv:"http://www.wikidata.org/prop/statement/value/",psn:"http://www.wikidata.org/prop/statement/value-normalized/",pq:"http://www.wikidata.org/prop/qualifier/",pqv:"http://www.wikidata.org/prop/qualifier/value/",pqn:"http://www.wikidata.org/prop/qualifier/value-normalized/",pr:"http://www.wikidata.org/prop/reference/",prv:"http://www.wikidata.org/prop/reference/value/",prn:"http://www.wikidata.org/prop/reference/value-normalized/",wdno:"http://www.wikidata.org/prop/novalue/",wdata:"http://www.wikidata.org/wiki/Special:EntityData/"},W3C:{rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",owl:"http://www.w3.org/2002/07/owl#",skos:"http://www.w3.org/2004/02/skos/core#",xsd:"http://www.w3.org/2001/XMLSchema#",prov:"http://www.w3.org/ns/prov#"},"Social/Other":{schema:"http://schema.org/",geo:"http://www.opengis.net/ont/geosparql#",geof:"http://www.opengis.net/def/geosparql/function/"},Blazegraph:{bd:"http://www.bigdata.com/rdf#",bds:"http://www.bigdata.com/rdf/search#",gas:"http://www.bigdata.com/rdf/gas#",hint:"http://www.bigdata.com/queryHints#"}},be="PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\nschema:name          xsd:string  ;\nschema:birthDate     xsd:date?  ;\nschema:birthPlace    xsd:string+  ;\nschema:knows          @:User*  \n}\n",ye="PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt:  <http://www.wikidata.org/prop/direct/>\nPREFIX p:    <http://www.wikidata.org/prop/>\nPREFIX prov:    <http://www.w3.org/ns/prov#>\nPREFIX pq:    <http://www.wikidata.org/prop/qualifier/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\nPREFIX prv:    <http://www.wikidata.org/prop/reference/value/>\nPREFIX pr:    <http://www.wikidata.org/prop/reference/>\nPREFIX ps:    <http://www.wikidata.org/prop/statement/>\nPREFIX interpro:    <http://micel.io/genewiki/interpro/>\n\n<#wikidata-human-protein>  {\np:P703           @<#P703_found_in_taxon_human>  ;\np:P352           @<#P352_uniprot_id>+  ;\np:P527           @<#P527_has_part>*  ;\np:P637           @<#P637_RefSeq_Protein_ID>*  ;\np:P639           @<#P639_RefSeq_RNA_ID>*  ;\n}\n\n<#P703_found_in_taxon_human>  {\nps:P703          wd:Q15978631   ;\nprov:wasDerivedFrom          IRI +  ;\n}\n\n<#P352_uniprot_id>  {\nps:P352          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P527_has_part>  {\nps:P527          IRI   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P637_RefSeq_Protein_ID>  {\nps:P637          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P639_RefSeq_RNA_ID>  {\nps:P637          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n";var Ee=function(e){var t=e.assistantToggle,a=e.visualizeToggle,i=Object(n.useContext)(je),l=function(e){var t=v.getInstance().getYashe();"default"==e?t.setValue(be):t.setValue(ye),setTimeout((function(){w.a.signal(t,"keyHandled")}),10)};return r.a.createElement("div",{className:"lateral"},r.a.createElement("div",{className:"lateralTop"},r.a.createElement("button",{className:"col mdc-icon-button material-icons btns",title:"Show ShEx Assistant",type:"button",onClick:t},"info"),r.a.createElement("br",null),r.a.createElement("button",{className:"col mdc-icon-button material-icons btns",type:"button",title:"Visualize",onClick:a},"remove_red_eye"),r.a.createElement("div",{className:"dropdown",title:"Prefixes"},r.a.createElement("button",{className:"btn btn-default dropdown-toggle   mdc-icon-button material-icons  btns selector",type:"button","data-toggle":"dropdown"},"local_parking",r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu"},r.a.createElement("li",null,r.a.createElement("div",{id:"prefixesDropdown",className:"prefixes"},r.a.createElement(ge,{namespaces:we}))))),r.a.createElement("button",{className:"col mdc-icon-button material-icons btns",type:"button",title:"Undo",onClick:function(){v.getInstance().getYashe().undo(),setTimeout((function(){i.replaceShapes(Z.replaceShapes()),i.updatePrefixes(Z.updatePrefixes())}),10)}},"undo"),r.a.createElement("br",null),r.a.createElement("button",{className:"col mdc-icon-button material-icons btns",type:"button",title:"Redo",onClick:function(){v.getInstance().getYashe().redo(),setTimeout((function(){i.replaceShapes(Z.replaceShapes()),i.updatePrefixes(Z.updatePrefixes())}),10)}},"redo"),r.a.createElement("br",null),r.a.createElement("button",{className:"col btns svgBtn uploadBtn",type:"button",onChange:function(e){if(!(e.target.files.length>1)){var t=e.target.files[0];if(t.name.endsWith(".shex")){var a=new FileReader;a.onload=function(e){v.getInstance().getYashe().setValue(e.target.result)},a.readAsText(t),w.a.signal(v.getInstance().getYashe(),"upload")}}},title:"Upload"},r.a.createElement("input",{type:"file",accept:".shex",name:"file-1[]",id:"file-1",className:"inputfileBtn","data-multiple-caption":"{count}' +'files selected",multiple:!0}),r.a.createElement("label",{htmlFor:"file-1"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",viewBox:"0 0 20 17"},r.a.createElement("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"})))),r.a.createElement("br",null),r.a.createElement("button",{className:"col btns svgBtn",type:"button",title:"Download",onClick:function(){var e=new Blob([v.getInstance().getYashe().getValue()],{type:"text/shex"}),t=document.createElement("a");t.download="document.shex",t.innerHTML="Download File",null!=window.URL?t.href=window.URL.createObjectURL(e):(t.href=window.URL.createObjectURL(e),t.style.display="none",document.body.appendChild(t)),t.click()}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",baseProfile:"tiny",viewBox:"0 0 100 100"},r.a.createElement("path",{d:"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z"}))),r.a.createElement("br",null),r.a.createElement("button",{className:"col btns svgBtn",type:"button",title:"Theme",onClick:function(){var e=v.getInstance().getYashe(),t="wiki";"wiki"==e.getOption("theme")?(t="dark","white",document.getElementById("downloadBtn").classList.add("light"),document.getElementById("copyBtn").classList.add("light"),document.getElementById("deleteBtn").classList.add("light"),document.getElementById("themeBtn").classList.add("light"),document.getElementById("smallBtn").classList.add("light"),document.getElementById("fullBtn").classList.add("light"),document.getElementById("uploadBntLabel").classList.add("light")):(document.getElementById("downloadBtn").classList.remove("light"),document.getElementById("copyBtn").classList.remove("light"),document.getElementById("deleteBtn").classList.remove("light"),document.getElementById("themeBtn").classList.remove("light"),document.getElementById("smallBtn").classList.remove("light"),document.getElementById("fullBtn").classList.remove("light"),document.getElementById("uploadBntLabel").classList.remove("light")),e.setOption("theme",t),w.a.signal(e,"themeChange")}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M24 0H0v24h24V0z"}),r.a.createElement("path",{d:"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",title:"Galery"},r.a.createElement("button",{className:"btn btn-default dropdown-toggle   mdc-icon-button material-icons  btns selector",type:"button","data-toggle":"dropdown"},"folder_open",r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu"},r.a.createElement("li",null,r.a.createElement("div",{id:"prefixesDropdown",className:"prefixes"},r.a.createElement("button",{className:"form-control",onClick:function(){return l("default")}},"User"),r.a.createElement("button",{className:"form-control",onClick:function(){return l("wiki")}},"Wikidata"))))),r.a.createElement("button",{className:"col mdc-icon-button material-icons  btns",title:"Delete all",onClick:function(){window.confirm("Are you sure?")&&(setTimeout((function(){i.replaceShapes([])}),10),v.getInstance().getYashe().setValue(""))}},"delete_outline"),r.a.createElement("br",null)),r.a.createElement("div",{className:"lateralBottom"},r.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Up",onClick:function(){window.scrollTo(0,0)}},"arrow_upward")))};var Oe=function(e){var t=e.colapseAll;return r.a.createElement("nav",{className:"navbar navbar-default "},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("button",{className:"asis mdc-icon-button material-icons",type:"button",onClick:t},"menu"),r.a.createElement("span",{className:"shexTitle"},"ShExAuthor"),r.a.createElement("a",{className:"navItems",target:"_blank",href:"http://www.weso.es/YASHE/"},"YASHE"),r.a.createElement("a",{className:"navItems",target:"_blank",href:"https://www.linkedin.com/in/pablo-men%C3%A9ndez-su%C3%A1rez-106262a7/"},"About me")))},je=r.a.createContext();var ke=function(){var e,t=Object(n.useState)([]),a=Object(s.a)(t,2),i=a[0],l=a[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),d=h[0],f=h[1],g=Object(n.useState)([{key:"",val:"http://example.org/"}]),w=Object(s.a)(g,2),b=w[0],y=w[1],E=Object(n.useState)(!0),O=Object(s.a)(E,2),j=O[0],k=O[1],x=Object(n.useState)(!1),N=Object(s.a)(x,2),S=N[0],I=N[1],T=Object(n.useState)(!0),P=Object(s.a)(T,2),C=P[0],B=P[1],_={background:"#222",color:"white"},R={background:"#eaf3ff",color:"black"},L=Object(n.useState)(R),V=Object(s.a)(L,2),D=V[0],F=V[1],Y="light",X=function(){var e=new FormData;e.set("schema",function(){var e=v.getInstance().getYashe();return e?e.getValue():""}()),e.set("schemaFormat","ShExC"),e.set("schemaEngine","SHEX"),m()({method:"post",url:"http://rdfshape.weso.es:8080/api/schema/visualize",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){void 0!=e.data.svg&&(e.data.svg.startsWith("<?xml")?f(e.data.svg):f(null))})).catch((function(e){console.log(e)}))};return r.a.createElement(je.Provider,{value:(e={shapes:i},Object(c.a)(e,"shapes",i),Object(c.a)(e,"addShape",(function(){l([].concat(Object(o.a)(i),[q.addShape(i)])),X()})),Object(c.a)(e,"deleteShape",(function(e){l(q.deleteShape(i,e,!1)),X()})),Object(c.a)(e,"replaceShapes",(function(e){l([]),l(e),X()})),Object(c.a)(e,"prefixes",b),Object(c.a)(e,"updatePrefixes",(function(e){y([]),y(e)})),Object(c.a)(e,"emit",(function(){q.emit(i),X()})),Object(c.a)(e,"currentStyle",D),Object(c.a)(e,"changeThemeStyle",(function(){"light"==Y?(F(_),Y="dark"):(Y="light",F(R))})),Object(c.a)(e,"visualize",X),e)},r.a.createElement(Oe,{colapseAll:function(){k(!C),I(!C),B(!C)}}),r.a.createElement("div",{className:"globalContainer"},r.a.createElement("div",{className:"row comps"},r.a.createElement(u.a,{isOpen:C,className:"lateralNav col-xs-1"},r.a.createElement(Ee,{assistantToggle:function(){return k(!j)},visualizeToggle:function(){return I(!S)}})),r.a.createElement(u.a,{isOpen:j,className:"col"},r.a.createElement(fe,null)),r.a.createElement($,null))),r.a.createElement(u.a,{isOpen:S},r.a.createElement(ve,{svg:d})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},31:function(e,t,a){},43:function(e,t,a){e.exports=a(113)}},[[43,1,2]]]);
//# sourceMappingURL=main.02c0fa3f.chunk.js.map