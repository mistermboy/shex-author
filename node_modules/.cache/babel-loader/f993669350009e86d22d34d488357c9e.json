{"ast":null,"code":"import _toConsumableArray from\"/home/mistermboy/repositories/shex-author/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/mistermboy/repositories/shex-author/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import SlideToggle from\"react-slide-toggle\";import{ShapesContext}from'../../App';import TripleComponent from'./TripleComponent';import ShapeTypeComp from'./types/ShapeTypeComp';import Qualifier from'./utils/Qualifier';import Triple from'../../entities/shexEntities/triple';function ShapeComponent(props){var context=useContext(ShapesContext);var shape=props.shape;var _useState=useState(shape.triples),_useState2=_slicedToArray(_useState,2),triples=_useState2[0],setTriples=_useState2[1];var _useState3=useState('expand_less'),_useState4=_slicedToArray(_useState3,2),colapseBtn=_useState4[0],setColapseBtn=_useState4[1];var handleChange=function handleChange(){var id=shape.getTriplesCount();var triple=new Triple(id);setTriples([].concat(_toConsumableArray(triples),[triple]));shape.addTriple(triple);context.emit();};var handleColapse=function handleColapse(toggle){if(colapseBtn=='expand_more'){setColapseBtn('expand_less');}else{setColapseBtn('expand_more');}toggle();};var deleteTriple=function deleteTriple(tripleId){var newTriples=shape.triples.filter(function(triple){return triple.id!=tripleId;});setTriples(newTriples);shape.setTriples(newTriples);context.emit();};return React.createElement(\"div\",{className:\"shapes-container\",style:context.currentStyle},React.createElement(SlideToggle,{duration:180,collapsed:true,render:function render(_ref){var toggle=_ref.toggle,setCollapsibleElement=_ref.setCollapsibleElement,progress=_ref.progress;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"row shapes-header\",style:context.currentStyle},React.createElement(\"label\",{className:\"col-sm-2\"},\"Shape \"),React.createElement(ShapeTypeComp,{shape:shape,colapse:toggle})),React.createElement(\"div\",{className:\"row qualifier\",ref:setCollapsibleElement,style:context.currentStyle},React.createElement(\"label\",{className:\"col-2 qualiLabel\"},\"Qualifier \"),React.createElement(\"div\",{className:\"col-2\"},React.createElement(Qualifier,{shape:shape,scope:\"shape\"}))));}}),React.createElement(SlideToggle,{duration:180,render:function render(_ref2){var toggle=_ref2.toggle,setCollapsibleElement=_ref2.setCollapsibleElement,progress=_ref2.progress;return React.createElement(\"div\",null,React.createElement(\"button\",{className:\"col-xs-1  colapseTriplesBtn mdc-icon-button material-icons btn-primary\",onClick:function onClick(){return handleColapse(toggle);}},colapseBtn),React.createElement(\"div\",{ref:setCollapsibleElement},React.createElement(\"div\",{className:\"triples-container col-xs \",style:context.currentStyle},triples.map(function(triple){return React.createElement(TripleComponent,{key:triple.id,shape:shape,triple:triple,deleteTriple:deleteTriple});})),React.createElement(\"button\",{className:\"btn-primary addPropButton col-xs-3\",onClick:handleChange},\"+ Triple\")));}}));}export default ShapeComponent;","map":{"version":3,"sources":["/home/mistermboy/repositories/shex-author/src/components/shexComponents/ShapeComponent.js"],"names":["React","useContext","useState","SlideToggle","ShapesContext","TripleComponent","ShapeTypeComp","Qualifier","Triple","ShapeComponent","props","context","shape","triples","setTriples","colapseBtn","setColapseBtn","handleChange","id","getTriplesCount","triple","addTriple","emit","handleColapse","toggle","deleteTriple","tripleId","newTriples","filter","currentStyle","setCollapsibleElement","progress","map"],"mappings":"gQAAA,MAAOA,CAAAA,KAAP,EAAcC,UAAd,CAAyBC,QAAzB,KAAwC,OAAxC,CACA,MAAOC,CAAAA,WAAP,KAAwB,oBAAxB,CAEA,OAAQC,aAAR,KAA4B,WAA5B,CAEA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,aAAP,KAA0B,uBAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,oCAAnB,CAEA,QAASC,CAAAA,cAAT,CAAyBC,KAAzB,CAAgC,CAE5B,GAAMC,CAAAA,OAAO,CAAGV,UAAU,CAACG,aAAD,CAA1B,CAF4B,GAGrBQ,CAAAA,KAHqB,CAGZF,KAHY,CAGrBE,KAHqB,eAKCV,QAAQ,CAACU,KAAK,CAACC,OAAP,CALT,wCAKrBA,OALqB,eAKbC,UALa,8BAMQZ,QAAQ,CAAC,aAAD,CANhB,yCAMpBa,UANoB,eAMTC,aANS,eAQ5B,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAI,CACrB,GAAMC,CAAAA,EAAE,CAAGN,KAAK,CAACO,eAAN,EAAX,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAIZ,CAAAA,MAAJ,CAAWU,EAAX,CAAf,CAEAJ,UAAU,8BAAKD,OAAL,GAAaO,MAAb,GAAV,CAEAR,KAAK,CAACS,SAAN,CAAgBD,MAAhB,EACAT,OAAO,CAACW,IAAR,GAEH,CATD,CAWA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,MAAD,CAAU,CACxB,GAAGT,UAAU,EAAE,aAAf,CAA6B,CACzBC,aAAa,CAAC,aAAD,CAAb,CACH,CAFD,IAEK,CACDA,aAAa,CAAC,aAAD,CAAb,CACH,CACDQ,MAAM,GACb,CAPD,CASA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,QAAD,CAAY,CAC7B,GAAMC,CAAAA,UAAU,CAAGf,KAAK,CAACC,OAAN,CAAce,MAAd,CAAsB,SAAAR,MAAM,QAAIA,CAAAA,MAAM,CAACF,EAAP,EAAaQ,QAAjB,EAA5B,CAAnB,CACAZ,UAAU,CAACa,UAAD,CAAV,CACAf,KAAK,CAACE,UAAN,CAAiBa,UAAjB,EACAhB,OAAO,CAACW,IAAR,GACH,CALD,CAQA,MACI,4BAAK,SAAS,CAAC,kBAAf,CAAkC,KAAK,CAAEX,OAAO,CAACkB,YAAjD,EACI,oBAAC,WAAD,EAAa,QAAQ,CAAE,GAAvB,CACa,SAAS,KADtB,CAEa,MAAM,CAAE,yBAAGL,CAAAA,MAAH,MAAGA,MAAH,CAAWM,qBAAX,MAAWA,qBAAX,CAAkCC,QAAlC,MAAkCA,QAAlC,OACjB,gCACI,2BAAK,SAAS,CAAC,mBAAf,CAAmC,KAAK,CAAEpB,OAAO,CAACkB,YAAlD,EACI,6BAAO,SAAS,CAAC,UAAjB,WADJ,CAEI,oBAAC,aAAD,EAAe,KAAK,CAAEjB,KAAtB,CAA6B,OAAO,CAAEY,MAAtC,EAFJ,CADJ,CAOI,2BAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAEM,qBAApC,CAA2D,KAAK,CAAEnB,OAAO,CAACkB,YAA1E,EAEQ,6BAAO,SAAS,CAAC,kBAAjB,eAFR,CAGQ,2BAAK,SAAS,CAAC,OAAf,EACI,oBAAC,SAAD,EAAW,KAAK,CAAEjB,KAAlB,CAAyB,KAAK,CAAC,OAA/B,EADJ,CAHR,CAPJ,CADiB,EAFrB,EADJ,CAwBI,oBAAC,WAAD,EAAa,QAAQ,CAAE,GAAvB,CACa,MAAM,CAAE,0BAAGY,CAAAA,MAAH,OAAGA,MAAH,CAAWM,qBAAX,OAAWA,qBAAX,CAAkCC,QAAlC,OAAkCA,QAAlC,OACjB,gCACK,8BAAQ,SAAS,CAAC,wEAAlB,CACW,OAAO,CAAE,yBAAIR,CAAAA,aAAa,CAACC,MAAD,CAAjB,EADpB,EAEYT,UAFZ,CADL,CAKI,2BAAK,GAAG,CAAEe,qBAAV,EACI,2BAAK,SAAS,CAAC,2BAAf,CAA0C,KAAK,CAAEnB,OAAO,CAACkB,YAAzD,EACKhB,OAAO,CAACmB,GAAR,CAAY,SAAAZ,MAAM,QAEf,qBAAC,eAAD,EAAiB,GAAG,CAAEA,MAAM,CAACF,EAA7B,CACgB,KAAK,CAAEN,KADvB,CAEgB,MAAM,CAAEQ,MAFxB,CAGgB,YAAY,CAAEK,YAH9B,EAFe,EAAlB,CADL,CADJ,CAaI,8BAAQ,SAAS,CAAC,oCAAlB,CACA,OAAO,CAAER,YADT,aAbJ,CALJ,CADiB,EADrB,EAxBJ,CADJ,CA4DH,CAED,cAAeR,CAAAA,cAAf","sourcesContent":["import React,{useContext,useState} from 'react';\nimport SlideToggle from \"react-slide-toggle\";\n\nimport {ShapesContext} from '../../App';\n\nimport TripleComponent from './TripleComponent';\nimport ShapeTypeComp from './types/ShapeTypeComp';\nimport Qualifier from './utils/Qualifier';\n\nimport Triple from '../../entities/shexEntities/triple';\n\nfunction ShapeComponent (props) {\n\n    const context = useContext(ShapesContext);\n    const {shape} = props;\n\n    const [triples,setTriples] = useState(shape.triples);\n     const [colapseBtn,setColapseBtn] = useState('expand_less');\n\n    const handleChange = ()=>{\n        const id = shape.getTriplesCount();\n        const triple = new Triple(id);\n        \n        setTriples([...triples,triple]);\n\n        shape.addTriple(triple);\n        context.emit();\n        \n    }\n\n    const handleColapse = (toggle)=>{\n            if(colapseBtn=='expand_more'){\n                setColapseBtn('expand_less');\n            }else{\n                setColapseBtn('expand_more');\n            }\n            toggle();\n    }\n\n    const deleteTriple = (tripleId)=>{\n        const newTriples = shape.triples.filter( triple => triple.id != tripleId);\n        setTriples(newTriples);\n        shape.setTriples(newTriples);\n        context.emit();\n    }\n\n\n    return (\n        <div className=\"shapes-container\" style={context.currentStyle}>\n            <SlideToggle duration={180}\n                         collapsed\n                         render={({ toggle, setCollapsibleElement, progress }) => (\n                <div>              \n                    <div className=\"row shapes-header\" style={context.currentStyle}>\n                        <label className=\"col-sm-2\">Shape </label>\n                        <ShapeTypeComp shape={shape} colapse={toggle}/>\n                    \n                    </div>\n            \n                    <div className=\"row qualifier\" ref={setCollapsibleElement} style={context.currentStyle}>\n                       \n                            <label className=\"col-2 qualiLabel\">Qualifier </label>\n                            <div className=\"col-2\">\n                                <Qualifier shape={shape} scope='shape'/>\n                            </div>\n\n                    </div>\n\n                </div>\n\n            )}/>\n\n            <SlideToggle duration={180}                         \n                         render={({ toggle, setCollapsibleElement, progress }) => (\n                <div>              \n                     <button className=\"col-xs-1  colapseTriplesBtn mdc-icon-button material-icons btn-primary\"\n                                onClick={()=>handleColapse(toggle)}>\n                                {colapseBtn}\n                        </button>\n                    <div ref={setCollapsibleElement}>\n                        <div className=\"triples-container col-xs \"style={context.currentStyle}>\n                            {triples.map(triple =>\n\n                                <TripleComponent key={triple.id}\n                                                shape={shape} \n                                                triple={triple}\n                                                deleteTriple={deleteTriple}\n                                /> \n                                    \n                            )}\n                        </div>\n\n                        <button className=\"btn-primary addPropButton col-xs-3\"\n                        onClick={handleChange}>\n                        + Triple</button>\n                    </div>\n                </div>\n\n            )}/>\n\n           \n         </div>   \n        \n        \n    );\n                                   \n    \n}\n\nexport default ShapeComponent;\n\n"]},"metadata":{},"sourceType":"module"}