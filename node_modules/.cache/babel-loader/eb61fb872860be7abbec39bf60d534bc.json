{"ast":null,"code":"var _jsxFileName = \"/home/mistermboy/repositories/shex-author/src/components/navComponents/LateralNav.js\";\nimport React, { useContext } from 'react';\nimport Codemirror from 'codemirror';\nimport { ShapesContext } from '../../App';\nimport PrefixSelector from './PrefixSelector';\nimport { ALL_PREFIXES } from '../../utils/rdfUtils';\nimport Editor from '../../entities/editor';\nimport { defaultExample } from '../../examples/defaultExample';\nimport { wikiExample } from '../../examples/wikiExample';\nimport yasheUtils from '../../utils/yasheUtils';\n\nfunction Nav(props) {\n  const assistantToggle = props.assistantToggle,\n        visualizeToggle = props.visualizeToggle;\n  const context = useContext(ShapesContext);\n\n  const handle = function () {\n    if (window.confirm('Are you sure?')) {\n      context.replaceShapes([]); // We can't do emit() because it takes \n      // like another call to change shapes state\n      // I don't know exactly the reaseon...\n      // It's something about react state\n\n      Editor.getInstance().getYashe().setValue('');\n    }\n  };\n\n  const readFile = function handleFileSelect(evt) {\n    var file = evt.target.files[0];\n    var reader = new FileReader();\n\n    reader.onload = function (event) {\n      Editor.getInstance().getYashe().setValue(event.target.result);\n    };\n\n    reader.readAsText(file);\n  };\n\n  const downloadFile = function () {\n    var textFileAsBlob = new Blob([Editor.getInstance().getYashe().getValue()], {\n      type: 'text/shex'\n    });\n    var fileNameToSaveAs = \"document.shex\";\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.download = fileNameToSaveAs;\n    downloadLink.innerHTML = \"Download File\";\n\n    if (window.URL != null) {\n      // Chrome allows the link to be clicked without actually adding it to the DOM.\n      downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n    } else {\n      // Firefox requires the link to be added to the DOM before it can be clicked.\n      downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n      downloadLink.style.display = \"none\";\n      document.body.appendChild(downloadLink);\n    }\n\n    downloadLink.click();\n  };\n\n  const changeTheme = function () {\n    let yashe = Editor.getInstance().getYashe();\n    var themeValue = 'wiki';\n    var color = 'black';\n\n    if (yashe.getOption('theme') == 'wiki') {\n      themeValue = 'dark';\n      color = 'white';\n      document.getElementById(\"downloadBtn\").classList.add('light');\n      document.getElementById(\"copyBtn\").classList.add('light');\n      document.getElementById(\"deleteBtn\").classList.add('light');\n      document.getElementById(\"themeBtn\").classList.add('light');\n      document.getElementById(\"smallBtn\").classList.add('light');\n      document.getElementById(\"fullBtn\").classList.add('light');\n      document.getElementById(\"uploadBntLabel\").classList.add('light');\n    } else {\n      document.getElementById(\"downloadBtn\").classList.remove('light');\n      document.getElementById(\"copyBtn\").classList.remove('light');\n      document.getElementById(\"deleteBtn\").classList.remove('light');\n      document.getElementById(\"themeBtn\").classList.remove('light');\n      document.getElementById(\"smallBtn\").classList.remove('light');\n      document.getElementById(\"fullBtn\").classList.remove('light');\n      document.getElementById(\"uploadBntLabel\").classList.remove('light');\n    }\n\n    yashe.setOption(\"theme\", themeValue);\n    Codemirror.signal(yashe, 'themeChange');\n  };\n\n  const loadExample = function (example) {\n    let yashe = Editor.getInstance().getYashe();\n\n    if (example == 'default') {\n      yashe.setValue(defaultExample);\n    } else {\n      yashe.setValue(wikiExample);\n    }\n\n    Codemirror.signal(yashe, 'keyHandled');\n  };\n\n  const scrollTop = function () {\n    window.scrollTo(0, 0);\n  };\n\n  const undo = function () {\n    Editor.getInstance().getYashe().undo();\n    setTimeout(() => {\n      //needed\n      context.replaceShapes(yasheUtils.replaceShapes());\n    }, 10);\n  };\n\n  const redo = function () {\n    Editor.getInstance().getYashe().redo();\n    setTimeout(() => {\n      //needed\n      context.replaceShapes(yasheUtils.replaceShapes());\n    }, 10);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"lateral\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"lateralTop\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"col mdc-icon-button material-icons btns\",\n    title: \"Show ShEx Assistant\",\n    type: \"button\",\n    onClick: assistantToggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"info\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"col mdc-icon-button material-icons btns\",\n    type: \"button\",\n    title: \"Visualize\",\n    onClick: visualizeToggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"remove_red_eye\"), React.createElement(\"div\", {\n    className: \"dropdown\",\n    title: \"Prefixes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-default dropdown-toggle   mdc-icon-button material-icons  btns selector\",\n    type: \"button\",\n    \"data-toggle\": \"dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"local_parking\", React.createElement(\"span\", {\n    className: \"caret\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  })), React.createElement(\"ul\", {\n    className: \"dropdown-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"prefixesDropdown\",\n    className: \"prefixes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(PrefixSelector, {\n    namespaces: ALL_PREFIXES,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }))))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"col mdc-icon-button material-icons btns\",\n    type: \"button\",\n    title: \"Undo\",\n    onClick: undo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"undo\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"col mdc-icon-button material-icons btns\",\n    type: \"button\",\n    title: \"Redo\",\n    onClick: redo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"redo\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"dropdown\",\n    title: \"Galery\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-default dropdown-toggle   mdc-icon-button material-icons  btns selector\",\n    type: \"button\",\n    \"data-toggle\": \"dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"folder_open\", React.createElement(\"span\", {\n    className: \"caret\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  })), React.createElement(\"ul\", {\n    className: \"dropdown-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"prefixesDropdown\",\n    className: \"prefixes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"form-control\",\n    onClick: () => loadExample('default'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"User\"), React.createElement(\"button\", {\n    className: \"form-control\",\n    onClick: () => loadExample('wiki'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, \"Wikidata\"))))), React.createElement(\"button\", {\n    className: \"col mdc-icon-button material-icons  btns\",\n    title: \"Delete all\",\n    onClick: handle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, \"delete_outline\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"lateralBottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"mdc-icon-button material-icons btns\",\n    type: \"button\",\n    title: \"Up\",\n    onClick: scrollTop,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, \"arrow_upward\")));\n}\n\nexport default Nav;","map":{"version":3,"sources":["/home/mistermboy/repositories/shex-author/src/components/navComponents/LateralNav.js"],"names":["React","useContext","Codemirror","ShapesContext","PrefixSelector","ALL_PREFIXES","Editor","defaultExample","wikiExample","yasheUtils","Nav","props","assistantToggle","visualizeToggle","context","handle","window","confirm","replaceShapes","getInstance","getYashe","setValue","readFile","handleFileSelect","evt","file","target","files","reader","FileReader","onload","event","result","readAsText","downloadFile","textFileAsBlob","Blob","getValue","type","fileNameToSaveAs","downloadLink","document","createElement","download","innerHTML","URL","href","createObjectURL","style","display","body","appendChild","click","changeTheme","yashe","themeValue","color","getOption","getElementById","classList","add","remove","setOption","signal","loadExample","example","scrollTop","scrollTo","undo","setTimeout","redo"],"mappings":"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","sourcesContent":["import React,{useContext} from 'react';\nimport Codemirror from 'codemirror';\nimport {ShapesContext} from '../../App';\nimport PrefixSelector from './PrefixSelector';\nimport {ALL_PREFIXES} from '../../utils/rdfUtils';\nimport  Editor from '../../entities/editor';\n\nimport {defaultExample} from '../../examples/defaultExample';\nimport {wikiExample} from '../../examples/wikiExample';\n\nimport yasheUtils from '../../utils/yasheUtils';\n\nfunction Nav (props) {\n\n    const {assistantToggle,visualizeToggle} = props;\n    const context = useContext(ShapesContext);\n\n    const  handle = function(){\n        if(window.confirm('Are you sure?')){\n            context.replaceShapes([]);\n            // We can't do emit() because it takes \n            // like another call to change shapes state\n            // I don't know exactly the reaseon...\n            // It's something about react state\n            Editor.getInstance().getYashe().setValue('');\n        }\n    }\n\n    const readFile = function handleFileSelect(evt) {\n        var file = evt.target.files[0];\n        var reader = new FileReader();\n        reader.onload = function(event) {\n            Editor.getInstance().getYashe().setValue(event.target.result)\n        };\n\n        reader.readAsText(file);\n    }\n\n    const downloadFile = function(){\n        var textFileAsBlob = new Blob([ Editor.getInstance().getYashe().getValue() ], { type: 'text/shex' });\n        var fileNameToSaveAs = \"document.shex\";\n\n        var downloadLink = document.createElement(\"a\");\n        downloadLink.download = fileNameToSaveAs;\n        downloadLink.innerHTML = \"Download File\";\n        if (window.URL != null) {\n            // Chrome allows the link to be clicked without actually adding it to the DOM.\n            downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n        } else {\n            // Firefox requires the link to be added to the DOM before it can be clicked.\n            downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n            downloadLink.style.display = \"none\";\n            document.body.appendChild(downloadLink);\n        }\n        downloadLink.click();\n    }\n\n    const changeTheme = function(){\n        let yashe = Editor.getInstance().getYashe();\n        var themeValue = 'wiki'\n        var color = 'black'\n        if(yashe.getOption('theme') == 'wiki'){\n            themeValue='dark'\n            color = 'white'\n            document.getElementById(\"downloadBtn\").classList.add('light');\n            document.getElementById(\"copyBtn\").classList.add('light');\n            document.getElementById(\"deleteBtn\").classList.add('light');\n            document.getElementById(\"themeBtn\").classList.add('light');\n            document.getElementById(\"smallBtn\").classList.add('light');\n            document.getElementById(\"fullBtn\").classList.add('light');\n            document.getElementById(\"uploadBntLabel\").classList.add('light');\n        }else{\n            document.getElementById(\"downloadBtn\").classList.remove('light');\n            document.getElementById(\"copyBtn\").classList.remove('light');\n            document.getElementById(\"deleteBtn\").classList.remove('light');\n            document.getElementById(\"themeBtn\").classList.remove('light');\n            document.getElementById(\"smallBtn\").classList.remove('light');\n            document.getElementById(\"fullBtn\").classList.remove('light');\n            document.getElementById(\"uploadBntLabel\").classList.remove('light');\n        }\n        \n      yashe.setOption(\"theme\",themeValue)\n      Codemirror.signal(yashe,'themeChange');\n    }\n\n    const loadExample = function(example){ \n        let yashe = Editor.getInstance().getYashe();\n        if(example=='default'){\n            yashe.setValue(defaultExample)\n        }else{\n            yashe.setValue(wikiExample)\n        }\n         Codemirror.signal(yashe,'keyHandled');\n    }\n\n    const scrollTop = function(){\n        window.scrollTo(0, 0);\n    }\n    \n    const undo = function(){\n        Editor.getInstance().getYashe().undo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());    \n        }, 10); \n        \n    }\n\n    const redo = function(){\n        Editor.getInstance().getYashe().redo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());    \n        }, 10); \n    }\n\n    return (<div className='lateral'>\n                    <div className='lateralTop'>\n                    <button className=\"col mdc-icon-button material-icons btns\" title=\"Show ShEx Assistant\"\n                            type=\"button\"\n                            onClick={assistantToggle}>\n                            info\n                    </button>\n                    <br/>\n\n                    <button className=\"col mdc-icon-button material-icons btns\"type=\"button\" title=\"Visualize\"\n                        onClick={visualizeToggle}>\n                        remove_red_eye\n                    </button> \n\n <div className=\"dropdown\" title=\"Prefixes\">\n                        <button className=\"btn btn-default dropdown-toggle  \n                                        mdc-icon-button material-icons \n                                        btns selector\" type=\"button\" data-toggle=\"dropdown\">local_parking\n                        <span className=\"caret\"></span></button>\n                        <ul className='dropdown-menu'>\n                            <li>\n                                <div id='prefixesDropdown' className='prefixes'>  \n\n                                    <PrefixSelector namespaces={ALL_PREFIXES}/>\n                                    \n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <br/>\n                    \n\n                    <button className=\"col mdc-icon-button material-icons btns\"type=\"button\" title=\"Undo\"\n                        onClick={undo}>\n                        undo\n                    </button> \n                    <br/>\n                    \n                    <button className=\"col mdc-icon-button material-icons btns\"type=\"button\" title=\"Redo\"\n                        onClick={redo}>\n                        redo\n                    </button> \n                    <br/>\n\n                    \n                 \n\n                    <div className=\"dropdown\" title=\"Galery\">\n                        <button className=\"btn btn-default dropdown-toggle  \n                                        mdc-icon-button material-icons \n                                         btns selector\" type=\"button\" data-toggle=\"dropdown\">folder_open\n                        <span className=\"caret\"></span></button>\n                        <ul className='dropdown-menu'>\n                            <li>\n                                <div id='prefixesDropdown' className='prefixes'>  \n                                    <button className=\"form-control\"onClick={()=>loadExample('default')}>User</button>\n                                    <button className=\"form-control\" onClick={()=>loadExample('wiki')}>Wikidata</button>\n                                    \n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n      \n\n\n\n                     <button className=\"col mdc-icon-button material-icons  btns\" title=\"Delete all\"\n                             onClick={handle}>\n                            delete_outline\n                     </button>\n                    <br/>\n                    </div>\n\n                    <div className='lateralBottom'>\n                      <button className=\"mdc-icon-button material-icons btns\"type=\"button\" title=\"Up\"\n                              onClick={scrollTop}\n                        >\n                        arrow_upward\n                    </button> \n                   </div>\n                    \n        </div>);\n    \n    \n}\n\n\nexport default Nav;\n"]},"metadata":{},"sourceType":"module"}