{"ast":null,"code":"import Editor from '../entities/editor';\nimport tokenUtils from './tokenUtils';\nconst DEFAULT_SHAPE = 'PREFIX :       <http://example.org/>\\n' + 'PREFIX schema: <http://schema.org/>\\n' + 'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n' + ':User IRI {\\n' + '  schema:name          xsd:string  ;\\n' + '  schema:birthDate     xsd:date?  ;\\n' + '  schema:birthPlace    xsd:string+  ;\\n' + '  schema:knows          @:User*  \\n' + '}';\n\nfunction replaceShapes() {\n  let tokens = tokenUtils.getTokens();\n  let defShapes = tokenUtils.getDefinedShapes(tokens);\n  let newShapes = tokenUtils.getShapes(defShapes);\n  tokenUtils.updateInlines(newShapes);\n  return newShapes;\n}\n\nfunction updatePrefixes() {\n  let newPrefixes = [];\n  let prefix = {};\n  let yashe = Editor.getInstance().getYashe();\n\n  if (yashe != undefined) {\n    let keys = Object.keys(yashe.getDefinedPrefixes());\n    let values = Object.values(yashe.getDefinedPrefixes());\n\n    for (let i = 0; i < keys.length; i++) {\n      prefix = {};\n      prefix.key = keys[i];\n      prefix.val = values[i];\n      newPrefixes.push(prefix);\n    }\n  }\n\n  return newPrefixes;\n}\n\nconst yasheUtils = {\n  DEFAULT_SHAPE: DEFAULT_SHAPE,\n  replaceShapes: replaceShapes,\n  updatePrefixes: updatePrefixes\n};\nexport default yasheUtils;","map":{"version":3,"sources":["/home/mistermboy/repositories/shex-author/src/utils/yasheUtils.js"],"names":["Editor","tokenUtils","DEFAULT_SHAPE","replaceShapes","tokens","getTokens","defShapes","getDefinedShapes","newShapes","getShapes","updateInlines","updatePrefixes","newPrefixes","prefix","yashe","getInstance","getYashe","undefined","keys","Object","getDefinedPrefixes","values","i","length","key","val","push","yasheUtils"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,oBAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAGA,MAAMC,aAAa,GAAG,2CACtB,uCADsB,GAEtB,wDAFsB,GAItB,eAJsB,GAKtB,wCALsB,GAMtB,uCANsB,GAOtB,yCAPsB,GAQtB,qCARsB,GAStB,GATA;;AAYE,SAASC,aAAT,GAAwB;AACtB,MAAIC,MAAM,GAAGH,UAAU,CAACI,SAAX,EAAb;AACA,MAAIC,SAAS,GAAGL,UAAU,CAACM,gBAAX,CAA4BH,MAA5B,CAAhB;AACA,MAAII,SAAS,GAAGP,UAAU,CAACQ,SAAX,CAAqBH,SAArB,CAAhB;AAEAL,EAAAA,UAAU,CAACS,aAAX,CAAyBF,SAAzB;AAEA,SAAOA,SAAP;AACD;;AAED,SAASG,cAAT,GAAyB;AACvB,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAIC,MAAM,GAAG,EAAb;AACA,MAAIC,KAAK,GAAGd,MAAM,CAACe,WAAP,GAAqBC,QAArB,EAAZ;;AACA,MAAGF,KAAK,IAAEG,SAAV,EAAoB;AAClB,QAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYJ,KAAK,CAACM,kBAAN,EAAZ,CAAX;AACA,QAAIC,MAAM,GAAGF,MAAM,CAACE,MAAP,CAAcP,KAAK,CAACM,kBAAN,EAAd,CAAb;;AAEA,SAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,IAAI,CAACK,MAAnB,EAA0BD,CAAC,EAA3B,EAA8B;AAC1BT,MAAAA,MAAM,GAAG,EAAT;AACAA,MAAAA,MAAM,CAACW,GAAP,GAAWN,IAAI,CAACI,CAAD,CAAf;AACAT,MAAAA,MAAM,CAACY,GAAP,GAAWJ,MAAM,CAACC,CAAD,CAAjB;AACAV,MAAAA,WAAW,CAACc,IAAZ,CAAiBb,MAAjB;AACH;AACF;;AACD,SAAOD,WAAP;AACD;;AAEF,MAAMe,UAAU,GAAG;AACdzB,EAAAA,aAAa,EAACA,aADA;AAEdC,EAAAA,aAAa,EAACA,aAFA;AAGdQ,EAAAA,cAAc,EAACA;AAHD,CAAnB;AAOC,eAAegB,UAAf","sourcesContent":["import Editor from '../entities/editor';\nimport tokenUtils from './tokenUtils';\n\n\nconst DEFAULT_SHAPE = 'PREFIX :       <http://example.org/>\\n'+\n'PREFIX schema: <http://schema.org/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n'+\n\n':User IRI {\\n'+ \n'  schema:name          xsd:string  ;\\n'+\n'  schema:birthDate     xsd:date?  ;\\n'+\n'  schema:birthPlace    xsd:string+  ;\\n'+\n'  schema:knows          @:User*  \\n'+\n'}';\n  \n  \n  function replaceShapes(){\n    let tokens = tokenUtils.getTokens();\n    let defShapes = tokenUtils.getDefinedShapes(tokens);\n    let newShapes = tokenUtils.getShapes(defShapes);\n    \n    tokenUtils.updateInlines(newShapes);\n\n    return newShapes;\n  }\n\n  function updatePrefixes(){\n    let newPrefixes = [];\n    let prefix = {};\n    let yashe = Editor.getInstance().getYashe();\n    if(yashe!=undefined){\n      let keys = Object.keys(yashe.getDefinedPrefixes());\n      let values = Object.values(yashe.getDefinedPrefixes());\n\n      for(let i=0;i<keys.length;i++){\n          prefix = {};\n          prefix.key=keys[i];\n          prefix.val=values[i];\n          newPrefixes.push(prefix);\n      }\n    }\n    return newPrefixes;\n  }\n\n const yasheUtils = {\n      DEFAULT_SHAPE:DEFAULT_SHAPE,\n      replaceShapes:replaceShapes,\n      updatePrefixes:updatePrefixes\n\n  }\n\n  export default yasheUtils;\n"]},"metadata":{},"sourceType":"module"}