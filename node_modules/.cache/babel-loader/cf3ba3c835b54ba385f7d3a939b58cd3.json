{"ast":null,"code":"import Codemirror from'codemirror';import Editor from'../entities/editor';import Shape from'../entities/shexEntities/shape';var shapesCount=0;function addShape(shapes){var id=shapes.length+shapesCount++;var newShape=new Shape(id);var newShapes=[];newShapes=Object.assign(newShapes,shapes);newShapes.push(newShape);emit(newShapes);return newShape;}function deleteShape(shapes,shapeId,confirm){if(!confirm){confirm=window.confirm('Are you sure?');}if(confirm==true){var newShapes=shapes.filter(function(shape){return shape.id!=shapeId;});emit(newShapes);return newShapes;}return shapes;}function getShapeById(shapes,shapeId){return shapes.filter(function(obj){return obj.id==shapeId;})[0];}function getShapeByName(shapes,name){for(var s in shapes){if(shapes[s].getType().getValue()==name){return shapes[s];}}}function getTripleById(shape,tripleId){return shape.getTriples().filter(function(obj){return obj.id==tripleId;})[0];}function emit(newShapes){var yashe=Editor.getInstance().getYashe();if(yashe!=undefined){Codemirror.signal(yashe,'humanEvent',newShapes);}}var shexUtils={addShape:addShape,deleteShape:deleteShape,getShapeById:getShapeById,getShapeByName:getShapeByName,getTripleById:getTripleById,emit:emit};export default shexUtils;","map":{"version":3,"sources":["/home/mistermboy/repositories/shex-author/src/utils/shexUtils.js"],"names":["Codemirror","Editor","Shape","shapesCount","addShape","shapes","id","length","newShape","newShapes","Object","assign","push","emit","deleteShape","shapeId","confirm","window","filter","shape","getShapeById","obj","getShapeByName","name","s","getType","getValue","getTripleById","tripleId","getTriples","yashe","getInstance","getYashe","undefined","signal","shexUtils"],"mappings":"AAAA,MAAOA,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gCAAlB,CAEA,GAAIC,CAAAA,WAAW,CAAG,CAAlB,CAEA,QAASC,CAAAA,QAAT,CAAmBC,MAAnB,CAA0B,CAEtB,GAAMC,CAAAA,EAAE,CAAGD,MAAM,CAACE,MAAP,CAAgBJ,WAAW,EAAtC,CACA,GAAMK,CAAAA,QAAQ,CAAG,GAAIN,CAAAA,KAAJ,CAAUI,EAAV,CAAjB,CAEA,GAAIG,CAAAA,SAAS,CAAG,EAAhB,CACAA,SAAS,CAAGC,MAAM,CAACC,MAAP,CAAcF,SAAd,CAAyBJ,MAAzB,CAAZ,CACAI,SAAS,CAACG,IAAV,CAAeJ,QAAf,EACAK,IAAI,CAACJ,SAAD,CAAJ,CACA,MAAOD,CAAAA,QAAP,CACH,CAED,QAASM,CAAAA,WAAT,CAAqBT,MAArB,CAA4BU,OAA5B,CAAoCC,OAApC,CAA6C,CACzC,GAAG,CAACA,OAAJ,CAAY,CACRA,OAAO,CAAGC,MAAM,CAACD,OAAP,CAAe,eAAf,CAAV,CACH,CACD,GAAIA,OAAO,EAAI,IAAf,CAAqB,CACjB,GAAMP,CAAAA,SAAS,CAAGJ,MAAM,CAACa,MAAP,CAAc,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACb,EAAN,EAAYS,OAAhB,EAAnB,CAAlB,CACAF,IAAI,CAACJ,SAAD,CAAJ,CACA,MAAOA,CAAAA,SAAP,CACH,CACD,MAAOJ,CAAAA,MAAP,CACH,CAED,QAASe,CAAAA,YAAT,CAAsBf,MAAtB,CAA6BU,OAA7B,CAAsC,CAClC,MAAOV,CAAAA,MAAM,CAACa,MAAP,CAAc,SAAUG,GAAV,CAAgB,CACjC,MAAOA,CAAAA,GAAG,CAACf,EAAJ,EAAUS,OAAjB,CACH,CAFM,EAEJ,CAFI,CAAP,CAGH,CAED,QAASO,CAAAA,cAAT,CAAwBjB,MAAxB,CAA+BkB,IAA/B,CAAqC,CACjC,IAAI,GAAIC,CAAAA,CAAR,GAAanB,CAAAA,MAAb,CAAoB,CAChB,GAAGA,MAAM,CAACmB,CAAD,CAAN,CAAUC,OAAV,GAAoBC,QAApB,IAAkCH,IAArC,CAA0C,CACtC,MAAOlB,CAAAA,MAAM,CAACmB,CAAD,CAAb,CACH,CACJ,CACJ,CAGD,QAASG,CAAAA,aAAT,CAAuBR,KAAvB,CAA6BS,QAA7B,CAAuC,CACnC,MAAOT,CAAAA,KAAK,CAACU,UAAN,GAAmBX,MAAnB,CAA0B,SAAUG,GAAV,CAAgB,CAC7C,MAAOA,CAAAA,GAAG,CAACf,EAAJ,EAAUsB,QAAjB,CACH,CAFM,EAEJ,CAFI,CAAP,CAGH,CAGD,QAASf,CAAAA,IAAT,CAAcJ,SAAd,CAAyB,CACrB,GAAMqB,CAAAA,KAAK,CAAG7B,MAAM,CAAC8B,WAAP,GAAqBC,QAArB,EAAd,CACA,GAAGF,KAAK,EAAEG,SAAV,CAAoB,CAChBjC,UAAU,CAACkC,MAAX,CAAkBJ,KAAlB,CAAwB,YAAxB,CAAqCrB,SAArC,EACH,CACJ,CAGD,GAAM0B,CAAAA,SAAS,CAAG,CACd/B,QAAQ,CAACA,QADK,CAEdU,WAAW,CAACA,WAFE,CAGdM,YAAY,CAACA,YAHC,CAIdE,cAAc,CAACA,cAJD,CAKdK,aAAa,CAACA,aALA,CAMdd,IAAI,CAACA,IANS,CAAlB,CASA,cAAesB,CAAAA,SAAf","sourcesContent":["import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport Shape from '../entities/shexEntities/shape';\n\nlet shapesCount = 0;\n\nfunction addShape (shapes){\n\n    const id = shapes.length + shapesCount++;\n    const newShape = new Shape(id);\n    \n    let newShapes = [];\n    newShapes = Object.assign(newShapes, shapes);\n    newShapes.push(newShape)\n    emit(newShapes);\n    return newShape;\n}\n\nfunction deleteShape(shapes,shapeId,confirm) {\n    if(!confirm){\n        confirm = window.confirm('Are you sure?');\n    }\n    if (confirm == true) {\n        const newShapes = shapes.filter(shape => shape.id != shapeId);\n        emit(newShapes);\n        return newShapes;\n    }\n    return shapes;\n}\n\nfunction getShapeById(shapes,shapeId) {\n    return shapes.filter(function( obj ) {\n        return obj.id == shapeId\n    })[0];\n}\n\nfunction getShapeByName(shapes,name) {\n    for(let s in shapes){\n        if(shapes[s].getType().getValue() == name){\n            return shapes[s];\n        }\n    }\n}\n\n\nfunction getTripleById(shape,tripleId) {\n    return shape.getTriples().filter(function( obj ) {\n        return obj.id == tripleId\n    })[0];\n}\n\n\nfunction emit(newShapes) {\n    const yashe = Editor.getInstance().getYashe();\n    if(yashe!=undefined){\n        Codemirror.signal(yashe,'humanEvent',newShapes);\n    }\n}\n\n\nconst shexUtils = {\n    addShape:addShape,\n    deleteShape:deleteShape,\n    getShapeById:getShapeById,\n    getShapeByName:getShapeByName,\n    getTripleById:getTripleById,\n    emit:emit\n}\n\nexport default shexUtils;"]},"metadata":{},"sourceType":"module"}