{"ast":null,"code":"import _slicedToArray from \"/home/mistermboy/repositories/shex-author/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mistermboy/repositories/shex-author/src/components/shexComponents/ShapeComponent.js\";\nimport React, { useContext, useState } from 'react';\nimport { Collapse } from 'reactstrap';\nimport { ShapesContext } from '../../App';\nimport TripleComponent from './TripleComponent';\nimport ShapeTypeComp from './types/ShapeTypeComp';\nimport Qualifier from './utils/Qualifier';\nimport Triple from '../../entities/shexEntities/triple';\n\nfunction ShapeComponent(props) {\n  const context = useContext(ShapesContext);\n  const shape = props.shape;\n\n  const _useState = useState(shape.triples),\n        _useState2 = _slicedToArray(_useState, 2),\n        triples = _useState2[0],\n        setTriples = _useState2[1];\n\n  const _useState3 = useState('expand_less'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        colapseBtn = _useState4[0],\n        setColapseBtn = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isTriplesOpen = _useState6[0],\n        setTriplesOpen = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        isQualiOpen = _useState8[0],\n        setQualiOpen = _useState8[1];\n\n  const handleChange = () => {\n    const id = shape.getTriplesCount();\n    const triple = new Triple(id);\n    setTriples([...triples, triple]);\n    shape.addTriple(triple);\n    context.emit();\n  };\n\n  const handleTriplesColapse = () => {\n    if (colapseBtn == 'expand_more') {\n      setColapseBtn('expand_less');\n    } else {\n      setColapseBtn('expand_more');\n    }\n\n    setTriplesOpen(!isTriplesOpen);\n  };\n\n  const handleQualiCollapse = () => {\n    setQualiOpen(!isQualiOpen);\n  };\n\n  const deleteTriple = tripleId => {\n    const newTriples = shape.triples.filter(triple => triple.id != tripleId);\n    setTriples(newTriples);\n    shape.setTriples(newTriples);\n    context.emit();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"shapes-container\",\n    style: context.currentStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row shapes-header\",\n    style: context.currentStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"col-sm-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Shape \"), React.createElement(ShapeTypeComp, {\n    shape: shape,\n    collapse: handleQualiCollapse,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(Collapse, {\n    isOpen: isQualiOpen,\n    timeout: 110,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row qualifier\",\n    style: context.currentStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"col-2 qualiLabel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Qualifier \"), React.createElement(\"div\", {\n    className: \"col-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Qualifier, {\n    shape: shape,\n    scope: \"shape\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })))), React.createElement(\"button\", {\n    className: \"col-xs-1  colapseTriplesBtn mdc-icon-button material-icons btn-primary\",\n    onClick: () => handleTriplesColapse(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, colapseBtn), React.createElement(Collapse, {\n    isOpen: isTriplesOpen,\n    style: context.currentStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"triples-container col-xs \",\n    style: context.currentStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, triples.map(triple => React.createElement(TripleComponent, {\n    key: triple.id,\n    shape: shape,\n    triple: triple,\n    deleteTriple: deleteTriple,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    className: \"btn-primary addPropButton col-xs-3\",\n    onClick: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"+ Triple\")));\n}\n\nexport default ShapeComponent;","map":{"version":3,"sources":["/home/mistermboy/repositories/shex-author/src/components/shexComponents/ShapeComponent.js"],"names":["React","useContext","useState","Collapse","ShapesContext","TripleComponent","ShapeTypeComp","Qualifier","Triple","ShapeComponent","props","context","shape","triples","setTriples","colapseBtn","setColapseBtn","isTriplesOpen","setTriplesOpen","isQualiOpen","setQualiOpen","handleChange","id","getTriplesCount","triple","addTriple","emit","handleTriplesColapse","handleQualiCollapse","deleteTriple","tripleId","newTriples","filter","currentStyle","map"],"mappings":"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","sourcesContent":["import React,{useContext,useState} from 'react';\nimport { Collapse } from 'reactstrap';\n\nimport {ShapesContext} from '../../App';\n\nimport TripleComponent from './TripleComponent';\nimport ShapeTypeComp from './types/ShapeTypeComp';\nimport Qualifier from './utils/Qualifier';\n\nimport Triple from '../../entities/shexEntities/triple';\n\nfunction ShapeComponent (props) {\n\n    const context = useContext(ShapesContext);\n    const {shape} = props;\n\n    const [triples,setTriples] = useState(shape.triples);\n    const [colapseBtn,setColapseBtn] = useState('expand_less');\n    const [isTriplesOpen, setTriplesOpen] = useState(true);\n    const [isQualiOpen, setQualiOpen] = useState(false);\n\n    const handleChange = ()=>{\n        const id = shape.getTriplesCount();\n        const triple = new Triple(id);\n        \n        setTriples([...triples,triple]);\n\n        shape.addTriple(triple);\n        context.emit();\n        \n    }\n\n    const handleTriplesColapse = ()=>{\n            if(colapseBtn=='expand_more'){\n                setColapseBtn('expand_less');\n            }else{\n                setColapseBtn('expand_more');\n            }\n           setTriplesOpen(!isTriplesOpen);\n    }\n\n\n    const handleQualiCollapse = ()=>{\n        setQualiOpen(!isQualiOpen);\n    }\n\n    const deleteTriple = (tripleId)=>{\n        const newTriples = shape.triples.filter( triple => triple.id != tripleId);\n        setTriples(newTriples);\n        shape.setTriples(newTriples);\n        context.emit();\n    }\n\n\n    return (\n        <div className=\"shapes-container\" style={context.currentStyle}>\n                     \n                <div className=\"row shapes-header\" style={context.currentStyle}>\n                    <label className=\"col-sm-2\">Shape </label>\n                    <ShapeTypeComp shape={shape} collapse={handleQualiCollapse}/>\n                \n                </div>\n        \n                <Collapse isOpen={isQualiOpen}  timeout={110}>\n                    <div className=\"row qualifier\" style={context.currentStyle}>\n                            <label className=\"col-2 qualiLabel\">Qualifier </label>\n                            <div className=\"col-2\">\n                                <Qualifier shape={shape} scope='shape'/>\n                            </div>\n                    </div>\n                </Collapse>\n           \n\n         \n                <button className=\"col-xs-1  colapseTriplesBtn mdc-icon-button material-icons btn-primary\"\n                        onClick={()=>handleTriplesColapse()}>\n                        {colapseBtn}\n                </button>\n                \n\n                <Collapse isOpen={isTriplesOpen} style={context.currentStyle}>\n                    <div className=\"triples-container col-xs \"style={context.currentStyle}>\n                            {triples.map(triple =>\n\n                                <TripleComponent key={triple.id}\n                                                shape={shape} \n                                                triple={triple}\n                                                deleteTriple={deleteTriple}\n                                /> \n                                    \n                            )}\n                    </div>\n\n                    <button className=\"btn-primary addPropButton col-xs-3\"\n                            onClick={handleChange}>\n                            + Triple\n                    </button>\n                \n                </Collapse>\n                \n            </div>\n     \n    );\n                                   \n    \n}\n\n\nexport default ShapeComponent;\n\n"]},"metadata":{},"sourceType":"module"}