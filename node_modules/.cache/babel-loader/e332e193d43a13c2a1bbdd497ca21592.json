{"ast":null,"code":"import _slicedToArray from \"/home/mistermboy/repositories/shex-author/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mistermboy/repositories/shex-author/src/App.js\";\nimport React, { useState } from 'react';\nimport { Collapse } from 'reactstrap';\nimport axios from 'axios';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport EditorComp from './components/EditorComp';\nimport AssistantComp from './components/AssistantComp';\nimport VisualizeComp from './components/VisualizeComp';\nimport Nav from './components/navComponents/Nav';\nimport shexUtils from './utils/shexUtils';\nimport Editor from './entities/editor';\nexport const ShapesContext = React.createContext();\n\nfunction App() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        shapes = _useState2[0],\n        setShapes = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        svg = _useState4[0],\n        setSvg = _useState4[1];\n\n  const _useState5 = useState([{\n    key: '',\n    val: 'http://example.org/'\n  }]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        prefixes = _useState6[0],\n        setPrefixes = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        isAssistantOpen = _useState8[0],\n        setAssistantOpen = _useState8[1];\n\n  const _useState9 = useState(true),\n        _useState10 = _slicedToArray(_useState9, 2),\n        isVisualizeOpen = _useState10[0],\n        setVisualizeOpen = _useState10[1];\n\n  const assistanToggle = () => setAssistantOpen(!isAssistantOpen);\n\n  const visualizeToggle = () => setVisualizeOpen(!isVisualizeOpen);\n\n  const darkStyle = {\n    background: '#2B2B2B',\n    color: 'white'\n  };\n  const lightStyle = {\n    background: '#eaf3ff',\n    color: 'black'\n  };\n\n  const _useState11 = useState(lightStyle),\n        _useState12 = _slicedToArray(_useState11, 2),\n        style = _useState12[0],\n        setStyle = _useState12[1];\n\n  let theme = 'light';\n\n  const addShape = () => {\n    setShapes([...shapes, shexUtils.addShape(shapes)]);\n  };\n\n  const deleteShape = shapeId => {\n    setShapes(shexUtils.deleteShape(shapes, shapeId, false));\n  };\n\n  const emit = () => {\n    shexUtils.emit(shapes);\n    visualize();\n  };\n\n  const replaceShapes = newShapes => {\n    //This allows to render all the shapes when a property is updated.\n    //Best Glitch Ever\n    setShapes([]);\n    setShapes(newShapes);\n    visualize();\n  };\n\n  const updatePrefixes = newPrefixes => {\n    setPrefixes(newPrefixes);\n  };\n\n  const changeThemeStyle = () => {\n    if (theme == 'light') {\n      //I don't know why this doesn't work with style state\n      setStyle(darkStyle);\n      theme = 'dark';\n    } else {\n      theme = 'light';\n      setStyle(lightStyle);\n    }\n  };\n\n  const getSchema = function () {\n    let yashe = Editor.getInstance().getYashe();\n\n    if (yashe) {\n      return yashe.getValue();\n    }\n\n    return '';\n  };\n\n  const visualize = function () {\n    let bodyFormData = new FormData();\n    bodyFormData.set('schema', getSchema());\n    bodyFormData.set('schemaFormat', 'ShExC');\n    bodyFormData.set('schemaEngine', 'SHEX');\n    axios({\n      method: 'post',\n      url: 'http://rdfshape.weso.es:8080/api/schema/visualize',\n      data: bodyFormData,\n      config: {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }\n    }).then(function (response) {\n      //handle success\n      setSvg(response.data.svg);\n    }).catch(function (response) {\n      //handle error\n      console.log(response);\n    });\n  };\n\n  return React.createElement(ShapesContext.Provider, {\n    value: {\n      shapes,\n      shapes,\n      addShape: addShape,\n      deleteShape: deleteShape,\n      replaceShapes: replaceShapes,\n      prefixes: prefixes,\n      updatePrefixes: updatePrefixes,\n      emit: emit,\n      currentStyle: style,\n      changeThemeStyle: changeThemeStyle,\n      visualize: visualize\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    assistanToggle: assistanToggle,\n    visualizeToggle: visualizeToggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"row  col\",\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"lateralNav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"col mdc-icon-button material-icons btn-info btns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"info\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"col mdc-icon-button material-icons btn-info btns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"remove_red_eye\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"col mdc-icon-button material-icons btn-info btns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"delete_outline\")), React.createElement(Collapse, {\n    isOpen: isAssistantOpen,\n    className: \"assistant col-4\",\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(AssistantComp, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  })), React.createElement(EditorComp, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  })), React.createElement(Collapse, {\n    isOpen: isVisualizeOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(VisualizeComp, {\n    svg: svg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/mistermboy/repositories/shex-author/src/App.js"],"names":["React","useState","Collapse","axios","EditorComp","AssistantComp","VisualizeComp","Nav","shexUtils","Editor","ShapesContext","createContext","App","shapes","setShapes","svg","setSvg","key","val","prefixes","setPrefixes","isAssistantOpen","setAssistantOpen","isVisualizeOpen","setVisualizeOpen","assistanToggle","visualizeToggle","darkStyle","background","color","lightStyle","style","setStyle","theme","addShape","deleteShape","shapeId","emit","visualize","replaceShapes","newShapes","updatePrefixes","newPrefixes","changeThemeStyle","getSchema","yashe","getInstance","getYashe","getValue","bodyFormData","FormData","set","method","url","data","config","headers","then","response","catch","console","log","currentStyle"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport axios from 'axios';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport EditorComp from './components/EditorComp';\nimport AssistantComp from './components/AssistantComp';\nimport VisualizeComp from  './components/VisualizeComp';\n\nimport Nav from './components/navComponents/Nav';\n\nimport shexUtils from './utils/shexUtils';\n\nimport Editor from './entities/editor';\n\n\nexport const ShapesContext = React.createContext();\n\nfunction App() {\n\n    const [shapes,setShapes] = useState([]);\n    const [svg,setSvg] = useState('');\n    const [prefixes,setPrefixes] = useState([{key:'',val:'http://example.org/'}]);\n    const [isAssistantOpen, setAssistantOpen] = useState(true);\n    const [isVisualizeOpen, setVisualizeOpen] = useState(true);\n\n    const assistanToggle = () => setAssistantOpen(!isAssistantOpen);\n    const visualizeToggle = () => setVisualizeOpen(!isVisualizeOpen);\n\n\n     const darkStyle = {\n        background: '#2B2B2B',\n        color:'white'\n    }\n\n    const lightStyle = {\n        background: '#eaf3ff',\n        color:'black'\n    }\n\n    const [style,setStyle] = useState(lightStyle);\n    let theme = 'light';\n\n    const addShape = () =>{\n      setShapes([...shapes,shexUtils.addShape(shapes)]);\n    }\n\n    const deleteShape = (shapeId) =>{\n      setShapes(shexUtils.deleteShape(shapes,shapeId,false));\n    }\n\n    const emit = ()=>{\n      shexUtils.emit(shapes);\n      visualize();\n    }\n\n    const replaceShapes = (newShapes) =>{\n      //This allows to render all the shapes when a property is updated.\n      //Best Glitch Ever\n      setShapes([]); \n      setShapes(newShapes);\n      visualize();\n    }\n\n    const updatePrefixes = (newPrefixes)=>{\n      setPrefixes(newPrefixes);\n    }\n    \n    const changeThemeStyle = () =>{\n      if(theme=='light'){//I don't know why this doesn't work with style state\n        setStyle(darkStyle);\n        theme='dark';\n      }else{\n        theme='light';\n        setStyle(lightStyle);\n      }\n    }\n\n    const getSchema = function(){\n      let yashe = Editor.getInstance().getYashe();\n      if(yashe){\n          return yashe.getValue();\n      }\n      return '';\n    }\n\n\n    const visualize = function(){\n\n        let bodyFormData = new FormData();\n        bodyFormData.set('schema', getSchema());\n        bodyFormData.set('schemaFormat', 'ShExC');\n        bodyFormData.set('schemaEngine', 'SHEX');\n\n\n        axios({\n            method: 'post',\n            url: 'http://rdfshape.weso.es:8080/api/schema/visualize',\n            data: bodyFormData,\n            config: { headers: {'Content-Type': 'multipart/form-data' }}\n        })\n        .then(function (response) {\n            //handle success\n            setSvg(response.data.svg);\n        })\n        .catch(function (response) {\n            //handle error\n            console.log(response);\n        });\n\n        \n    }\n\n\n    return (\n            \n            <ShapesContext.Provider \n                value={\n                  {\n                    shapes,shapes,\n                    addShape:addShape,\n                    deleteShape:deleteShape,\n                    replaceShapes:replaceShapes,\n                    prefixes:prefixes,\n                    updatePrefixes:updatePrefixes,\n                    emit:emit,\n                    currentStyle:style,\n                    changeThemeStyle:changeThemeStyle,\n                    visualize:visualize\n                  }\n                }>\n                \n                \n                <Nav  assistanToggle={assistanToggle} \n                      visualizeToggle={visualizeToggle}/>\n\n                <div className=\"row  col\" style={style}> \n                    <div className='lateralNav'>\n                    \n\n                      <button className=\"col mdc-icon-button material-icons btn-info btns\">\n                            info\n                        </button>\n                      <br/>\n\n                      <button className=\"col mdc-icon-button material-icons btn-info btns\">\n                            remove_red_eye\n                        </button>\n                    \n                     <br/>\n                     <button className=\"col mdc-icon-button material-icons btn-info btns\"\n                                >\n                                delete_outline\n                        </button>\n                    \n                    </div>\n                    \n                    <Collapse isOpen={isAssistantOpen} className=\"assistant col-4\" style={style}>\n                        <AssistantComp/>\n                     </Collapse> \n                    \n                    <EditorComp />\n                      \n                </div>\n              \n                <Collapse isOpen={isVisualizeOpen} >\n                  <VisualizeComp svg={svg}/>\n                </Collapse>   \n            </ShapesContext.Provider>\n          );\n                       \n           \n  \n    \n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}